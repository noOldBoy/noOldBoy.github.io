<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>è¥¿å®‰æ—…æ¸¸è®¡åˆ’</title>
      <link href="/2025/01/29/%E8%A5%BF%E5%AE%89%E6%97%85%E6%B8%B8%E8%AE%A1%E5%88%92/"/>
      <url>/2025/01/29/%E8%A5%BF%E5%AE%89%E6%97%85%E6%B8%B8%E8%AE%A1%E5%88%92/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="aa719f1b30eba476eb9681792e8db0291e9d2777830d0189e06a10fca3b5a0f3">a7da5dc90a0684c7b3fcb4bf560e83f192185eab23f6f7003efe6bdf5be765ce1f51d623b13549815c3d61be5f0a1a6ab05b78f597441408b5c8e22d887dd0033c63586d6d9cb6c211cfd5d9edfea5889c711d2f128c6c8962ea7633da9e6ff531905bb84b0dba91df7173cbfd123317172c4e7ebaca509c044eaa7b6bc25ab0a7b2d05dd14ebcd7872dc1c9772a984a9bb284923d546c3fa9a16d5f66043ffa13f5bfdff9b98ab83deba5dbe5a29378ecf2026776d2b88e69cd9185a800ef5f73faa1f76a2dbbeadf56622fe73d9d0b0ec04d3b77b35ea5b72d743f0b5d6aba6e15554661ca208a1613f7ad74ba98a02e9e0802a117d94d0eecea3d2cb83aff657f848de02008ac11229582ef5c97061b72ce221677d6e0ceabd0a2018c0f831d03574c79021608f6aecdd1cdf6446f9e0c1bb0d452e9872e8e610a6ca8e87b815f6263ea16dd6e9d66a5cf3e164fcb436ec17c71e2045e4351f17d62b56058b2f39e355fa4f4142ed20554a3ffbd1593025bc356508cc7868a947eee430ee54248c3541f2751470e303a6ae5cf4e93f5789d65e2d7bb0b737e6fda4d1d05ce3a954753c35d1f8c14df82ba799e4a5614f95cfcdb1932cbf4d6c4388e103c3e8fa78e26bc23428e8528f4f2f78503abb0036647f1218a19e090cf4d6995d44586697e856ba68df411aad1664b69ad1ea5952864b4bf312da1855cb8d21d288e765a538e36c471fd7e39fc0db5ab8d1d21ab425120280e81f15d01532dad14681f3d334b65bb784e2e4ce9f9a957621edb7e9c1a8274f3162656fdd90b5f5920d9d5a464e0d2dd196757e8c2e032a23ead798bb0ee47411f458deb407e257c24e29d380dcedefdbd645be718b9d2cd151a4fe1516444a7afd3afe722480e83d413265ae9d49e2db92a5236a93ed6dcb8d6933866da085158c7992cbf9f4d61a76e564adeccf82c83b15e493b0ee6db9fd990b9e4cf144009ff5786940d50d05ea0b0769d8d6509fd9873a0ec5428524d6fe4b0a6043f2ff43da3c2679808b53e697dfda23417b4dfed5d3bf42e547feb6ecbca86e36bc2f8b21f15b0a5d3a0f61a3d21e2eb3dc2e76c533d727d7b248ffc0e41a6a4e4ba7e27a942ea4c803d72d13986466027ad69dce7e2b967fe4995ee2dca741dc7024fab2279f34b0a4ccbdb45b45bd94311f6d99be5b25490d3660779623bf6f59c8b75265f097a60f3b1d7a60f22ef149163d1b8cb1c656eab01df1c1f82933e1a019907bc003e6d49201b2738d8cf4c155b99f1bb80801701d426bbd1fdc9fe1a6f13d22d7bf81635cc34434125541b1c722b9505493a10293e15f790bdcff14765257ba6b296a8861a73087cfe9d8b41bb67aeefe1f211ac7218b6d9ae5a774c00dbbdf861cdc984927a7c7eb48920a1b176b72fdd7edb924a7f6ece70ad96de603cfcddbb3bbeace0b221725b597efa69f577a3a5c97d0b92562b4bf4e3f6c4a2d07ddec9b7d33f1979b821780fe53093068fde918926504f649832711f1cb3ab9b6e9757d77e1b4750fc25ee0f0f1f03d312bff86769c64953d66d46de183e8b2171479de1c227ca2e3c06a65f5f4c444e92a05227a37b96940d50d5a36b856368697f74f2899b23b98ecb1666b1e6a2df45ea07c7a5a4f8fcac2b522e36e85624adbc9c5ac5a16afba2cc48b73013084120ae989fbc9c63bc06dc9de329e5c7a8539904ba9c24a7e5f5c31ac42cb247526d39a80fc9e7bbd4d8fc3a7a690eb30a135efe99c3b8cae5605f407a97777881813e2c5f561efd4d40ab8eca8ef01ff6ad181d420db4861badb80c39bb4e2562bd1330a08dee286bcf0dfc2ac945df68a53a0c3c78f1422785c59a6d3bef2cd6a618ad389d08bf03c7940a933274d4ff707545a816c32f6df5ecbf8c38f63484f172a09ddc56bc1266a08e81c785f6322e8ce3054372a780c90efc70b277a1ed7b4b07fce4186cc47df9ecdb405f586856d79f14f938e8cb5040c4c2f1dd8321747317f45944573f27b29c6f6e310fc3e0d341319fbc7df918c49b617691bb205de1d5b99d299c6426ae35946a5f1c54f0a74d2d8dd69c549e7d13e4ba0ea365ccd114f9ab8218d4f539cc15fea63e7a4c3ab81f1fd398d86e5661dea680bd2b9a5e2dcac0101f1978c8491f471e8d8fbb4911bd176245ba1ebe821ec90d485d73d6946cc9b939340516f153e4eb196f32c1584a5469252bdbb5e4cb1ba0d95602384a5d892d4960317bc69c3802ad2ee14abf555cfcd813c913ac1433d0a9bbca7e9c1e0477988c10cedc625f229bc5750355105fa737a84e5f7ed0dce4b60fd0064ba042a6b4fc5083fc8e88f64092a8cf98f3c9768a055aa560fb672119641f8bc9b5e25bfcb6082df72bc2a2b323eb997e251cfff6604aa2ecef02fc22432fdf04e79b4fd29a21984aaf57c35a83798e15491d662f652d5cd1df685202342e92cd8608d9315dae8f1e85f8d731eaafebc1c3a39b26d718db0ed3228883b6fd206a9d504ee63d7a5f792aba07f255d27f8717aaed3842b2d328670fa29b443d72ac9c6423578c482603fad897cb18f2c399d796bfa55226075417c2c6efd9dc632654bf1a636fa189ac70b62b595b5b749eb9cfa58198bf3c8b8e55d51a7489e961aedb8a9fdfc3df24b4ddcd762062fc420078a07a3d95344662dd2fd266897ed7f71573aa2da09334f96190b4be77570b585370239c21e8cc99b0654ed5382bc5ae16d8defff1fbdf268ce110e6ddf76c64a0e58916a994a73237a1a7596eaf130bd8a8149ec53368b7ff744853ef9b446fe314aabda1bd0627b9ad295d87b75fa6871b94b32b34362007ddd4e9751befffbff0b98d535885e65874483ea18438de0eec990f26577b91c27911a60a6a0743fa3ed13727c1b122c7f649cde2e28b20e56df1c0b98f70a346faafc5e2235cde3515ae3b03d4d2f43e2b55331bbdaf9ad41e9effe2e9d8d6ec8ce8151a097ab64ac8a59e46eb9496ad3847fd6cd48a16d95929290d5a2cf2b1f0c70d8a36a55e0b08a9729a6ef65dfba6ce6373f96764fa14ae8df98d56d80b524948a4e3d88dde9f3b3b3baf5e065a8e360c299ec4b3307277c77d309d069348d4e1a121390f0ccc8cc49fb4decfb6a12bc44abeb448399c8802b49009f32aa8e55690982e381466d09718e9dbbb576b97ea4311b346f7927e781bcae491976f4267749e2b3d833b60aa2cd89b0b664d379583594aa873b6420fa1920d69d6cd93a552f6f3784394073710e6e949b9e32b3912893368208fb5a77653db84212bcf20f021cc8b310ace9c139d8b47ea67ea8694ce779fd860077f33f8d5cec59892e8dd5a5bffee94ad750a84460eb53002f186a9659b89cc11436d9f171c5d6f45e837cda8416007a454d49e493f14457828e31e91023290eaf387abcb53a77dc1c992e63639d0dcb0bfd0b03d5cc6cbe7c3567290f05475448e093d26a348226e8d228372542e48f493ef37f36dd456be15d36b51b8ed0e68d67b75b9cad85e882045c4780dbc4780cbb4ca6c393d5d0b61d0bb21d6e1e749b655ed59e2a4a9839e3f229396f63cd5d5fe26f6de8f0931f9077162502dd644cadc865ab4b9ed5ae5f7dd770e3968e899b3f3818c30835a0df6e682a7de57f6acde69d865ba8bfb8f5d448ef47cbe054297547b9ad1701a22976f69eb5dcf0c3d8e85b3a7cf0a5b475c4c98b935eb1f22cc05374dd3859ceedc177b75bb3f7823aeefe60d7d63dc160dc96d8f1e414d2fdd571d0486553f8f117ebbb2133596a9dfb24dbcfe6a0bf2c4230310b70bfb28905dc800135824e50c063e739483515811e5425e9f26cae0096457626dd8f62430ba44c4319045d135b40300de5699837b8aeeb950c89481fb4ca91331f82c8e3ee4f143947d8657bb5e03a8b4f2d505fa8d63a6e4736ddf2115d7636651e20e06678b118804c3667caa41fe4cfd012f933376f5fd1111a90010e691bf83a986336930254e614cfc3d9cf0887f5645dd1a10d868ab49a279648fb03bde5b49918a5c7cca81b6f2bf51c1c9149f70d211c778c338cef00d98db93346ede84dfdf88e417b3197e57694d4d2e8aac7894eb0a529f29a585fd8e7af5d2a5cbaa73f5432773da4bd1436464e21f10198ab6928bdf702f2e1a5e791daa97418548bb3be70adb61681a2c0a0cc99d40bb80c9ce240c5b1377efdd954aaf8bcaaa3177509e61e21a1aa438173e1052115d28502c79120a7b514db21c158d8e1728ad5579dd6d9233ec55c0f169c623dfae3b04f9c8c31b7d9a4fb3d14bdee3cf6f53a1de108cb6f287fa404b9ea5ec673ac245c5005aac5108894279e731e6d3c48bc22f473be8a873ba7c2befa22d5b3194f96aa732c813e42a1e94d160a485104b5b2f6568e0eeb2347c9653826e3fadea3a2b6472041546be8e58eaed049b233b4d8fa58572fa8c3e37aef88030b484c89347f3b9e387b958a51949ef490d2233631cfcd3bb49d50a5e875537ddb6e02ef47ecdfbeb23d99155164f0411e7119dc4600be0aa43f0c5bec567ed8ad95a8012fa992a400cae99016841300c14166330da0a02a1b7ee351b3cb0d89c7034178e89e0998d9a5cc5e502c6b3bcb0d26f1f9ad378d025383495e83f5f53a0d78ea75c61b7deaf5f79193d907c3f4d3880ea747f2e4dcc31734e262a0ea4377e60b9454af0ff4eb0d19f043e26f83fe09d5123c9271cebfc7f8378d8e427579af586718241bb89bcdd90e00fb787baadc35abf29e77e50e420af4be37745eca6aba514bdf09cf7ee51b859439c9ca6444ef49af6f8e02883a52e6546a2406a3831a22ca1ada0364711547d4a6eed48fa074b</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—…æ¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>volatileä¼ªå…±äº«é—®é¢˜</title>
      <link href="/2024/09/19/volatile%E4%BC%AA%E5%85%B1%E4%BA%AB%E9%97%AE%E9%A2%98/"/>
      <url>/2024/09/19/volatile%E4%BC%AA%E5%85%B1%E4%BA%AB%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>volatileè¯¦è§£è·Ÿä¼ªå…±äº«é—®é¢˜</p><span id="more"></span><h5 id="å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªæ ¸å¿ƒç‰¹æ€§"><a href="#å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªæ ¸å¿ƒç‰¹æ€§" class="headerlink" title="å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªæ ¸å¿ƒç‰¹æ€§"></a>å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªæ ¸å¿ƒç‰¹æ€§</h5><p>åŸå­æ€§ï¼šä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œåœ¨CPUä¸­æ‰§è¡Œæ—¶ï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œä¸”åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è¢«ä»»ä½•å› ç´ æ‰“æ–­ï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ</p><p>å¯è§æ€§ï¼šå½“å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹æ”¹å˜äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³çœ‹åˆ°ä¿®æ”¹çš„å€¼</p><p>æœ‰åºæ€§ï¼šç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚JVMå­˜åœ¨æŒ‡ä»¤é‡æ’ï¼Œæ‰€ä»¥å­˜åœ¨æœ‰åºæ€§é—®é¢˜</p><h5 id="volatileè¯¦è§£"><a href="#volatileè¯¦è§£" class="headerlink" title="volatileè¯¦è§£"></a>volatileè¯¦è§£</h5><p>ä¿éšœå¯è§æ€§è·Ÿæœ‰åºæ€§ï¼Œä¸ä¿éšœåŸå­æ€§ã€‚ä½¿ç”¨<code>volatile</code>ä¿®é¥°çš„å­—æ®µ</p><h5 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h5><p>çº¿ç¨‹Bä¼‘çœ 1ç§’ï¼Œç”¨äºä¿éšœçº¿ç¨‹Aå…ˆæ‰§è¡Œã€‚çº¿ç¨‹Aè¯»åˆ°flgçš„å˜åŒ–åé€€å‡ºå¾ªç¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">volatileDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">flg</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//çº¿ç¨‹A</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (flg) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;çº¿ç¨‹Aè¯»åˆ°äº†ä¿®æ”¹  ç»“æŸ&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//çº¿ç¨‹B</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>); <span class="comment">// ç­‰å¾… 1 ç§’é’Ÿï¼Œç¡®ä¿çº¿ç¨‹Aå…ˆè¿è¡Œ</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            flg = <span class="literal">true</span>;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2024/09/19/volatile%E4%BC%AA%E5%85%B1%E4%BA%AB%E9%97%AE%E9%A2%98/image-20240919162057110-6734059.png" alt="image-20240919162057110"></p><p>è¿è¡Œåå¯ä»¥å‘ç°ï¼Œé¡¹ç›®ä¸ä¼šç»“æŸ çº¿ç¨‹Aé™·å…¥æ­»å¾ªç¯ï¼Œè¯»ä¸åˆ°çº¿ç¨‹Bçš„ä¿®æ”¹ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨<code>volatile</code>ä¿éšœçº¿ç¨‹ä¹‹å‰çš„å¯è§æ€§</p><h5 id="ä¼ªå…±äº«"><a href="#ä¼ªå…±äº«" class="headerlink" title="ä¼ªå…±äº«"></a>ä¼ªå…±äº«</h5><h6 id="ä¸€è‡´æ€§åè®®"><a href="#ä¸€è‡´æ€§åè®®" class="headerlink" title="ä¸€è‡´æ€§åè®®"></a>ä¸€è‡´æ€§åè®®</h6><p>äººä»¬è®¾è®¡äº†å„ç§æ¨¡å‹å’Œåè®®ï¼Œå¦‚MSIã€MESIã€write-onceç­‰ç­‰åè®®ï¼Œæˆ‘ä»¬ç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯MESIåè®®ã€‚ç®€å•ç†è§£å°±æ˜¯å†…å­˜ä¸­æœ‰ä¸€å—å…±äº«çš„ä¸»å­˜ï¼Œä¿®æ”¹åä¸»å­˜æŠŠä¿®æ”¹å¹¿æ’­åˆ°å„ä¸ªçº¿ç¨‹ç¼“å­˜å—ä¹‹é—´</p><h5 id="demo-1"><a href="#demo-1" class="headerlink" title="demo"></a>demo</h5><p>å°è¯•å¤šæ¬¡è¿è¡Œ volatileè·Ÿä¸åŠ çš„è¿è¡Œç»“æœ  æ¯”è¾ƒå åŠ ä¸Šå…³é”®å­—è·Ÿä¸åŠ é€Ÿåº¦ç›¸å·®50å€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Pointer</span> &#123;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">long</span> x;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">long</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CacheSharedTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        testPointer(<span class="keyword">new</span> <span class="title class_">Pointer</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testPointer</span><span class="params">(Pointer pointer)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100000000</span>; i++) &#123;</span><br><span class="line">                pointer.x++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100000000</span>; i++) &#123;</span><br><span class="line">                pointer.y++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t1.join();</span><br><span class="line">        t2.join();</span><br><span class="line"></span><br><span class="line">        System.out.println(pointer.x+<span class="string">&quot;,&quot;</span>+pointer.y);</span><br><span class="line"></span><br><span class="line">        System.out.println(System.currentTimeMillis() - start);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pointer</span> &#123;</span><br><span class="line">     <span class="type">long</span> x;</span><br><span class="line">     <span class="type">long</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€ æˆè¿™ä¸ªç°è±¡çš„åŸå› æ˜¯ï¼šä»¥<code>MESI</code>å†…å­˜ä¸€è‡´æ€§åè®®ä¸ºä¾‹ï¼Œè¡Œæ˜¯å†…å­˜çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªå†…å­˜è¡Œè¢«åˆ†ä¸ºäº†64ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªlongç±»å‹å ç”¨8ä¸ªå­—èŠ‚ã€‚æ‰€ä»¥ä¸€ä¸ªlongç±»å‹xä¸èƒ½å æ»¡ä¸€è¡Œï¼Œä»–ä¼šè·Ÿyå…±ç”¨ä¸€ä¸ªå†…å­˜è¡Œã€‚çº¿ç¨‹1ä¸­æ›´æ”¹äº†xçš„å˜é‡åï¼Œå˜é‡xå¯¹åº”çš„ç¼“å­˜è¡Œå°±ä¼šå¤±æ•ˆï¼Œçº¿ç¨‹2å°±ä¸èƒ½ç›´æ¥ä»ç¼“å­˜è¡Œä¸­ æ¥ç›´æ¥è¯»å–yï¼Œéœ€è¦å†æ¬¡ä»ä¸»å­˜åŠ è½½è¿›ç¼“å­˜ï¼Œyçš„æ›´æ”¹ä¹Ÿä¼šå½±å“xçš„ä½¿ç”¨ï¼Œå°±é€ æˆäº†å˜é‡xå’Œyç›¸äº’å½±å“çš„æƒ…å†µï¼Œå°±å¯¼è‡´äº†å¼‚å¸¸è€—æ—¶ã€‚</p><h6 id="è§£å†³æ–¹å¼"><a href="#è§£å†³æ–¹å¼" class="headerlink" title="è§£å†³æ–¹å¼"></a>è§£å†³æ–¹å¼</h6><p>@Contendedå¯ä»¥ä½œç”¨äºç±»ä¸Šï¼Œä¹Ÿå¯ä»¥ä½œç”¨äºå˜é‡ä¸Šã€‚å®ƒä¹Ÿæ˜¯é€šè¿‡å¡«å……ç¼“å­˜è¡Œæ¥é¿å…ä¼ªå…±äº«</p><p>å æ»¡ä¸€ä¸ªå†…å­˜è¡Œ</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> volatile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jdk17</title>
      <link href="/2024/09/03/jdk17/"/>
      <url>/2024/09/03/jdk17/</url>
      
        <content type="html"><![CDATA[<p>jdk8 - jdk17çš„ä¸€äº›æ–°è¯­æ³•</p><span id="more"></span><h5 id="switchè¡¨è¾¾å¼"><a href="#switchè¡¨è¾¾å¼" class="headerlink" title="switchè¡¨è¾¾å¼"></a>switchè¡¨è¾¾å¼</h5><p>ä¸»è¦å˜åŒ–</p><ul><li>å¯ä»¥æ¥æ”¶è¿”å›å€¼</li><li>æ”¯æŒäº†lambdaè¡¨è¾¾å¼</li><li><code>yield</code>ä½œä¸ºè¿”å›çš„å…³é”®å­—</li><li>æ¨¡å¼åŒ¹é…å³ç±»å‹åŒ¹é…æ¨æ–­</li><li>ä¾¿ç­¾ç»„åˆ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">       <span class="comment">// ä¹‹å‰çš„switchè¯­æ³•</span></span><br><span class="line">       <span class="keyword">switch</span> (a) &#123;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">               System.out.println(<span class="string">&quot;è¾“å…¥0&quot;</span>);</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">               System.out.println(<span class="string">&quot;è¾“å…¥1&quot;</span>);</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">default</span>:</span><br><span class="line">               System.out.println(<span class="string">&quot;ä¸åˆæ³•çš„è¾“å…¥&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// jdk17 switch</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">switch</span> (a) &#123;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span> -&gt; &#123;</span><br><span class="line">               <span class="keyword">yield</span> <span class="string">&quot;è¾“å…¥&quot;</span> + a;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">default</span> -&gt; &#123;</span><br><span class="line">               <span class="keyword">yield</span> <span class="string">&quot;ä¸åˆæ³•è¾“å…¥&quot;</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h5 id="æ–‡æœ¬å—"><a href="#æ–‡æœ¬å—" class="headerlink" title="æ–‡æœ¬å—"></a>æ–‡æœ¬å—</h5><p>ä¸‰ä¸ªåŒå¼•å·å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–‡æœ¬å—ï¼Œç»“æŸçš„ä¸‰ä¸ªåŒå¼•å·ä¸èƒ½å’Œå¼€å§‹çš„åœ¨åŒä¸€è¡Œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—§ç‰ˆæœ¬jsonå­—ç¬¦ä¸²</span></span><br><span class="line">     <span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> <span class="string">&quot;&#123;\n&quot;</span> +</span><br><span class="line">             <span class="string">&quot;  \&quot;name\&quot;: \&quot;æç™½\&quot;,\n&quot;</span> +</span><br><span class="line">             <span class="string">&quot;  \&quot;age\&quot;: 18,\n&quot;</span> +</span><br><span class="line">             <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="comment">// æ–‡æœ¬å—</span></span><br><span class="line">     <span class="type">String</span> <span class="variable">text2</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">             &#123;</span></span><br><span class="line"><span class="string">                 &quot;name&quot;: &quot;æç™½&quot;,</span></span><br><span class="line"><span class="string">                 &quot;age&quot; : 32</span></span><br><span class="line"><span class="string">             &#125;</span></span><br><span class="line"><span class="string">             &quot;&quot;&quot;</span>;</span><br><span class="line">     System.out.println(text2);</span><br></pre></td></tr></table></figure><h5 id="instanceofæ¨¡å¼åŒ¹é…"><a href="#instanceofæ¨¡å¼åŒ¹é…" class="headerlink" title="instanceofæ¨¡å¼åŒ¹é…"></a>instanceofæ¨¡å¼åŒ¹é…</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">//è€ç‰ˆæœ¬</span></span><br><span class="line">       <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">           <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String) obj;</span><br><span class="line">           System.out.println(str);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//jdk17</span></span><br><span class="line">       <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String str) &#123;</span><br><span class="line">           System.out.println(str);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h5 id="æ–°çš„åƒåœ¾æ”¶é›†å™¨"><a href="#æ–°çš„åƒåœ¾æ”¶é›†å™¨" class="headerlink" title="æ–°çš„åƒåœ¾æ”¶é›†å™¨"></a>æ–°çš„åƒåœ¾æ”¶é›†å™¨</h5><p>ZGCåƒåœ¾æ”¶é›†å™¨ &amp; Shenandoah</p><h5 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥ä»»åŠ¡ç¼–æ’</title>
      <link href="/2024/07/27/%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E7%BC%96%E6%8E%92/"/>
      <url>/2024/07/27/%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E7%BC%96%E6%8E%92/</url>
      
        <content type="html"><![CDATA[<p>CompletableFutureå¼‚æ­¥ä»»åŠ¡ç¼–æ’</p><span id="more"></span><h4 id="Callable"><a href="#Callable" class="headerlink" title="Callable"></a><strong>Callable</strong></h4><p>çº¿ç¨‹åˆ›å»ºçš„å‡ ç§æ–¹å¼ï¼Œç»§æ‰¿<code>Thread</code>ç±»ï¼Œå®ç°<code>Callable</code>æ¥å£æˆ–<code>Runnable</code>æ¥å£ã€‚åªæœ‰<code>Callable</code>æ¥å£æ”¯æŒè¿”å›å€¼ï¼Œå¯ä»¥æ‹¿åˆ°çº¿ç¨‹çš„çŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯çº¿ç¨‹å¼‚æ­¥ä»»åŠ¡ç¼–æ’çš„åŸºç¡€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CallableDemo</span> <span class="keyword">implements</span> <span class="title class_">Callable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;çº¿ç¨‹æ‰§è¡Œæ‰§è¡Œ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Thread.currentThread().getName() + <span class="string">&quot;over&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">        <span class="type">CallableDemo</span> <span class="variable">callableDemo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CallableDemo</span>();</span><br><span class="line">        FutureTask&lt;CallableDemo&gt; callableDemoFutureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;CallableDemo&gt;(callableDemo);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(callableDemoFutureTask).start();</span><br><span class="line">        System.out.println(callableDemoFutureTask.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶å¯ä»¥æ‹¿åˆ°è¿”å›å€¼ï¼Œä½†æ˜¯è¦ä½¿ç”¨è¿™ä¸ªå»æ“ä½œçº¿ç¨‹çš„å¯åœã€‚è¿˜æ˜¯å¾ˆéº»çƒ¦çš„</p><h4 id="CompletableFuture"><a href="#CompletableFuture" class="headerlink" title="CompletableFuture"></a>CompletableFuture</h4><p><code>CompletableFuture</code> æ˜¯ Java 8 å¼•å…¥çš„ï¼Œç”¨äºæ”¯æŒå¼‚æ­¥ç¼–ç¨‹çš„ç±»ã€‚å®ƒå…è®¸ä½ ç¼–æ’å¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶å¤„ç†ç»“æœæˆ–å¼‚å¸¸ã€‚</p><p><code>CompletableFuture</code>å®ç°äº†<code>Future</code>æ¥å£ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸°å¯Œçš„æ‰©å±•ï¼Œå®Œç¾å¼¥è¡¥äº†<code>Future</code>çš„å±€é™æ€§ï¼Œ<strong>åŒæ—¶<code>CompletableFuture</code>å®ç°äº†å¯¹ä»»åŠ¡ç¼–æ’çš„èƒ½åŠ›</strong></p><h5 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h5><p><code>runAsyncm</code>æ²¡æœ‰è¿”å›å€¼ <code>supplyAsync</code>æœ‰è¿”å›å€¼, <code>executor</code>ç”¨æ¥æŒ‡å®šçº¿ç¨‹æ± ï¼Œä¸æŒ‡å®šä½¿ç”¨é»˜è®¤çš„çº¿ç¨‹æ± ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> CompletableFuture&lt;Void&gt; <span class="title function_">runAsync</span><span class="params">(Runnable runnable)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> CompletableFuture&lt;Void&gt; <span class="title function_">runAsync</span><span class="params">(Runnable runnable, Executor executor)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;U&gt; CompletableFuture&lt;U&gt; <span class="title function_">supplyAsync</span><span class="params">(Supplier&lt;U&gt; supplier)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;U&gt; CompletableFuture&lt;U&gt; <span class="title function_">supplyAsync</span><span class="params">(Supplier&lt;U&gt; supplier, Executor executor)</span></span><br></pre></td></tr></table></figure><h5 id="è·å–ç»“æœ"><a href="#è·å–ç»“æœ" class="headerlink" title="è·å–ç»“æœ"></a>è·å–ç»“æœ</h5><p>join()å’Œget()æ–¹æ³•éƒ½æ˜¯ç”¨æ¥è·å–CompletableFutureå¼‚æ­¥ä¹‹åçš„è¿”å›å€¼ã€‚</p><h6 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h6><ul><li>**<code>get()</code>**ï¼šåœ¨è·å–ç»“æœæ—¶ï¼Œå¦‚æœä»»åŠ¡ä»¥å¼‚å¸¸ç»“æŸï¼Œ<code>get()</code> ä¼šæŠ›å‡º <code>ExecutionException</code>ï¼Œéœ€è¦é¢å¤–å¤„ç†ã€‚</li><li>**<code>join()</code>**ï¼šåœ¨è·å–ç»“æœæ—¶ï¼Œå¦‚æœä»»åŠ¡ä»¥å¼‚å¸¸ç»“æŸï¼Œ<code>join()</code> ä¼šæŠ›å‡º <code>CompletionException</code>ï¼Œæ›´ç®€å•åœ°å°è£…äº†å¼‚å¸¸ã€‚</li></ul><h6 id="é˜»å¡è¡Œä¸º"><a href="#é˜»å¡è¡Œä¸º" class="headerlink" title="é˜»å¡è¡Œä¸º"></a>é˜»å¡è¡Œä¸º</h6><ul><li>ä¸¤è€…éƒ½å°†é˜»å¡è°ƒç”¨çº¿ç¨‹ï¼Œç›´åˆ°ç»“æœå¯ç”¨ï¼Œä½† <code>get()</code> å¯ä»¥æŒ‡å®šè¶…æ—¶æ—¶é—´ï¼Œè€Œ <code>join()</code> ä¸æ”¯æŒè¶…æ—¶</li></ul><h5 id="ç»“æœå¤„ç†"><a href="#ç»“æœå¤„ç†" class="headerlink" title="ç»“æœå¤„ç†"></a>ç»“æœå¤„ç†</h5><p>æ–¹æ³•ä¸ä»¥<code>Async</code>ç»“å°¾ï¼Œæ„å‘³ç€Actionä½¿ç”¨ç›¸åŒçš„çº¿ç¨‹æ‰§è¡Œï¼Œè€Œ<code>Async</code>å¯èƒ½ä¼šä½¿ç”¨å…¶å®ƒçš„çº¿ç¨‹å»æ‰§è¡Œ(å¦‚æœä½¿ç”¨ç›¸åŒçš„çº¿ç¨‹æ± ï¼Œä¹Ÿå¯èƒ½ä¼šè¢«åŒä¸€ä¸ªçº¿ç¨‹é€‰ä¸­æ‰§è¡Œ)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> CompletableFuture&lt;T&gt; <span class="title function_">whenComplete</span><span class="params">(BiConsumer&lt;? <span class="built_in">super</span> T,? <span class="built_in">super</span> Throwable&gt; action)</span></span><br><span class="line"><span class="keyword">public</span> CompletableFuture&lt;T&gt; <span class="title function_">whenCompleteAsync</span><span class="params">(BiConsumer&lt;? <span class="built_in">super</span> T,? <span class="built_in">super</span> Throwable&gt; action)</span></span><br><span class="line"><span class="keyword">public</span> CompletableFuture&lt;T&gt; <span class="title function_">whenCompleteAsync</span><span class="params">(BiConsumer&lt;? <span class="built_in">super</span> T,? <span class="built_in">super</span> Throwable&gt; action, Executor executor)</span></span><br></pre></td></tr></table></figure><h6 id="å¼‚å¸¸ç»“æœå¤„ç†"><a href="#å¼‚å¸¸ç»“æœå¤„ç†" class="headerlink" title="å¼‚å¸¸ç»“æœå¤„ç†"></a>å¼‚å¸¸ç»“æœå¤„ç†</h6><p><code>exceptionally</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„<code>CompletableFuture</code>ï¼Œå½“å‰é¢çš„<code>CompletableFuture</code>å®Œæˆæ—¶ï¼Œå®ƒä¹Ÿå®Œæˆï¼Œå½“å®ƒå¼‚å¸¸å®Œæˆæ—¶ï¼Œç»™å®šå‡½æ•°çš„å¼‚å¸¸è§¦å‘è¿™ä¸ª<code>CompletableFuture</code>çš„å®Œæˆ</p><h5 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h5><p>æƒ³èµ·äº†å°æ—¶å€™åšçš„æ•°å­¦é¢˜ï¼Œç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªã€‚å°è¯•ç”¨ç¨‹åºçš„æ–¹å¼å»è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ï¼ˆæ—¶é—´ä¼šç¼©çŸ­åˆ°ç§’ï¼‰</p><p><strong>é¢˜ç›®ï¼š</strong> å°æ˜ä»Šå¤©æœ‰å¾ˆå¤šå®¶åŠ¡éœ€è¦åšï¼Œä»»åŠ¡å¦‚ä¸‹ï¼š</p><ul><li>åšé¥­éœ€è¦ 40 åˆ†é’Ÿ</li><li>æ´—è¡£æœéœ€è¦ 30 åˆ†é’Ÿ</li><li>æ´—ç¢—éœ€è¦ 10 åˆ†é’Ÿï¼Œä½†å¿…é¡»åœ¨åšé¥­å®Œæˆåæ‰èƒ½è¿›è¡Œ</li><li>æ‹–åœ°éœ€è¦ 20 åˆ†é’Ÿï¼Œä½†å¿…é¡»åœ¨æ´—è¡£æœå®Œæˆåæ‰èƒ½è¿›è¡Œ</li><li>å–‚çŒ«éœ€è¦ 5 åˆ†é’Ÿï¼Œå¯ä»¥éšæ—¶åš</li></ul><p>è¯·é—®å°æ˜æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´æ‰èƒ½å®Œæˆæ‰€æœ‰ä»»åŠ¡ï¼Ÿ</p><p><strong>ç­”ï¼š</strong>ğŸ¤©</p><h6 id="æ¨¡æ‹Ÿåœºæ™¯"><a href="#æ¨¡æ‹Ÿåœºæ™¯" class="headerlink" title="æ¨¡æ‹Ÿåœºæ™¯"></a>æ¨¡æ‹Ÿåœºæ™¯</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HouseholdTasks</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åšé¥­æ–¹æ³•ï¼Œé˜»å¡æ¨¡æ‹Ÿ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cook</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹åšé¥­...&quot;</span>);</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿåšé¥­æ—¶é—´è¾ƒé•¿ï¼Œé˜»å¡ä¸€ä¼šå„¿ï¼Œæ¯”å¦‚4000æ¯«ç§’</span></span><br><span class="line">        Thread.sleep(<span class="number">4000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;åšé¥­å®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ´—è¡£æœæ–¹æ³•ï¼Œé˜»å¡æ¨¡æ‹Ÿ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">washClothes</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹æ´—è¡£æœ...&quot;</span>);</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿæ´—è¡£æœæ—¶é—´è¾ƒé•¿ï¼Œé˜»å¡ä¸€ä¼šå„¿ï¼Œæ¯”å¦‚3000æ¯«ç§’</span></span><br><span class="line">        Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ´—è¡£æœå®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ´—ç¢—æ–¹æ³•ï¼Œä¾èµ–äºåšé¥­å®Œæˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">washDishes</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹æ´—ç¢—...&quot;</span>);</span><br><span class="line">        <span class="comment">// æ´—ç¢—ä¾èµ–äºåšé¥­å®Œæˆï¼Œé˜»å¡æ¨¡æ‹Ÿ</span></span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ´—ç¢—å®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹–åœ°æ–¹æ³•ï¼Œä¾èµ–äºæ´—è¡£æœå®Œæˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mopFloor</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹æ‹–åœ°...&quot;</span>);</span><br><span class="line">        <span class="comment">// æ‹–åœ°ä¾èµ–äºæ´—è¡£æœå®Œæˆï¼Œé˜»å¡æ¨¡æ‹Ÿ</span></span><br><span class="line">        Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‹–åœ°å®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–‚çŒ«æ–¹æ³•ï¼Œå¯ä»¥éšæ—¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">feedCat</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹å–‚çŒ«...&quot;</span>);</span><br><span class="line">        <span class="comment">// å–‚çŒ«å¯ä»¥éšæ—¶è¿›è¡Œï¼Œé˜»å¡æ¨¡æ‹Ÿ</span></span><br><span class="line">        Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å–‚çŒ«å®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è§£ç­”æ€è·¯ï¼š</strong></p><ol><li>åšé¥­å’Œæ´—è¡£æœå¯ä»¥åŒæ—¶è¿›è¡Œï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ä¾èµ–å…³ç³»ã€‚ä¸¤é¡¹åŒæ—¶è¿›è¡Œéœ€è¦ 40 åˆ†é’Ÿï¼ˆå› ä¸ºåšé¥­æ›´æ…¢ï¼‰ã€‚</li><li>åšé¥­ç»“æŸåï¼Œæ‰èƒ½æ´—ç¢—ï¼Œæ´—ç¢—éœ€è¦ 10 åˆ†é’Ÿã€‚</li><li>æ´—è¡£æœç»“æŸåï¼Œæ‰èƒ½æ‹–åœ°ï¼Œæ‹–åœ°éœ€è¦ 20 åˆ†é’Ÿã€‚</li><li>å–‚çŒ«å¯ä»¥éšæ—¶è¿›è¡Œï¼Œç”¨ 5 åˆ†é’Ÿå®Œæˆï¼Œä¸å½±å“å…¶ä»–ä»»åŠ¡ã€‚</li></ol><p><strong>æ€»æ—¶é—´è®¡ç®—ï¼š</strong></p><ul><li>å…ˆåšé¥­å’Œæ´—è¡£æœï¼š40 åˆ†é’Ÿï¼ˆåŒæ—¶è¿›è¡Œï¼‰</li><li>åšé¥­ç»“æŸåæ´—ç¢—ï¼š10 åˆ†é’Ÿ</li><li>æ´—è¡£æœç»“æŸåæ‹–åœ°ï¼š20 åˆ†é’Ÿ</li><li>å–‚çŒ«ï¼š5 åˆ†é’Ÿï¼ˆå¯ä»¥åœ¨40åˆ†é’Ÿå†…çš„ä»»æ„æ—¶åˆ»å®Œæˆï¼Œä¸å¢åŠ æ—¶é—´ï¼‰</li></ul><p>æ‰€ä»¥ï¼Œå°æ˜æœ€å°‘éœ€è¦çš„æ—¶é—´ä¸ºï¼š<strong>40 + 10 &#x3D; 50 åˆ†é’Ÿ</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨æˆ·è®¤è¯</title>
      <link href="/2024/07/27/%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81/"/>
      <url>/2024/07/27/%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<p>ç”¨æˆ·è®¤è¯ç›¸å…³</p><span id="more"></span><p>äº†è§£è®¤è¯æˆ‘ä»¬åº”è¯¥æ¸…æ¥šå‡ ä¸ªæœ€åŸºæœ¬çš„æ¦‚å¿µï¼š<code>cookie</code>,<code>session</code>,<code>token</code></p><h5 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h5><p> cookie æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚ æ¯ä¸ª cookie éƒ½ä¼šç»‘å®šå•ä¸€çš„åŸŸåï¼Œæ— æ³•åœ¨åˆ«çš„åŸŸåä¸‹è·å–ä½¿ç”¨ï¼Œ<strong>ä¸€çº§åŸŸåå’ŒäºŒçº§åŸŸåä¹‹é—´æ˜¯å…è®¸å…±äº«ä½¿ç”¨çš„</strong>ï¼ˆé çš„æ˜¯ domainï¼‰ã€‚</p><h6 id="å¸¸ç”¨çš„å±æ€§"><a href="#å¸¸ç”¨çš„å±æ€§" class="headerlink" title="å¸¸ç”¨çš„å±æ€§"></a>å¸¸ç”¨çš„å±æ€§</h6><table><thead><tr><th>å±æ€§</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>name=value</code></td><td>å¿…é¡»å­—æ®µï¼Œé”®å€¼å¯¹</td><td><code>JSESSIONID=ABC123</code></td><td>è¡¨ç¤ºè®¾ç½®çš„ Cookie å†…å®¹</td></tr><tr><td><code>Path</code></td><td>æŒ‡å®š Cookie æœ‰æ•ˆè·¯å¾„</td><td><code>Path=/user</code></td><td>é™å®šåœ¨å“ªäº›è·¯å¾„ä¸‹æºå¸¦ Cookie</td></tr><tr><td><code>Domain</code></td><td>æŒ‡å®š Cookie æœ‰æ•ˆçš„åŸŸå</td><td><code>Domain=example.com</code></td><td>å¯è·¨å­åŸŸå…±äº«ï¼ˆå¦‚ <code>.example.com</code>ï¼‰</td></tr><tr><td><code>Max-Age</code></td><td>æŒ‡å®š Cookie å­˜æ´»æ—¶é—´ï¼ˆç§’ï¼‰</td><td><code>Max-Age=3600</code></td><td>æ¯” <code>Expires</code> æ›´æ¨è</td></tr><tr><td><code>Expires</code></td><td>è¿‡æœŸæ—¶é—´ï¼ˆç»å¯¹æ—¶é—´ï¼‰</td><td><code>Expires=Wed, 09 Jul 2025 12:00:00 GMT</code></td><td>è€æµè§ˆå™¨æ”¯æŒï¼Œæ ¼å¼ä¸º GMT æ—¶é—´</td></tr><tr><td><code>Secure</code></td><td>åªåœ¨ HTTPS ä¸‹å‘é€</td><td><code>Secure</code></td><td>æå‡å®‰å…¨æ€§</td></tr><tr><td><code>HttpOnly</code></td><td>ç¦æ­¢ JS è®¿é—® Cookie</td><td><code>HttpOnly</code></td><td>é˜²æ­¢ XSS æ”»å‡»</td></tr><tr><td><code>SameSite</code></td><td>é˜²æ­¢ CSRF æ”»å‡»çš„ç­–ç•¥</td><td><code>SameSite=Lax</code> &#x2F; <code>Strict</code> &#x2F; <code>None</code></td><td>æ§åˆ¶è·¨ç«™è¯·æ±‚æ—¶æ˜¯å¦å‘é€ Cookie</td></tr></tbody></table><h5 id="session"><a href="#session" class="headerlink" title="session"></a>session</h5><ul><li><strong>session æ˜¯å¦ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶</strong></li><li><strong>session æ˜¯åŸºäº cookie å®ç°çš„ï¼Œsession å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ŒsessionId ä¼šè¢«å­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„cookie ä¸­</strong></li></ul><h6 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h6><table><thead><tr><th>æ–¹æ³•å</th><th>è¿”å›ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>getCreationTime()</code></td><td><code>long</code></td><td>è¿”å› Session åˆ›å»ºæ—¶é—´ï¼ˆæ¯«ç§’æ—¶é—´æˆ³ï¼‰</td></tr><tr><td><code>getId()</code></td><td><code>String</code></td><td>è·å– Session çš„å”¯ä¸€æ ‡è¯† IDï¼ˆå°±æ˜¯ Cookie ä¸­çš„ <code>JSESSIONID</code>ï¼‰</td></tr><tr><td><code>getLastAccessedTime()</code></td><td><code>long</code></td><td>æœ€åä¸€æ¬¡è®¿é—®è¯¥ Session çš„æ—¶é—´ï¼ˆç”¨äºè®¡ç®—æ˜¯å¦è¿‡æœŸï¼‰</td></tr><tr><td><code>getServletContext()</code></td><td><code>ServletContext</code></td><td>è·å–å½“å‰ Web åº”ç”¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆå…¨å±€å…±äº«ï¼‰</td></tr><tr><td><code>setMaxInactiveInterval(int seconds)</code></td><td><code>void</code></td><td>è®¾ç½® Session è¶…æ—¶æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰</td></tr><tr><td><code>getMaxInactiveInterval()</code></td><td><code>int</code></td><td>è·å–å½“å‰ Session çš„æœ€å¤§ä¸æ´»è·ƒæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰</td></tr><tr><td><code>getAttribute(String name)</code></td><td><code>Object</code></td><td>æ ¹æ® key è·å– session ä¸­çš„å€¼ï¼ˆå¼ºè½¬åä½¿ç”¨ï¼‰</td></tr><tr><td><code>getAttributeNames()</code></td><td><code>Enumeration&lt;String&gt;</code></td><td>è·å–æ‰€æœ‰ attribute çš„ key åç§°ï¼ˆç”¨äºéå†ï¼‰</td></tr><tr><td><code>setAttribute(String name, Object value)</code></td><td><code>void</code></td><td>è®¾ç½®ä¸€ä¸ª Session å±æ€§ï¼ˆkey-valueï¼‰</td></tr><tr><td><code>removeAttribute(String name)</code></td><td><code>void</code></td><td>åˆ é™¤æŒ‡å®šçš„ Session å±æ€§</td></tr><tr><td><code>invalidate()</code></td><td><code>void</code></td><td>ç«‹å³é”€æ¯å½“å‰ Sessionï¼ˆä¼šæ¸…é™¤æ‰€æœ‰å±æ€§ï¼‰</td></tr><tr><td><code>isNew()</code></td><td><code>boolean</code></td><td>åˆ¤æ–­å½“å‰ Session æ˜¯å¦æ˜¯æ–°åˆ›å»ºçš„</td></tr></tbody></table><h5 id="demoï¼ˆcookie-sessionï¼‰"><a href="#demoï¼ˆcookie-sessionï¼‰" class="headerlink" title="demoï¼ˆcookie,sessionï¼‰"></a>demoï¼ˆ<code>cookie</code>,<code>session</code>ï¼‰</h5><h2 id="ä¸€ã€è·¨åŸŸè®¤è¯çš„é—®é¢˜"><a href="#ä¸€ã€è·¨åŸŸè®¤è¯çš„é—®é¢˜" class="headerlink" title="ä¸€ã€è·¨åŸŸè®¤è¯çš„é—®é¢˜"></a>ä¸€ã€è·¨åŸŸè®¤è¯çš„é—®é¢˜</h2><p>äº’è”ç½‘æœåŠ¡ç¦»ä¸å¼€ç”¨æˆ·è®¤è¯ã€‚ä¸€èˆ¬æµç¨‹æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p><blockquote><p>1ã€ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ã€‚</p><p>2ã€æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼Œåœ¨å½“å‰å¯¹è¯ï¼ˆsessionï¼‰é‡Œé¢ä¿å­˜ç›¸å…³æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²ã€ç™»å½•æ—¶é—´ç­‰ç­‰ã€‚</p><p>3ã€æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ª session_idï¼Œå†™å…¥ç”¨æˆ·çš„ Cookieã€‚</p><p>4ã€ç”¨æˆ·éšåçš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡ Cookieï¼Œå°† session_id ä¼ å›æœåŠ¡å™¨ã€‚</p><p>5ã€æœåŠ¡å™¨æ”¶åˆ° session_idï¼Œæ‰¾åˆ°å‰æœŸä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·çš„èº«ä»½ã€‚</p></blockquote><p>è¿™ç§æ¨¡å¼çš„é—®é¢˜åœ¨äºï¼Œæ‰©å±•æ€§ï¼ˆscalingï¼‰ä¸å¥½ã€‚å•æœºå½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼Œæˆ–è€…æ˜¯è·¨åŸŸçš„æœåŠ¡å¯¼å‘æ¶æ„ï¼Œå°±è¦æ±‚ session æ•°æ®å…±äº«ï¼Œæ¯å°æœåŠ¡å™¨éƒ½èƒ½å¤Ÿè¯»å– sessionã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼ŒA ç½‘ç«™å’Œ B ç½‘ç«™æ˜¯åŒä¸€å®¶å…¬å¸çš„å…³è”æœåŠ¡ã€‚ç°åœ¨è¦æ±‚ï¼Œç”¨æˆ·åªè¦åœ¨å…¶ä¸­ä¸€ä¸ªç½‘ç«™ç™»å½•ï¼Œå†è®¿é—®å¦ä¸€ä¸ªç½‘ç«™å°±ä¼šè‡ªåŠ¨ç™»å½•ï¼Œè¯·é—®æ€ä¹ˆå®ç°ï¼Ÿ</p><p>ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ session æ•°æ®æŒä¹…åŒ–ï¼Œå†™å…¥æ•°æ®åº“æˆ–åˆ«çš„æŒä¹…å±‚ã€‚å„ç§æœåŠ¡æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å‘æŒä¹…å±‚è¯·æ±‚æ•°æ®ã€‚è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯æ¶æ„æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯å·¥ç¨‹é‡æ¯”è¾ƒå¤§ã€‚å¦å¤–ï¼ŒæŒä¹…å±‚ä¸‡ä¸€æŒ‚äº†ï¼Œå°±ä¼šå•ç‚¹å¤±è´¥ã€‚</p><p>å¦ä¸€ç§æ–¹æ¡ˆæ˜¯æœåŠ¡å™¨ç´¢æ€§ä¸ä¿å­˜ session æ•°æ®äº†ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å‘å›æœåŠ¡å™¨ã€‚JWT å°±æ˜¯è¿™ç§æ–¹æ¡ˆçš„ä¸€ä¸ªä»£è¡¨ã€‚</p><h2 id="äºŒã€JWT-çš„åŸç†"><a href="#äºŒã€JWT-çš„åŸç†" class="headerlink" title="äºŒã€JWT çš„åŸç†"></a>äºŒã€JWT çš„åŸç†</h2><p>JWT çš„åŸç†æ˜¯ï¼ŒæœåŠ¡å™¨è®¤è¯ä»¥åï¼Œç”Ÿæˆä¸€ä¸ª JSON å¯¹è±¡ï¼Œå‘å›ç»™ç”¨æˆ·ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;å§“å&quot;</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">  <span class="string">&quot;è§’è‰²&quot;</span>: <span class="string">&quot;ç®¡ç†å‘˜&quot;</span>,</span><br><span class="line">  <span class="string">&quot;åˆ°æœŸæ—¶é—´&quot;</span>: <span class="string">&quot;2018å¹´7æœˆ1æ—¥0ç‚¹0åˆ†&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>ä»¥åï¼Œç”¨æˆ·ä¸æœåŠ¡ç«¯é€šä¿¡çš„æ—¶å€™ï¼Œéƒ½è¦å‘å›è¿™ä¸ª JSON å¯¹è±¡ã€‚æœåŠ¡å™¨å®Œå…¨åªé è¿™ä¸ªå¯¹è±¡è®¤å®šç”¨æˆ·èº«ä»½ã€‚ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®ï¼ŒæœåŠ¡å™¨åœ¨ç”Ÿæˆè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šåŠ ä¸Šç­¾åï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</p><p>æœåŠ¡å™¨å°±ä¸ä¿å­˜ä»»ä½• session æ•°æ®äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨å˜æˆæ— çŠ¶æ€äº†ï¼Œä»è€Œæ¯”è¾ƒå®¹æ˜“å®ç°æ‰©å±•ã€‚</p><h2 id="ä¸‰ã€JWT-çš„æ•°æ®ç»“æ„"><a href="#ä¸‰ã€JWT-çš„æ•°æ®ç»“æ„" class="headerlink" title="ä¸‰ã€JWT çš„æ•°æ®ç»“æ„"></a>ä¸‰ã€JWT çš„æ•°æ®ç»“æ„</h2><p>å®é™…çš„ JWT å¤§æ¦‚å°±åƒä¸‹é¢è¿™æ ·ã€‚</p><p><img src="https://cdn.beekka.com/blogimg/asset/201807/bg2018072304.jpg" alt="img"></p><p>å®ƒæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œä¸­é—´ç”¨ç‚¹ï¼ˆ<code>.</code>ï¼‰åˆ†éš”æˆä¸‰ä¸ªéƒ¨åˆ†ã€‚æ³¨æ„ï¼ŒJWT å†…éƒ¨æ˜¯æ²¡æœ‰æ¢è¡Œçš„ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ä¾¿äºå±•ç¤ºï¼Œå°†å®ƒå†™æˆäº†å‡ è¡Œã€‚</p><p>JWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚</p><blockquote><ul><li>Headerï¼ˆå¤´éƒ¨ï¼‰</li><li>Payloadï¼ˆè´Ÿè½½ï¼‰</li><li>Signatureï¼ˆç­¾åï¼‰</li></ul></blockquote><p>å†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Header</span>.<span class="property">Payload</span>.<span class="property">Signature</span></span><br></pre></td></tr></table></figure></blockquote><p><img src="https://cdn.beekka.com/blogimg/asset/201807/bg2018072303.jpg" alt="img"></p><p>ä¸‹é¢ä¾æ¬¡ä»‹ç»è¿™ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><h3 id="3-1-Header"><a href="#3-1-Header" class="headerlink" title="3.1 Header"></a>3.1 Header</h3><p>Header éƒ¨åˆ†æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œæè¿° JWT çš„å…ƒæ•°æ®ï¼Œé€šå¸¸æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;alg&quot;</span>: <span class="string">&quot;HS256&quot;</span>,</span><br><span class="line">  <span class="string">&quot;typ&quot;</span>: <span class="string">&quot;JWT&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>alg</code>å±æ€§è¡¨ç¤ºç­¾åçš„ç®—æ³•ï¼ˆalgorithmï¼‰ï¼Œé»˜è®¤æ˜¯ HMAC SHA256ï¼ˆå†™æˆ HS256ï¼‰ï¼›<code>typ</code>å±æ€§è¡¨ç¤ºè¿™ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰çš„ç±»å‹ï¼ˆtypeï¼‰ï¼ŒJWT ä»¤ç‰Œç»Ÿä¸€å†™ä¸º<code>JWT</code>ã€‚</p><p>æœ€åï¼Œå°†ä¸Šé¢çš„ JSON å¯¹è±¡ä½¿ç”¨ Base64URL ç®—æ³•ï¼ˆè¯¦è§åæ–‡ï¼‰è½¬æˆå­—ç¬¦ä¸²ã€‚</p><h3 id="3-2-Payload"><a href="#3-2-Payload" class="headerlink" title="3.2 Payload"></a>3.2 Payload</h3><p>Payload éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚JWT è§„å®šäº†7ä¸ªå®˜æ–¹å­—æ®µï¼Œä¾›é€‰ç”¨ã€‚</p><blockquote><ul><li>iss (issuer)ï¼šç­¾å‘äºº</li><li>exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´</li><li>sub (subject)ï¼šä¸»é¢˜</li><li>aud (audience)ï¼šå—ä¼—</li><li>nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´</li><li>iat (Issued At)ï¼šç­¾å‘æ—¶é—´</li><li>jti (JWT ID)ï¼šç¼–å·</li></ul></blockquote><p>é™¤äº†å®˜æ–¹å­—æ®µï¼Œä½ è¿˜å¯ä»¥åœ¨è¿™ä¸ªéƒ¨åˆ†å®šä¹‰ç§æœ‰å­—æ®µï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;sub&quot;</span>: <span class="string">&quot;1234567890&quot;</span>,</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span>,</span><br><span class="line">  <span class="string">&quot;admin&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>æ³¨æ„ï¼ŒJWT é»˜è®¤æ˜¯ä¸åŠ å¯†çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¯»åˆ°ï¼Œæ‰€ä»¥ä¸è¦æŠŠç§˜å¯†ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªéƒ¨åˆ†ã€‚</p><p>è¿™ä¸ª JSON å¯¹è±¡ä¹Ÿè¦ä½¿ç”¨ Base64URL ç®—æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</p><h3 id="3-3-Signature"><a href="#3-3-Signature" class="headerlink" title="3.3 Signature"></a>3.3 Signature</h3><p>Signature éƒ¨åˆ†æ˜¯å¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼ˆsecretï¼‰ã€‚è¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ã€‚ç„¶åï¼Œä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯ HMAC SHA256ï¼‰ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾åã€‚</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">HMACSHA256</span>(</span><br><span class="line">  <span class="title function_">base64UrlEncode</span>(header) + <span class="string">&quot;.&quot;</span> +</span><br><span class="line">  <span class="title function_">base64UrlEncode</span>(payload),</span><br><span class="line">  secret)</span><br></pre></td></tr></table></figure></blockquote><p>ç®—å‡ºç­¾åä»¥åï¼ŒæŠŠ Headerã€Payloadã€Signature ä¸‰ä¸ªéƒ¨åˆ†æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨â€ç‚¹â€ï¼ˆ<code>.</code>ï¼‰åˆ†éš”ï¼Œå°±å¯ä»¥è¿”å›ç»™ç”¨æˆ·ã€‚</p><h3 id="3-4-Base64URL"><a href="#3-4-Base64URL" class="headerlink" title="3.4 Base64URL"></a>3.4 Base64URL</h3><p>å‰é¢æåˆ°ï¼ŒHeader å’Œ Payload ä¸²å‹åŒ–çš„ç®—æ³•æ˜¯ Base64URLã€‚è¿™ä¸ªç®—æ³•è·Ÿ Base64 ç®—æ³•åŸºæœ¬ç±»ä¼¼ï¼Œä½†æœ‰ä¸€äº›å°çš„ä¸åŒã€‚</p><p>JWT ä½œä¸ºä¸€ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œæœ‰äº›åœºåˆå¯èƒ½ä¼šæ”¾åˆ° URLï¼ˆæ¯”å¦‚ api.example.com&#x2F;?token&#x3D;xxxï¼‰ã€‚Base64 æœ‰ä¸‰ä¸ªå­—ç¬¦<code>+</code>ã€<code>/</code>å’Œ<code>=</code>ï¼Œåœ¨ URL é‡Œé¢æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œæ‰€ä»¥è¦è¢«æ›¿æ¢æ‰ï¼š<code>=</code>è¢«çœç•¥ã€<code>+</code>æ›¿æ¢æˆ<code>-</code>ï¼Œ<code>/</code>æ›¿æ¢æˆ<code>_</code> ã€‚è¿™å°±æ˜¯ Base64URL ç®—æ³•ã€‚</p><h2 id="å››ã€JWT-çš„ä½¿ç”¨æ–¹å¼"><a href="#å››ã€JWT-çš„ä½¿ç”¨æ–¹å¼" class="headerlink" title="å››ã€JWT çš„ä½¿ç”¨æ–¹å¼"></a>å››ã€JWT çš„ä½¿ç”¨æ–¹å¼</h2><p>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ JWTï¼Œå¯ä»¥å‚¨å­˜åœ¨ Cookie é‡Œé¢ï¼Œä¹Ÿå¯ä»¥å‚¨å­˜åœ¨ localStorageã€‚</p><p>æ­¤åï¼Œå®¢æˆ·ç«¯æ¯æ¬¡ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œéƒ½è¦å¸¦ä¸Šè¿™ä¸ª JWTã€‚ä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ Cookie é‡Œé¢è‡ªåŠ¨å‘é€ï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½è·¨åŸŸï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨ HTTP è¯·æ±‚çš„å¤´ä¿¡æ¯<code>Authorization</code>å­—æ®µé‡Œé¢ã€‚</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Authorization</span>: <span class="title class_">Bearer</span> &lt;token&gt;</span><br></pre></td></tr></table></figure></blockquote><p>å¦ä¸€ç§åšæ³•æ˜¯ï¼Œè·¨åŸŸçš„æ—¶å€™ï¼ŒJWT å°±æ”¾åœ¨ POST è¯·æ±‚çš„æ•°æ®ä½“é‡Œé¢ã€‚</p><h2 id="äº”ã€JWT-çš„å‡ ä¸ªç‰¹ç‚¹"><a href="#äº”ã€JWT-çš„å‡ ä¸ªç‰¹ç‚¹" class="headerlink" title="äº”ã€JWT çš„å‡ ä¸ªç‰¹ç‚¹"></a>äº”ã€JWT çš„å‡ ä¸ªç‰¹ç‚¹</h2><p>ï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚</p><p>ï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚</p><p>ï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚</p><p>ï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚</p><p>ï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</p><p>ï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> jwt </tag>
            
            <tag> token </tag>
            
            <tag> Cookie </tag>
            
            <tag> Session </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql</title>
      <link href="/2023/05/14/mysql/"/>
      <url>/2023/05/14/mysql/</url>
      
        <content type="html"><![CDATA[<p>msyql</p><span id="more"></span><h5 id="è¿›å…¥linuxdockerå®¹å™¨ä¸­çš„mysql"><a href="#è¿›å…¥linuxdockerå®¹å™¨ä¸­çš„mysql" class="headerlink" title="è¿›å…¥linuxdockerå®¹å™¨ä¸­çš„mysql"></a>è¿›å…¥linux<code>docker</code>å®¹å™¨ä¸­çš„mysql</h5><p>docker exec -it {å®¹å™¨idï½œå®¹å™¨åç§°} bash</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it d75789dff2d4 bash;</span><br><span class="line">docker exec -it mysql-test  bash;</span><br></pre></td></tr></table></figure><h5 id="ç™»é™†mysql"><a href="#ç™»é™†mysql" class="headerlink" title="ç™»é™†mysql"></a>ç™»é™†mysql</h5><p>mysql -u{ç”¨æˆ·å} -p{å¯†ç } </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>ugs <span class="operator">-</span>p990522</span><br></pre></td></tr></table></figure><h5 id="åˆ›å»ºmysqlç”¨æˆ·"><a href="#åˆ›å»ºmysqlç”¨æˆ·" class="headerlink" title="åˆ›å»ºmysqlç”¨æˆ·"></a>åˆ›å»ºmysqlç”¨æˆ·</h5><p>ç”¨æˆ·è¡¨ä½ç½®æ˜¯åœ¨å®‰è£…çš„mysqlä¸­msyqlåº“ä¸­çš„userè¡¨ä¸­ã€‚å®˜æ–¹æ¨èä½¿ç”¨<code>create user</code>må‘½ä»¤åˆ›å»ºç”¨æˆ·,è¿™å¼ è¡¨ä¸»é”®PRIMARY KEY (<code>Host</code>,<code>User</code>)ï¼Œ<code>User</code>ä¸ºç”¨æˆ·åç§°,<code>Host</code>æ˜¯ç”¨æˆ·çš„èŒƒå›´<code>%</code>è¡¨ç¤ºå…¨å±€ï¼Œ<code>localhost</code>è¡¨ç¤ºåªèƒ½åœ¨æœ¬åœ°ä½¿ç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;gs&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;990522&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;gs&#x27;</span> @<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;990522&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="/2023/05/14/mysql/image-20230514154916592.png" alt="image-20230514154916592"></p><h5 id="åˆ·æ–°æƒé™"><a href="#åˆ·æ–°æƒé™" class="headerlink" title="åˆ·æ–°æƒé™"></a>åˆ·æ–°æƒé™</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flysh privileges;</span><br></pre></td></tr></table></figure><h5 id="sqlæ‰§è¡Œè®°å½•å¼€å…³"><a href="#sqlæ‰§è¡Œè®°å½•å¼€å…³" class="headerlink" title="sqlæ‰§è¡Œè®°å½•å¼€å…³"></a>sqlæ‰§è¡Œè®°å½•å¼€å…³</h5><p>é»˜è®¤ä¸º0ä¸å¼€å¯ï¼Œ1å¼€å¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@profilin</span>ï¼›</span><br><span class="line"><span class="keyword">set</span> profiling <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h5 id="æŸ¥çœ‹å½“å‰å­˜å‚¨å¼•æ“"><a href="#æŸ¥çœ‹å½“å‰å­˜å‚¨å¼•æ“" class="headerlink" title="æŸ¥çœ‹å½“å‰å­˜å‚¨å¼•æ“"></a>æŸ¥çœ‹å½“å‰å­˜å‚¨å¼•æ“</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> enginesï¼›</span><br></pre></td></tr></table></figure><h4 id="mysqlå˜é‡"><a href="#mysqlå˜é‡" class="headerlink" title="mysqlå˜é‡"></a>mysqlå˜é‡</h4><h5 id="ç³»ç»Ÿå˜é‡"><a href="#ç³»ç»Ÿå˜é‡" class="headerlink" title="ç³»ç»Ÿå˜é‡"></a>ç³»ç»Ÿå˜é‡</h5><h6 id="å…¨å±€ç³»ç»Ÿå˜é‡"><a href="#å…¨å±€ç³»ç»Ÿå˜é‡" class="headerlink" title="å…¨å±€ç³»ç»Ÿå˜é‡"></a>å…¨å±€ç³»ç»Ÿå˜é‡</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥çœ‹å…¨éƒ¨ç³»ç»Ÿå˜é‡</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GLOBAL</span> VARIABLES;</span><br><span class="line">#ä¿®æ”¹ç³»ç»Ÿå˜é‡çš„å€¼ <span class="operator">!</span><span class="operator">!</span><span class="operator">!</span>åªé’ˆå¯¹å½“å‰æ•°æ®åº“å®ä¾‹ï¼Œæ•°æ®åº“é‡å¯å˜é‡ä¼šé‡æ–°åˆå§‹åŒ–</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> max_connections <span class="operator">=</span> <span class="number">152</span>;</span><br><span class="line"><span class="keyword">SET</span> @<span class="variable">@global</span>. max_connections <span class="operator">=</span> <span class="number">151</span>;</span><br></pre></td></tr></table></figure><h6 id="ä¼šè¯ç³»ç»Ÿå˜é‡"><a href="#ä¼šè¯ç³»ç»Ÿå˜é‡" class="headerlink" title="ä¼šè¯ç³»ç»Ÿå˜é‡"></a>ä¼šè¯ç³»ç»Ÿå˜é‡</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥çœ‹å›è¯ç³»ç»Ÿå˜é‡</span><br><span class="line"><span class="keyword">SHOW</span>  VARIABLES;</span><br><span class="line"><span class="keyword">SHOW</span> SESSION VARIABLES;</span><br><span class="line">#æ¨¡ç³ŠæŸ¥è¯¢ç³»ç»Ÿå˜é‡</span><br><span class="line"><span class="keyword">SHOW</span> SESSION VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;%activate%&#x27;</span>; </span><br><span class="line">#æŸ¥çœ‹æŸä¸€ä¸ªç³»ç»Ÿå˜é‡</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@GLOBAL</span>.admin_port;</span><br><span class="line">#ä¸å†™ä¿®é¥°ç¬¦é»˜è®¤å…ˆæŸ¥è¯¢å›è¯å†æŸ¥è¯¢å…¨å±€</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@admin_port</span>;</span><br><span class="line">#ä¿®æ”¹ä¼šè¯å˜é‡ ï¼ï¼ï¼åªä½œç”¨åœ¨å½“å‰å›è¯ï¼Œé‡æ–°è¿æ¥ä¼šé‡æ–°åˆå§‹åŒ–</span><br><span class="line"><span class="keyword">SET</span> SESSION character_set_client <span class="operator">=</span> <span class="string">&#x27;gbk&#x27;</span></span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@session</span>.character_set_client <span class="operator">=</span> <span class="string">&#x27;utf8mb4&#x27;</span>;</span><br></pre></td></tr></table></figure><h5 id="ç”¨æˆ·å˜é‡"><a href="#ç”¨æˆ·å˜é‡" class="headerlink" title="ç”¨æˆ·å˜é‡"></a>ç”¨æˆ·å˜é‡</h5><h6 id="ç”¨æˆ·å›è¯å˜é‡"><a href="#ç”¨æˆ·å›è¯å˜é‡" class="headerlink" title="ç”¨æˆ·å›è¯å˜é‡"></a>ç”¨æˆ·å›è¯å˜é‡</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#è®¾ç½®ç”¨æˆ·å˜é‡</span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@m</span> <span class="operator">=</span> <span class="number">1</span>;                                                                                        <span class="number">1</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@m2</span> :<span class="operator">=</span> <span class="number">2</span>; </span><br><span class="line"><span class="keyword">set</span> <span class="variable">@m3</span> :<span class="operator">=</span> <span class="variable">@m</span> <span class="operator">+</span> <span class="variable">@m2</span>;</span><br><span class="line">#æŸ¥è¯¢ç”¨æˆ·å˜é‡</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@m3</span>;</span><br><span class="line"># åŠ å…¥<span class="keyword">sql</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@count</span> :<span class="operator">=</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> book;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@count</span>;</span><br></pre></td></tr></table></figure><h6 id="ç”¨æˆ·å±€éƒ¨å˜é‡"><a href="#ç”¨æˆ·å±€éƒ¨å˜é‡" class="headerlink" title="ç”¨æˆ·å±€éƒ¨å˜é‡"></a>ç”¨æˆ·å±€éƒ¨å˜é‡</h6>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java8</title>
      <link href="/2023/04/17/java8/"/>
      <url>/2023/04/17/java8/</url>
      
        <content type="html"><![CDATA[<p>java8æ–°åŠ ç‰¹æ€§</p><span id="more"></span><h5 id="å‡½æ•°å¼æ¥å£"><a href="#å‡½æ•°å¼æ¥å£" class="headerlink" title="å‡½æ•°å¼æ¥å£"></a>å‡½æ•°å¼æ¥å£</h5><p>å‡½æ•°å¼æ¥å£åœ¨Javaä¸­æ˜¯æŒ‡ï¼š<strong>æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£</strong></p><h6 id="å¸¸ç”¨-çš„ä¸€äº›å‡½æ•°å¼æ¥å£"><a href="#å¸¸ç”¨-çš„ä¸€äº›å‡½æ•°å¼æ¥å£" class="headerlink" title="å¸¸ç”¨ çš„ä¸€äº›å‡½æ•°å¼æ¥å£"></a>å¸¸ç”¨ çš„ä¸€äº›å‡½æ•°å¼æ¥å£</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Consumer æ¶ˆè´¹å‹æ¥å£ æ¥å—ä¸€ä¸ªå‚æ•° ä¸”ä¸è¿”å›å€¼</span></span><br><span class="line">        Consumer&lt;String&gt; cs =  s -&gt; System.out.println(s);</span><br><span class="line">        cs.accept(<span class="string">&quot;æˆ‘çˆ±java&quot;</span>);</span><br><span class="line">        <span class="comment">// predicate  æ¥å—ä¸€ä¸ªå‚æ•°è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼  å¯ä»¥ç”¨äºæ¡ä»¶åˆ¤æ–­</span></span><br><span class="line">        Predicate&lt;String&gt; pc = s -&gt; s.length() &gt; <span class="number">4</span>;</span><br><span class="line">        System.out.println(pc.test(<span class="string">&quot;æˆ‘çˆ±java&quot;</span>));</span><br><span class="line">        <span class="comment">//Function æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæœ‰ä¸€ä¸ªè¿”å›å€¼</span></span><br><span class="line">        Function&lt;String, Integer&gt; fc = s -&gt; s.length();</span><br><span class="line">        System.out.println(fc.apply(<span class="string">&quot;æˆ‘çˆ±java&quot;</span>));</span><br><span class="line">        <span class="comment">//Supplier  ä¸æ¥å—å‚æ•°ï¼Œä½†æ˜¯è¿”å›ä¸€ä¸ªè¿”å›å€¼</span></span><br><span class="line">        Supplier&lt;String&gt; su = () -&gt; <span class="string">&quot;String str&quot;</span>;</span><br><span class="line">        System.out.println(su.get());</span><br><span class="line">        <span class="comment">//BinaryOperator æ¥å—ä¸¤ä¸ªå‚æ•° ä½†æ˜¯åªè¿”å›ä¸€ä¸ªç»“æœ</span></span><br><span class="line">        BinaryOperator&lt;String&gt; by = (a, b) -&gt; a + b;</span><br><span class="line">        System.out.println(by.apply(<span class="string">&quot;æç™½&quot;</span>, <span class="string">&quot;çˆ±java&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h6 id="è‡ªå®šä¹‰çš„å‡½æ•°å¼æ¥å£"><a href="#è‡ªå®šä¹‰çš„å‡½æ•°å¼æ¥å£" class="headerlink" title="è‡ªå®šä¹‰çš„å‡½æ•°å¼æ¥å£"></a>è‡ªå®šä¹‰çš„å‡½æ•°å¼æ¥å£</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°å¼æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FctDemo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FctDemo3Fun</span> <span class="variable">fn3</span> <span class="operator">=</span> arr -&gt; &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i : arr) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i &gt; min) &#123;</span><br><span class="line">                    min = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> min;</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(fn3.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">FctDemo3Fun</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›å¤šä¸ªæ•´æ•°ï¼Œè¿”å›å’Œ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> a intç±»å‹çš„ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ•°ç»„æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Integer <span class="title function_">add</span><span class="params">(<span class="type">int</span>[] a)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="FunctionalInterfaceæ³¨è§£"><a href="#FunctionalInterfaceæ³¨è§£" class="headerlink" title="@FunctionalInterfaceæ³¨è§£"></a><strong>@FunctionalInterfaceæ³¨è§£</strong></h6><p>è¯¥æ³¨è§£ç”¨æ¥æ£€æµ‹è¯¥æ¥å£æ˜¯å¦ä¸ºå‡½æ•°å¼æ¥å£ï¼Œè‹¥æ¥å£ä¸­æ²¡æœ‰æŠ½è±¡æ–¹æ³•æˆ–æŠ½è±¡æ–¹æ³•çš„ä¸ªæ•°å¤§äº1é‚£ä¹ˆå°±ä¼šæŠ¥é”™ï¼Œåä¹‹é€šè¿‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">a1</span> <span class="params">(String parm1)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h5><p>java8ä½¿ç”¨äº†æ–°çš„æ—¥æœŸç±»æ¥æ›¿æ¢ä¹‹å‰çš„date</p><h6 id="java-util-Dateçš„ä¸€äº›ç¼ºç‚¹"><a href="#java-util-Dateçš„ä¸€äº›ç¼ºç‚¹" class="headerlink" title="java.util.Dateçš„ä¸€äº›ç¼ºç‚¹"></a>java.util.Dateçš„ä¸€äº›ç¼ºç‚¹</h6><ul><li><p>éçº¿ç¨‹å®‰å…¨çš„ç±»</p></li><li><p>ç³Ÿç³•çš„è®¾è®¡ï¼Œæ¯æ¬¡æ‹¿åˆ°ä¸€æ•´ä¸ªæ—¶é—´ä¸²ï¼Œéœ€è¦æ‰‹åŠ¨å»å¤„ç†æ ¼å¼åŒ–æ—¥æœŸ</p></li><li><p>æ—¶åŒºé—®é¢˜æ˜¯dateæœ€å¤§æ²¡åŠæ³•è§„é¿çš„çš„ç¼ºç‚¹</p></li></ul><h6 id="LocalDateæ—¥æœŸ"><a href="#LocalDateæ—¥æœŸ" class="headerlink" title="LocalDateæ—¥æœŸ"></a>LocalDateæ—¥æœŸ</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–å½“å‰æ—¥æœŸ</span></span><br><span class="line">      <span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">      System.out.println(<span class="string">&quot;å½“å‰æ—¥æœŸï¼š&quot;</span> + today);</span><br><span class="line">      <span class="comment">//è·å–æŒ‡å®šæ—¥æœŸ</span></span><br><span class="line">      <span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> LocalDate.of(<span class="number">2024</span>, <span class="number">7</span>, <span class="number">2</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸ&quot;</span> + localDate);</span><br><span class="line">      <span class="comment">//æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸ</span></span><br><span class="line">      <span class="type">LocalDate</span> <span class="variable">parse</span> <span class="operator">=</span> LocalDate.parse(<span class="string">&quot;2024-07-02&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;å­—ç¬¦ä¸²è½¬æ¢çš„ä¸€ä¸ªæ—¥æœŸ&quot;</span> + parse);</span><br><span class="line"></span><br><span class="line">      <span class="type">LocalDate</span> <span class="variable">tomorrow</span> <span class="operator">=</span> today.plusDays(<span class="number">1</span>);</span><br><span class="line">      <span class="type">LocalDate</span> <span class="variable">nextWeek</span> <span class="operator">=</span> today.plusWeeks(<span class="number">1</span>);</span><br><span class="line">      <span class="type">LocalDate</span> <span class="variable">nextMonth</span> <span class="operator">=</span> today.plusMonths(<span class="number">1</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Tomorrow: &quot;</span> + tomorrow);</span><br><span class="line">      System.out.println(<span class="string">&quot;Next Week: &quot;</span> + nextWeek);</span><br><span class="line">      System.out.println(<span class="string">&quot;Next Month: &quot;</span> + nextMonth);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//æ—¥æœŸä¹‹é—´çš„å·®è·</span></span><br><span class="line">      <span class="type">long</span> <span class="variable">daysBetween</span> <span class="operator">=</span> ChronoUnit.DAYS.between(localDate, today);</span><br><span class="line">      System.out.println(<span class="string">&quot;Days between: &quot;</span> + daysBetween);</span><br></pre></td></tr></table></figure><h6 id="LocalTimeæ—¶é—´"><a href="#LocalTimeæ—¶é—´" class="headerlink" title="LocalTimeæ—¶é—´"></a>LocalTimeæ—¶é—´</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰æ—¶é—´</span></span><br><span class="line">       <span class="type">LocalTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalTime.now();</span><br><span class="line">       System.out.println(<span class="string">&quot;Current Time: &quot;</span> + now);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// åˆ›å»ºç‰¹å®šæ—¶é—´</span></span><br><span class="line">       <span class="type">LocalTime</span> <span class="variable">specificTime</span> <span class="operator">=</span> LocalTime.of(<span class="number">14</span>, <span class="number">30</span>, <span class="number">15</span>);</span><br><span class="line">       System.out.println(<span class="string">&quot;Specific Time: &quot;</span> + specificTime);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// æ—¶é—´è¿ç®—</span></span><br><span class="line">       <span class="type">LocalTime</span> <span class="variable">inTwoHours</span> <span class="operator">=</span> now.plusHours(<span class="number">2</span>);</span><br><span class="line">       <span class="type">LocalTime</span> <span class="variable">minusMinutes</span> <span class="operator">=</span> now.minusMinutes(<span class="number">15</span>);</span><br></pre></td></tr></table></figure><h6 id="LocalDateTime"><a href="#LocalDateTime" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        System.out.println(<span class="string">&quot;Current DateTime: &quot;</span> + now);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºç‰¹å®šæ—¥æœŸæ—¶é—´</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">specificDateTime</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2024</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">30</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Specific DateTime: &quot;</span> + specificDateTime);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ—¥æœŸæ—¶é—´è¿ç®—</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">tomorrowSameTime</span> <span class="operator">=</span> now.plusDays(<span class="number">1</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">nextMonthSameDay</span> <span class="operator">=</span> now.plusMonths(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><h6 id="Instantæ—¶é—´æˆ³"><a href="#Instantæ—¶é—´æˆ³" class="headerlink" title="Instantæ—¶é—´æˆ³"></a>Instantæ—¶é—´æˆ³</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰æ—¶é—´æˆ³</span></span><br><span class="line">      <span class="type">Instant</span> <span class="variable">now</span> <span class="operator">=</span> Instant.now();</span><br><span class="line">      System.out.println(<span class="string">&quot;Current Instant: &quot;</span> + now);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// åˆ›å»ºç‰¹å®šæ—¶é—´æˆ³</span></span><br><span class="line">      <span class="type">Instant</span> <span class="variable">epochSecond</span> <span class="operator">=</span> Instant.ofEpochSecond(<span class="number">0</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Epoch Second: &quot;</span> + epochSecond);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ—¶é—´æˆ³è¿ç®—</span></span><br><span class="line">      <span class="type">Instant</span> <span class="variable">later</span> <span class="operator">=</span> now.plusSeconds(<span class="number">3600</span>);</span><br><span class="line">      <span class="type">Duration</span> <span class="variable">duration</span> <span class="operator">=</span> Duration.between(now, later);</span><br></pre></td></tr></table></figure><h6 id="Duration-Periodæ—¶é—´ä¹‹å·®"><a href="#Duration-Periodæ—¶é—´ä¹‹å·®" class="headerlink" title="Duration&amp;Periodæ—¶é—´ä¹‹å·®"></a>Duration&amp;Periodæ—¶é—´ä¹‹å·®</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Duration: æ—¶é—´ç‚¹ä¹‹é—´çš„å·®   åˆ†</span></span><br><span class="line">       <span class="type">LocalTime</span> <span class="variable">start</span> <span class="operator">=</span> LocalTime.of(<span class="number">14</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">       <span class="type">LocalTime</span> <span class="variable">end</span> <span class="operator">=</span> LocalTime.of(<span class="number">14</span>, <span class="number">1</span>, <span class="number">50</span>);</span><br><span class="line">       <span class="type">Duration</span> <span class="variable">duration</span> <span class="operator">=</span> Duration.between(start, end);</span><br><span class="line">       System.out.println(<span class="string">&quot;Duration: &quot;</span> + duration.toMinutes() + <span class="string">&quot; minutes&quot;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// Period: æ—¥æœŸä¹‹é—´çš„å·®  å°æ—¶</span></span><br><span class="line">       <span class="type">LocalDate</span> <span class="variable">startDate</span> <span class="operator">=</span> LocalDate.of(<span class="number">2024</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">       <span class="type">LocalDate</span> <span class="variable">endDate</span> <span class="operator">=</span> LocalDate.of(<span class="number">2025</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">       <span class="type">Period</span> <span class="variable">period</span> <span class="operator">=</span> Period.between(startDate, endDate);</span><br><span class="line">       System.out.println(<span class="string">&quot;Period: &quot;</span> + period.getYears() + <span class="string">&quot; years&quot;</span>);</span><br></pre></td></tr></table></figure><h6 id="æ—¥æœŸä¹‹é—´çš„è½¬æ¢"><a href="#æ—¥æœŸä¹‹é—´çš„è½¬æ¢" class="headerlink" title="æ—¥æœŸä¹‹é—´çš„è½¬æ¢"></a>æ—¥æœŸä¹‹é—´çš„è½¬æ¢</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.LocalDate è½¬ LocalDateTime</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">now</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">dateTime</span> <span class="operator">=</span> now.atTime(LocalTime.now());</span><br><span class="line">        <span class="comment">// 2.LocalDateTime è½¬ LocalDate LocalTime</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now2</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> now2.toLocalDate();</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">localTime</span> <span class="operator">=</span> now2.toLocalTime();</span><br><span class="line">        <span class="comment">//3.LocalDateTimeè½¬æ—¶é—´æˆ³   éœ€è¦æ—¶åŒºä½œä¸ºå‚æ•°</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now3</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        <span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> now3.atZone(ZoneId.systemDefault()).toInstant();</span><br><span class="line">        <span class="comment">//4.dateè·Ÿæ–°çš„æ—¥æœŸapiä¹‹é—´çš„è½¬æ¢</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="type">Instant</span> <span class="variable">instant4</span> <span class="operator">=</span> date.toInstant();</span><br></pre></td></tr></table></figure><h5 id="Lambdaè¡¨è¾¾å¼"><a href="#Lambdaè¡¨è¾¾å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼"></a>Lambdaè¡¨è¾¾å¼</h5><p>è¢«èª‰ä¸ºJava8æœ€å¤§çš„ç‰¹æ€§ã€‚Lambda è¡¨è¾¾å¼æ–¹ä¾¿äº†å‡½æ•°å¼ç¼–ç¨‹ï¼Œå¤§å¤§ç®€åŒ–äº†å¼€å‘ã€‚Lambdaè¡¨è¾¾å¼ç”±é€—å·åˆ†éš”çš„<code>å‚æ•°åˆ—è¡¨</code>ã€<code>-&gt;ç¬¦å·</code>å’Œ<code>è¯­å¥å—</code>ä¸‰éƒ¨åˆ†ç»„æˆ ã€‚å½“åªæœ‰ä¸€ä¸ªå‚æ•°å’Œåªæœ‰ä¸€æ¡è¯­å¥çš„æ—¶å€™æ‹¬å·æ˜¯å¯ä»¥çœç•¥çš„</p><p>Lambdaè¡¨è¾¾å¼çš„ä¸»ä½“ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå•ä¸€è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä»£ç å—ã€‚å¦‚æœæ˜¯å•ä¸€è¡¨è¾¾å¼ï¼Œå¯ä»¥çœç•¥å¤§æ‹¬å·å’Œ<code>return</code>å…³é”®å­—ï¼›å¦‚æœæ˜¯ä»£ç å—ï¼Œéœ€è¦ä½¿ç”¨å¤§æ‹¬å·ï¼Œå¹¶æ˜¾å¼åœ°ä½¿ç”¨<code>return</code>è¯­å¥ï¼ˆå¦‚æœæœ‰è¿”å›å€¼ï¼‰ã€‚</p><h6 id="ç®€å•demo"><a href="#ç®€å•demo" class="headerlink" title="ç®€å•demo"></a>ç®€å•demo</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">//æ— å‚ </span></span><br><span class="line">       <span class="type">Runnable</span> <span class="variable">lm1</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;çˆ±java&quot;</span>);</span><br><span class="line">       <span class="comment">//æœ‰å‚æ•°</span></span><br><span class="line">       Consumer&lt;String&gt; lm2 = s -&gt; System.out.println(s + <span class="string">&quot;çˆ±java&quot;</span>);</span><br><span class="line">       <span class="comment">//æœ‰å¤šä¸ªå‚æ•°</span></span><br><span class="line">       BinaryOperator&lt;Integer&gt; lm3 = (a, b) -&gt; a + b;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h6 id="æ–¹æ³•-æ„é€ å™¨çš„å¼•ç”¨"><a href="#æ–¹æ³•-æ„é€ å™¨çš„å¼•ç”¨" class="headerlink" title="æ–¹æ³•&amp;æ„é€ å™¨çš„å¼•ç”¨"></a>æ–¹æ³•&amp;æ„é€ å™¨çš„å¼•ç”¨</h6><p>é€šè¿‡æ–¹æ³•çš„åå­—æ¥æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯Lambdaè¡¨è¾¾å¼çš„ä¸€ä¸ªè¯­æ³•ç³–ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">      <span class="comment">//å®ä¾‹æ–¹æ³•å¼•ç”¨</span></span><br><span class="line">      numbers.forEach(System.out::println);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h5 id="Streamæµ"><a href="#Streamæµ" class="headerlink" title="Streamæµ"></a>Streamæµ</h5><h6 id="åˆ›å»ºæµçš„ä¸‰ç§æ–¹å¼"><a href="#åˆ›å»ºæµçš„ä¸‰ç§æ–¹å¼" class="headerlink" title="åˆ›å»ºæµçš„ä¸‰ç§æ–¹å¼"></a>åˆ›å»ºæµçš„ä¸‰ç§æ–¹å¼</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡é›†åˆ</span></span><br><span class="line">    ArrayList&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    Stream&lt;Object&gt; stream = list.stream();</span><br><span class="line">    <span class="comment">//é€šè¿‡æ•°ç»„</span></span><br><span class="line">    Integer[] integers = <span class="keyword">new</span> <span class="title class_">Integer</span>[]&#123;&#125;;</span><br><span class="line">    Stream&lt;Integer&gt; stream1 = Arrays.stream(integers);</span><br><span class="line">    <span class="comment">//é™æ€æ–¹æ³•Stream.of</span></span><br><span class="line">    Stream&lt;String&gt; eqwewq = Stream.of(<span class="string">&quot;eqwewq&quot;</span>, <span class="string">&quot;qwe&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ç¤ºä¾‹ç»“æ„"><a href="#ç¤ºä¾‹ç»“æ„" class="headerlink" title="ç¤ºä¾‹ç»“æ„"></a>ç¤ºä¾‹ç»“æ„</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> List&lt;User&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">3</span>, <span class="string">&quot;æç™½&quot;</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>, <span class="string">&quot;èŠ±æœ¨å…°&quot;</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>, <span class="string">&quot;åƒå¹´ä¹‹ç‹&quot;</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>, <span class="string">&quot;å‰‘èˆè€…&quot;</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>, <span class="string">&quot;é’æ˜¥å†³èµ›å­£&quot;</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>, <span class="string">&quot;é’æ˜¥å†³èµ›å­£&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="è¿‡æ»¤filter"><a href="#è¿‡æ»¤filter" class="headerlink" title="è¿‡æ»¤filter"></a>è¿‡æ»¤filter</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;è¿‡æ»¤&quot;</span>);</span><br><span class="line">list.stream().filter(u -&gt; u.id == <span class="number">1</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure><h6 id="åˆ†é¡µlimit"><a href="#åˆ†é¡µlimit" class="headerlink" title="åˆ†é¡µlimit"></a>åˆ†é¡µlimit</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;åˆ†é¡µ&quot;</span>);</span><br><span class="line">list.stream().limit(<span class="number">2</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure><h6 id="è·³è¿‡skip"><a href="#è·³è¿‡skip" class="headerlink" title="è·³è¿‡skip"></a>è·³è¿‡skip</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;è·³è¿‡&quot;</span>);</span><br><span class="line">list.stream().skip(<span class="number">3</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure><h6 id="å»é‡distinct"><a href="#å»é‡distinct" class="headerlink" title="å»é‡distinct"></a>å»é‡distinct</h6><p>æ˜¯é€šè¿‡equalså’ŒhashCodeï¼Œæ‰€ä»¥è¦é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.stream().distinct().forEach(System.out::println);</span><br></pre></td></tr></table></figure><h6 id="ä¸­é—´æ“ä½œmap"><a href="#ä¸­é—´æ“ä½œmap" class="headerlink" title="ä¸­é—´æ“ä½œmap"></a>ä¸­é—´æ“ä½œmap</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; nameList = list.stream().map(u -&gt; u.name).collect(Collectors.toList());</span><br></pre></td></tr></table></figure><h6 id="æ’åºsorted"><a href="#æ’åºsorted" class="headerlink" title="æ’åºsorted"></a>æ’åºsorted</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//æ•°ç»„æ’åº</span><br><span class="line">        int[] ints = new int[]&#123;4, 453, 35, 6564, 75634, 3&#125;;</span><br><span class="line">        Arrays.stream(ints).sorted().forEach(System.out::println);</span><br><span class="line">        //é›†åˆä¸­çš„å¯¹è±¡æ’åº</span><br><span class="line">        list.stream().map(u -&gt; u.id).sorted(Integer :: compareTo).forEach(System.out::println);</span><br></pre></td></tr></table></figure><h6 id="åˆ¤æ–­Match"><a href="#åˆ¤æ–­Match" class="headerlink" title="åˆ¤æ–­Match"></a>åˆ¤æ–­Match</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ˜¯å¦éƒ½æ»¡è¶³æ¡ä»¶</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> list.stream().allMatch(user -&gt; user.id == <span class="number">3</span>);</span><br><span class="line">System.out.println(b);</span><br><span class="line"><span class="comment">//æ˜¯å¦æœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> list.stream().anyMatch(user -&gt; user.id == <span class="number">3</span>);</span><br><span class="line">System.out.println(b2);</span><br><span class="line"><span class="comment">//æ˜¯å¦éƒ½ä¸æ»¡è¶³</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b3</span> <span class="operator">=</span> list.stream().noneMatch(user -&gt; user.id == <span class="number">4</span>);</span><br><span class="line">System.out.println(b3);</span><br></pre></td></tr></table></figure><h6 id="è¿”å›å…ƒç´ "><a href="#è¿”å›å…ƒç´ " class="headerlink" title="è¿”å›å…ƒç´ "></a>è¿”å›å…ƒç´ </h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿”å›ç¬¬ä¸€ä¸ª</span></span><br><span class="line">System.out.println(list.stream().findFirst().get());</span><br><span class="line"><span class="comment">//è¿”å›æ•°æ®ä¸ªæ•°</span></span><br><span class="line">System.out.println(list.stream().count());</span><br><span class="line"><span class="comment">//è¿”å›æœ€å¤§å€¼</span></span><br><span class="line">System.out.println(list.stream().map(user -&gt; user.id).max(Integer::compareTo).get());</span><br><span class="line"><span class="comment">//è¿”å›æœ€å°å€¼</span></span><br><span class="line">System.out.println(list.stream().map(user -&gt; user.id).min(Integer::compareTo).get());</span><br></pre></td></tr></table></figure><h6 id="è§„çº¦"><a href="#è§„çº¦" class="headerlink" title="è§„çº¦"></a>è§„çº¦</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(list.stream().map(e -&gt; e.name).reduce((e1,e2) -&gt; e1 + e2));</span><br><span class="line">System.out.println(list.stream().map(e -&gt; e.name).reduce(<span class="string">&quot;a:&quot;</span>, (e1,e2) -&gt; e1 + e2));</span><br></pre></td></tr></table></figure><h6 id="æ”¶é›†"><a href="#æ”¶é›†" class="headerlink" title="æ”¶é›†"></a>æ”¶é›†</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, List&lt;User&gt;&gt; collect = list.stream().collect(Collectors.groupingBy(e -&gt; e.name));</span><br><span class="line">collect.keySet().forEach(System.out::println);</span><br></pre></td></tr></table></figure><h5 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h5><p>ä½¿ç”¨åœºæ™¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OptDateDemo</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Datar</span> <span class="variable">datar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Datar</span>(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">21</span>, <span class="string">&quot;æç™½&quot;</span>));</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸ç”¨æµ</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == datar || <span class="literal">null</span> == datar.getUser() || <span class="literal">null</span> == datar.getUser().getName()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> datar.getUser().getName();</span><br><span class="line">   </span><br><span class="line">        <span class="comment">// ä¼˜åŒ–å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Optional.ofNullable(datar)</span><br><span class="line">                .map(Datar::getUser)</span><br><span class="line">                .map(User::getName)</span><br><span class="line">                .orElseThrow(RuntimeException::<span class="keyword">new</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="åˆ›å»ºæ–¹å¼"><a href="#åˆ›å»ºæ–¹å¼" class="headerlink" title="åˆ›å»ºæ–¹å¼"></a>åˆ›å»ºæ–¹å¼</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼1 å‚æ•°ä¸èƒ½ä¸ºnull</span></span><br><span class="line">Optional&lt;String&gt; å‚æ•° = Optional.of(<span class="string">&quot;å‚æ•°&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼2 å‚æ•°å¯ä»¥ä¸ºnull</span></span><br><span class="line">Optional&lt;Object&gt; o = Optional.ofNullable(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼ä¸‰ åˆ›å»ºä¸€ä¸ªå‚æ•°ä¸ºnullçš„Optionalå¯¹è±¡</span></span><br><span class="line">Optional&lt;Object&gt; empty = Optional.empty();</span><br></pre></td></tr></table></figure><h6 id="åˆ¤ç©º"><a href="#åˆ¤ç©º" class="headerlink" title="åˆ¤ç©º"></a>åˆ¤ç©º</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//1. isPresent å¯¹è±¡æ˜¯å¦æ˜¯null;</span><br><span class="line">System.out.println(opt1.isPresent());</span><br><span class="line">//2.ifPresent æ”¯æŒåœ¨åˆ¤æ–­çš„æ—¶å€™æ¥å—ä¸€ä¸ªå‡½æ•° ï½œï½œ å¦‚æœä¸ä¸ºç©ºçš„è¯ åå­—æ”¹ä¸º***</span><br><span class="line">opt1.ifPresent(u -&gt; u.setName(&quot;***&quot;));</span><br></pre></td></tr></table></figure><h6 id="è·å–å¯¹è±¡"><a href="#è·å–å¯¹è±¡" class="headerlink" title="è·å–å¯¹è±¡"></a>è·å–å¯¹è±¡</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">27</span>, <span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">Optional&lt;User&gt; opt1 = Optional.ofNullable(user);</span><br><span class="line"><span class="comment">//1.get() è·å–Optionalä¸­çš„å…ƒç´  ï¼å…ƒç´ ä¸ºç©ºå›æŠ¥é”™</span></span><br><span class="line">System.out.println(opt1.get());</span><br><span class="line"><span class="comment">//2.orElseGet() å¦‚æœè·å–çš„å…ƒç´ ä¸ºç©º è¿”å›æŒ‡å®šçš„å¯¹è±¡</span></span><br><span class="line">Optional&lt;User&gt; opt2 = Optional.ofNullable(<span class="literal">null</span>);</span><br><span class="line">opt2.orElseGet(() -&gt; <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">52</span>,<span class="string">&quot;å¼ ä¸‰&quot;</span>));</span><br><span class="line"><span class="comment">//3.orElse ç±»ä¼¼äºä¸‰ç›®è¿ç®—  å¦‚æœå¯¹è±¡ä¸ºç©ºçš„æ—¶å€™è¿”å›æŒ‡å®šçš„å¯¹è±¡</span></span><br><span class="line">Optional&lt;User&gt; opt3 = Optional.ofNullable(<span class="literal">null</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> opt3.orElse(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">32</span>, <span class="string">&quot;èŠ±æœ¨å…°&quot;</span>));</span><br><span class="line">System.out.println(user1);</span><br><span class="line"><span class="comment">//4.orElseThrow  å¦‚æœä¸ºç©ºçš„è¯æŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸</span></span><br><span class="line">Optional&lt;User&gt; opt6 = Optional.ofNullable(<span class="literal">null</span>);</span><br><span class="line">opt6.orElseThrow(RuntimeException::<span class="keyword">new</span>);</span><br></pre></td></tr></table></figure><h6 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">27</span>, <span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">Optional&lt;User&gt; opt1 = Optional.ofNullable(user);</span><br><span class="line"><span class="comment">//è¿‡æ»¤åç§°ç­‰äºæç™½çš„   ä¸ä¸ºç©ºè¾“å‡ºok</span></span><br><span class="line">opt1.filter(p -&gt; p.getName().equals(<span class="string">&quot;æç™½&quot;</span>)).ifPresent(x -&gt; System.out.println(<span class="string">&quot;OK&quot;</span>));</span><br></pre></td></tr></table></figure><h6 id="æ˜ å°„"><a href="#æ˜ å°„" class="headerlink" title="æ˜ å°„"></a>æ˜ å°„</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">27</span>, <span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">     Optional&lt;User&gt; opt1 = Optional.ofNullable(user);</span><br><span class="line">     <span class="comment">//1. isPresent å¯¹è±¡æ˜¯å¦æ˜¯null;</span></span><br><span class="line">     System.out.println(opt1.isPresent());</span><br><span class="line">     <span class="comment">//2.ifPresent æ”¯æŒåœ¨åˆ¤æ–­çš„æ—¶å€™æ¥å—ä¸€ä¸ªå‡½æ•° ï½œï½œ å¦‚æœä¸ä¸ºç©ºçš„è¯ åå­—æ”¹ä¸º***</span></span><br><span class="line">     opt1.ifPresent(u -&gt; u.setName(<span class="string">&quot;***&quot;</span>));</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯­æ³•åŸºç¡€ä¸€</title>
      <link href="/2023/04/02/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/"/>
      <url>/2023/04/02/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="28efd37208f12534a00fbb92ad24c997211e99ab49d9a6d3540e21b299890451">a7da5dc90a0684c7b3fcb4bf560e83f15ccb9df7e57595c484093ef3b50c2b97e6b4822219618835791fb1cc9ba657c5f42dc210f85e5867d939d4601d1feda2528e9f06d6d195aec66468d5b8ded02d369042c363ad233d8cf548d6c843e6f515dea03d0a879c98e14613a89d9e99f1d9f4cc68e9eeda842238a93d0b70572bf96ee712e5bf298f8bcdb245485869870864072cfa7f65d4c5906742996c05b9478a8cd07fe90c173aeadb69f626af79824a10028bb0674426c2f3c25e5c2c17d8dbd15ffd837f07649b14a8a21442e920fdc3a830d7091256b14f00aebca494e829f70d34f25f9955970b4cd2388829930a54736135eb4397f36bf7f6368177089d9a54f16fca354bcfe3c05f549e5ad261fd5c612930d37c02a07a7ef72df46cab7f5ba436949cfda626ec7ee940cfc6efe372ffe43965ce247d2ada1830224244c2d90384f3c1f9236722ef8811895004ed7b834b82db64357825f85fedc7b6d6990eb7c4045620585cd44c17201c0fcba13a0c84a93956112dc11b817a16b89b261f7894696169e5f3032e8f6a9dc65b54a2e3ad425ab3b7b825fce73efb08f40dc9034fc52b5f0dc1887bcd8238557d572552b38e4e798f52d0fe17c1cf9ae6fd87d06195d7e4cd0fa6cdb815fe23686501d58f5be88125c99c1257f411241130831b7a11bd82232e9340edf5fc199662a25e89ca6519a58b7f825fa0bc25256407a3bcf8bb66f0c78adb17b52d4c673ce5cea3c795d3eacf21fc5a1db8e993feeb25517046bb03623a6a85d7a66aa5ce7d787f8d0f9cf0cc5c7f4b5f897db0c59fcfe4470183900a15839c862cd6883e291f23ccfb1efa68f572ba6696920f3720566a6ce7e4940225ab443352525e69a75690f6f21d212bf8dd66f873720c292a3bf37f809d8fa414b0a782fc6b36efd7742bbfa960d98eed274d22678144712cc57027f70dee157e504ceb33bfb24cf2f4195e1b1ec1dc7fce8e64110c8ca576e5e00747d50b002662bab446a640d36483125e3bb58ff88cb068329bf7fd1831ab616064702f3b9785d7ee97746ee192a2c874e0f527765539417784a7acfbcf4a110ef5fd5a25c531df4730c8162658d0f14839b3702ca2c2c28eef393a65888bc375babda4461fa1976f83e8013fb7cd0dc0979c9939271975c538dfc7c230f91bbc7de6a44ef649e9e050e34ad20c13837bffd17fb72c05bfd5a5ca93347be34d515293b1bfe6cd6b522bf7af288eaa8f83e392b009d02e9261caa9a73109e4148665402e1aefaae3b7e01844602c9309db094660425dc872379df787c1feba04ebaad4178c8a6634d76035f378afa07a140e5c78750ed913ec4798e49314e0409ce7f767fa7eb8e3307cb2e55a3421a4102b3d37c2f2fa08f2fd37709e1b8d3cda6dac347c7b8fa68457b39a872ddd58b6f5ea8f63702646abc8a41f3b305fcf38a7e84f8de4177f89da78c1e4ccbec37164d1cc965707a9beb7f04c0b3cc6955b70571df4dff4b04283eea0b2f8f67d5706f7156677c67a6b45f96376cd8dfcdd88ba7905c380bcedefe54e839d7860839f772fc01c49af583283d7f7dfa9941f31d2610cab7348b16d2d2d1554af3d310788ceddac81dce2c614494fcb721bd46cccf6d9c9edcd59036f5594bea6201b9c85f3afdd7dc8fa5d81a2abd9b7181f79f6dc740c5eb39b4af6bcc20da8c0c81fdff29d58f0778ae8fc2a44f001f34ad5ac93f6e70d77a74a11ed80cdd81b2887d15b976db6c9d9e5d22b2362dfc9136d705fe3c207f4f154903860876dbc0de3b5fd0d73c468bebd8d639fcf9436e9896296290b900189f2a2e28e4eb9da0abfe1dde43b19c3ab482deea7b02f04fdd2f3b3bac15ae53b9a61f8630560d99cce58629e4610a9a97b9e2d5a95a1e7cdc8255e6a8fc4f28f248f7728d44a87de531784aa895c1a4838946c8054f3ba512fcaa2c767adbaa9dc97f9a5806eeaf245ff7790cbf081f9227dc8b0db3886050f9a4664bba2bfbcde90e13b7d91ab59bb6a3bef3f837d63707392dc057f96f43b74189dd7da4ea174419286813de4ee0a177ba7e6ed9a3ce8d4868d93d34507c7dc74d775817fc7e29b4cf90055399a8f400142d0fedf7db26b9e3dca4d9af7d7e4e717ebaa51a22dfed8f2136dfffab02e645ecedba67b74a004d27cd21a9157539071456b7092f9dafc8764019a5ba3ff07ae405cd71a70f03ec0172991e2b704510ec2f6a00f0c9d2b8de0520365d15d5d76da9320b6c753dffacabe8be884e5130c1a4d2c8aed2ac87c0c8836fd7fe681d3b6aed4aebc5a842f0829ad76b7d79638e773ce0fb7ec8a334555e386e1fde2a6181bad6a36dcfd5924dae7fe25e9ca836a9cba26acacd918f0b38af8ce0c7023cde354f811e71f15d12399499626eb369d235a9c312b0a915c775003becf5486a8173ef2603039779643102eb1776b71fbd674d77b2bcb93378ab17f9c5a7d38766eac23eda3ccaea79f16baa50f2a468e97f0081ca18a6f9ffd4e9f5907f41a8d710450b43fba49b0ba15e4bd313f92340cc7846d34755a595893f95b0f783bfd35a8a925f65e4a23d57dc6ee97093302c41ea71f0727a171b7c2c282808b97c604c278d228265850d8652f1497bbf78a9019cfea677bcead8a9eea1ad979d028b68f7bf9db31cac20d2b1b4a280ebf03ecaed37f5c8a4fc64cc568d597651a8187e64f6f463986c7550576325ad43da28b22b17c6e84723119c38455e0ba8f2f28eb2c6f0ccc6d41291ab84baca282172a5ba7b2d2d4a6d64bc99f677955834310866060ef531d21e95a111f8a6a716e2c870a34a4d61afddd013d8092a874877cf51e6a74c93d0b065ca1dc9af4be4bfec4811920f4976e91a3a16e1c243b8239f9046f71d1661c3502a9ca98c3b83858ad9e40300269a5b105908c306ee79c598cbbcab737ad87d3f5b4769c9a1683066bfb032c7bf146a87b0a3ad4eecf77dacccb66e8fa6bc85d758801ff1e3bb8a701672f9870b6ed65bf11c178101d8d1f79c15b801d6283cd59dce6ed3c04def2e71c828b088c10bef575b1ca3132f0491ce6b3d9bc3224bcc7e422cbb98a86db7066f580a7eba1a8978120389532e6caa29a503e622083e8aa9f25ebfcd02f84421d0cbf66adac45573eeb9425f85c610e1963a749f41289b3e00178fe4278916378755d2f04fa9c019e9e63bf8043da394da2ea3564418012d88ceb0a01a632d89a929a0ad4ad33aa0738c88a7439fcecdb77b8deccc44b107bb16a479e94b74285707e1491c6dffa6dd3ca18fe3b7a296e48d533ff6a39044aa0c41f63dd24135af749da15644555b6c9659e678a30f9922ec251f7797e66da9af0350422fcf045db139940fb2fcd7f8495dc73ec5baa020c6e308009135191981e48d5a3507d85320ed3e9ba7ebb6de3c5723e9c7493535e595f5e8aebff84cf62c4bc19dd576f613f2e2d13533dc705dc83d26a817e083df19add438dc9b3bc70e74c77b8b6b0386acfef93e917935fd8fca321296fe462d0a46110e8eb0560c31ea0e3a541fc3afae14dc0ac3af7a857238807012be0a6fc4e6f1b132bf3ab32db07edd789dae7bde03595fd8c45ffa17765d80d23df22697cdbd01700f7301a836a17505d440fad91ec187065bdcc9ee981e4e30e04c05e9a2401cb549d7d5579b494edb29ffa8de9982b9597a29ee97982d805f1718d542c53a7ab180d6b059a5d9d9e31a2b03c1eef480dc2d6364a0e86dc91085379acae771f59e92ac08c207d769cd73e94be20843e72195c943a57b612524d7826141a45064cd1b7255387139e211fbec9310776016d83c7cebd1075be38edc7881756f0176709f51ad4881c5cb7a907f027351469fef044627971ec5e9741a001e4add575f588e78458b97d2e70e5edc5c2d346c5b8acd93e26991e3778782d9878941d730a952a1c6455803bd5ecb1037402ec89baa5dc775239735a7a351c186a04658b237ec318c217f3c6620f2ff6f6a55c60731c5f05ef1b1561bc61642d84e4bd27ddb0022d1e16670831d3de39ba0f605e499111bf81beb3a35dfb41ee637325a13a130e4f6b5d6d083bb8f465d168b2e7def38ae61da085daafbca8ce6a1479f996f014063896edbda86b7ef291ce9ce11e4a75543eab38098b6759169683d440c8184b7ddb42f82264c1dd7371fd60a6942f0126443309b26da401092c3a166b86e5b828f457ed5d80e8f3f58a421fa36f3ad7ffcd361fec619190402bd850eaf025e71740f579c12c0626cdd3a164ed5b3c2de61945489dc74dc1aaae508e01c3253494bca35641c856a6ddb3f11bfb57439d147a5a89499408a77a95aac0f4c15c2521ac3f37229443c0518e2972577e78b8ddde21182212a808278d3ea04c9eb540881d3461d32b3268b618000ea4c288463592141f4cbb9e553f1ab7ad63c599a7d221a046b200762c4dd026ea25bd8c40aa9d0791385d0921ac102c1058663d955611faf50755ecffce2a3b6c9f6c2dbecb14719482fdeda8ab66dd12046eab0dd0cc8c0999b27b8f8341914256d5966d3394f2d6ac677c215d4e99fe46887e572fc8c04e3ea7119a404dd9a0c14269908d1a99e92ef1f72c45842b75b24068f84249887a7327bf9001b9c40c8e554c59188b13a15a15af3d7c2c7fd57cc5b73230def3e21582a489d218d0bfcac48159a93a492b1c8e089dbace3639c089f33d5c85994cd4d7ae8bde606c94a3b6b102b3f2add038944443e19ac39f5288422917f21573944da0a5be498cd976ad330d9f3aa22f4682830b276a910cb835f0fbd597e20243b0a9650287255484ee986fea3d4ef43d87fb161a0c533261fcf2023140930faf116c00437121e818f24af620904073158bf9b852d01a60b44a2bd54dadf2363473d0278993dc77eaced4b84fec7827c8d8854083a81aef03655c80ba85b5c250e274f982adce64c48decaf9823b6d114d09c3cba5d50e34460e3c48c18056789b0db6e6c22452d67934ab134da03dfe2fd3e55ccc4c3ed15c4f0cf57375937746ff194c659b82b1fd366c105f899488faff4bd6cf469b4ee29105cb322db790273dfce136ff71e86fb4c59706da8efd39033d47c454c1bf71748bb2ac814088f70bf6f6a09f0ad04a63da1e6ca94cea2f5f001cdb9d409ea16010de14de7ee5a45de349d6de7e3aace6b00355532b12aaa5b8879ed24c21d0679990435aa7ab3944ca0df670b1c997142a42e050593e9f8ba64d4b548a7ef7a684229811c560c8294e55c9689c9660a812caedec8a243ef23a9555b7b15e8b1dcc9d605f389ee09de15c715473765f001dd135c54dba60d307797b2fbab75796b8d1f1d14c57459f46e26bbb37c0d8c7edf7f22b13dca13acb619ea7c7d2c58fdb7c88fd54207edbbc00c91d763c2a6e452ab33b1c387463eb00b873c10c81435e12604d45098bff25edfae489fdc9713a61bc8b4bef7ea1ab6049919de06f7bfb7ac65d1908ffdbe20a9bd736616f44d1098111cfdd75fb1c39f39f9ee9f7f6065dc798ac9e8c213bbc810819e39e1d9ec8babec2ff5c67cf8e1d98fcf26d302bf59b6ebf9fb801f0a9b8361cb51cf73399632844dbb2d1a3edca1cbfc140dd3c0bb9dfc1160cceca1ba5df1a3e99ef4fd1067e5f02faf499c1843d83ef8a7098cfab9e92c508ef63ab7c39776f69ca49602e6e27ee0b638ecfc88f995140c66eb0f3b1c5f56448a07d4cfb779cf92b90071e7fc61069b96ba6d29a2dcc0e9165d903818afd60a83f4782f73ed250a3d4de0b0f45a29a6b677c6c1f9f57d55f8dad539b156eee931e5fefe41e0c11845775f82b6580e9fab7833534ee2b5879e1771705cfe3ef877804f4c979357cba8054ef9c0a661b6869a60de11a4acad8b1b77e701a6943a3d09683507b2b8522b4c69791ea0fda96b6daa43d44818e96f1ee9ba398dd9644c8ecdb54d9c67d8dc4c61b3a6d824eaaf40d14706ea4229bf16d579cf83e197e6442e8ec2e846d8e19becb3ba34118589b854d4497a91a5bce6a970dc886ec789aab6ab06b054b0b9b87a43a57adf85b786b875ac3e911ee086ff3942606e0430824de2db0ab93f2e923ac5255c27d2d84d644e315cf433b03d21ad9fbfc884c4e65ba0eeb6fa5198f6b804ce3696822719884a10878dd89beb2ca280f7a9d371a5fa6c6417617cc2aa392190974a299894b5c563c210a17248f8dcdcb380ab079d2943de099fb8eca4b8421a75d3deada5139b719f5b47d7da90ff918cf43f24ce9087aad9264811ea7b658061c51241a83b2c099246773598860dc968e549f4b27e6c177cf60f45632e3fd487949d8bb9201846b9e14ecae14e0a06399e585594e332f82d3e6eeaa1f2a709691c1fa05411dfafa4d436389129309374a96f9797c9889db8311992c6a1d6f91e59428a190be425a74b275487850a3b470289f996d41c34a28e3ca695ae48899eafe04367f275e9872376e4ca775af4072c2ee758ae757d670c4e5be39f95cbe76dfa854b04453ac9b9d5334bd2a4ca0ce4155181c03d910436ceab1fae68a9a71a12c243ccad2e3956efb798c4ddf5a43cd8c193e53cd4fcd231d044ce5879f9e4ec20d7dbc02339362b1c701a653cf6bec5c210474d0101a8201780ff34e790a7849a612051977cc178038c98327984348315a2786cbffc0652be28b513b0bdd779ba62b322ac8e11b5ab2d23f7dd9bdf8ff21f7dbf0e1c143f83ab597e474aa957aec1763634b79477fa46401550e891e8ad7356d7ddb64bb15606435e3f792efd87a574e2855e920e94d5765292e7c302124518b918a874a5b667e74760c38b72addb0f5d24c4d4d51ab9ea9c5ab39cf27a65da7267a9384a613f55202112baa3e6d6e450300373814e630a1296cdfff1db23e2c7c9fd11c6c844b6b8aef6deb28ab7504c42da0648d2068b57a220764ad03650b64febaf14b6f086ae4e1e0f259f4984dea944f5e07e8a208503c6898a7430547a712c379f266d2efcf4a815889cfa12bc6f7f9045c2cf82326bd370f72eff00415c64a32b0b796537743d681d9ea309dc801a08a17fe186e6508fe8b0379eed79f2c3504fd01ab3bd18ef4bdfb78b5b90bb9ea43e78d06f0ce485949cc6cd8d26d606b9646b551f7734aabfa91bd758918cf1268e3c8ec0688e9dcad17b7e14ef46d75a5430ac2571e7f6b78467204c2b8bfeb1aed52bed942b7d5f2bbf2e2676405c53a892c15b218505b0497ff78d7217596fed6f885e4a274daa618484a3b7f61f2a78861c2e6ebdc8cc70e5bd1b19529137d47d637cebc12fa3ac973de59f3a203745edf856ee989d2d6f6c4b1264b24994bf41b22dd087674cd844052eb5d6e1f6ca5274d6affad38c70ad34b9a4c9584e0219bff9c71b2736698a7dc81f08541447f15575d1f535ada465a6e4dcfcdd4aa6c538727ddd5cdd848e2f8ab507598ba22820c2c2ea10960506706afba0b23b7480213decaf2649bf1e4c98a0396c75efb01ec7649e7e5aa2bf2d0c5d8e0962d067d5a0efd10b2e64a2842eb00f9be51464024f8566f6c31b5e617efac93ad66d7cd18ede60b86190eabade4100e5f33b6226d55c70a089f3b385ef42725018e49ac034520c7e0888c103160d438b125cf5b656cf0e20abaf5153273e11ce8bd096c816b74fe370153885db0fbc7347845b411241080b41457e60697e58db0c3cfc0125aaf043aa2fa85300afc955e39fe726fff882bd5bf38d3dcdd5e58fed09a073fb878d6ec75498dba0f668832a9ebd73f683b605ad70dc813ca6a490600cd01189b982f9941005306fdb766b8acf973ceabd4e2ba6391e277aeb0c5d7256229e2aec2c4f96dbce2753e3f616fc04470c9c06a74b894cf70270350b5ffdea71cdb82989dfdc481f25ae8cac9e818555a38c32b2d0de7b674a0429074b2e6b19b413654aaa7b48e0df588bb97b297ef1d2f73d38d713374bc3815841410a2f0363eaf58aa3f5d9f1988bf75158794bf1fd047967be7920be8e1ec8998f492b2b5ff344d63a81b5f9f7334966f67f6b13cc1f4cbe02bb4966585050924c9ba8bd4be9ead263c9d21314bbe810122879072ce37ef3d486920ad1c8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> è‹±è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-AOPè¯¦è§£</title>
      <link href="/2023/03/22/spring-AOP%E8%AF%A6%E8%A7%A3/"/>
      <url>/2023/03/22/spring-AOP%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>springAOPå¸¸è§å››ç§å®ç°æ–¹å¼è¯¦è§£</p><span id="more"></span><h4 id="springAOPä»‹ç»"><a href="#springAOPä»‹ç»" class="headerlink" title="springAOPä»‹ç»"></a>springAOPä»‹ç»</h4><p>Spring AOPæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œå®ƒæä¾›äº†ä¸€ç§åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°å°†ä»£ç ç»‡å…¥åˆ°åº”ç”¨ç¨‹åºä¸­çš„æœºåˆ¶ã€‚é€šè¿‡AOPï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸå§‹ä»£ç çš„æƒ…å†µä¸‹ï¼Œå®ç°å„ç§æ¨ªåˆ‡å…³æ³¨ç‚¹çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ€§ç­‰ã€‚</p><h4 id="springAOPå®ç°æ–¹å¼"><a href="#springAOPå®ç°æ–¹å¼" class="headerlink" title="springAOPå®ç°æ–¹å¼"></a>springAOPå®ç°æ–¹å¼</h4><p>Spring AOPå°±æ˜¯åŸºäºåŠ¨æ€ä»£ç†å®ç°çš„ï¼Œ åˆ†ä¸ºä¸¤ç§ä»£ç†ï¼ŒjdkåŠ¨æ€ä»£ç†ï¼ˆåŸºäºæ¥å£ï¼‰å’Œcglibä»£ç†ï¼ˆåŸºäºç±»çš„ï¼‰ã€‚å¦‚æœç›®æ ‡å¯¹è±¡å®ç°äº†æ¥å£ï¼Œå°±ç”¨jdkåŠ¨æ€ä»£ç†ï¼Œå¦‚æœæœªå®ç°æ¥å£å°±ç”¨cglibåŠ¨æ€ä»£ç†ã€‚</p><h4 id="jdk-cglibåŠ¨æ€ä»£ç†è¯¦è§£"><a href="#jdk-cglibåŠ¨æ€ä»£ç†è¯¦è§£" class="headerlink" title="jdk&amp;cglibåŠ¨æ€ä»£ç†è¯¦è§£"></a>jdk&amp;cglibåŠ¨æ€ä»£ç†è¯¦è§£</h4><p>JDKåŠ¨æ€ä»£ç†åªèƒ½å¯¹å®ç°äº†æ¥å£çš„ç±»ç”Ÿæˆä»£ç†ï¼Œè€Œä¸èƒ½é’ˆå¯¹ç±» ï¼Œä½¿ç”¨çš„æ˜¯ Javaåå°„æŠ€æœ¯å®ç°ï¼Œç”Ÿæˆç±»çš„è¿‡ç¨‹æ¯”è¾ƒé«˜æ•ˆã€‚<br>CGLIBæ˜¯é’ˆå¯¹ç±»å®ç°ä»£ç†ï¼Œä¸»è¦æ˜¯å¯¹æŒ‡å®šçš„ç±»ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œè¦†ç›–å…¶ä¸­çš„æ–¹æ³• ï¼Œä½¿ç”¨asmå­—èŠ‚ç æ¡†æ¶å®ç°ï¼Œç›¸å…³æ‰§è¡Œçš„è¿‡ç¨‹æ¯”è¾ƒé«˜æ•ˆï¼Œ<br>JDKä»£ç†æ˜¯ä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“æ”¯æŒï¼Œåªéœ€è¦JDKç¯å¢ƒå°±å¯ä»¥è¿›è¡Œä»£ç†ï¼Œä½¿ç”¨æ¡ä»¶:å®ç°InvocationHandler + ä½¿ç”¨Proxy.newProxyInstanceäº§ç”Ÿä»£ç†å¯¹è±¡ + è¢«ä»£ç†çš„å¯¹è±¡å¿…é¡»è¦å®ç°æ¥å£<br>CGLibå¿…é¡»ä¾èµ–äºCGLibçš„ç±»åº“ï¼Œä½†æ˜¯å®ƒéœ€è¦ç±»æ¥å®ç°ä»»ä½•æ¥å£ä»£ç†çš„æ˜¯æŒ‡å®šçš„ç±»ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œè¦†ç›–å…¶ä¸­çš„æ–¹æ³•ï¼Œæ˜¯ä¸€ç§ç»§æ‰¿ä½†æ˜¯é’ˆå¯¹æ¥å£ç¼–ç¨‹çš„ç¯å¢ƒä¸‹æ¨èä½¿ç”¨JDKçš„ä»£ç†</p><p>ç¤ºä¾‹ï¼š</p><p>1.å®šä¹‰ç”¨æˆ·åˆ›å»ºè·Ÿæ–°å¢çš„ä¸¤ä¸ªæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserManager</span> &#123;</span><br><span class="line">    <span class="comment">//æ–°å¢ç”¨æˆ·æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(String userName, String password)</span>;</span><br><span class="line">    <span class="comment">//åˆ é™¤ç”¨æˆ·æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delUser</span><span class="params">(String userName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserManagerImpl</span> <span class="keyword">implements</span> <span class="title class_">UserManager</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡å†™ç”¨æˆ·æ–°å¢æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(String userName, String password)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†ç”¨æˆ·æ–°å¢çš„æ–¹æ³•ï¼&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¼ å…¥å‚æ•°ï¼š\nuserName = &quot;</span> + userName +<span class="string">&quot;, password = &quot;</span> + password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡å†™åˆ é™¤ç”¨æˆ·æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delUser</span><span class="params">(String userName)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†åˆ é™¤çš„æ–¹æ³•ï¼&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¼ å…¥å‚æ•°ï¼š\nuserName = &quot;</span>+userName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.jdkå®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdkProxy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éœ€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span>  Object targetObject;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getJDKProxy</span> <span class="params">(Object targetObject)</span> &#123;</span><br><span class="line">        <span class="comment">//ä¸ºç›®æ ‡targetèµ‹å€¼</span></span><br><span class="line">        <span class="built_in">this</span>.targetObject = targetObject;</span><br><span class="line">        <span class="comment">//JDKåŠ¨æ€ä»£ç†åªèƒ½é’ˆå¯¹å®ç°äº†æ¥å£çš„ç±»è¿›è¡Œä»£ç†ï¼ŒnewProxyInstance å‡½æ•°æ‰€éœ€å‚æ•°å°±å¯çœ‹æ¥</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">proxyObject</span> <span class="operator">=</span> Proxy.newProxyInstance(targetObject.getClass().getClassLoader(), targetObject.getClass().getInterfaces(), <span class="built_in">this</span>);</span><br><span class="line">        <span class="comment">//è¿”å›ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> proxyObject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;JDKåŠ¨æ€ä»£ç†ï¼Œç›‘å¬å¼€å§‹ï¼&quot;</span>);</span><br><span class="line">        <span class="comment">// è°ƒç”¨invokeæ–¹æ³•ï¼Œresultå­˜å‚¨è¯¥æ–¹æ³•çš„è¿”å›å€¼</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(targetObject,args);</span><br><span class="line">        System.out.println(<span class="string">&quot;JDKåŠ¨æ€ä»£ç†ï¼Œç›‘å¬ç»“æŸï¼&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.cglibä»£ç†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CglibåŠ¨æ€ä»£ç†ï¼Œå®ç°MethodInterceptoræ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CglibProxy</span> <span class="keyword">implements</span> <span class="title class_">MethodInterceptor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object target;<span class="comment">//éœ€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡å†™æ‹¦æˆªæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object o, Method method, Object[] args, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;CglibåŠ¨æ€ä»£ç†ï¼Œç›‘å¬å¼€å§‹ï¼&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target,args);<span class="comment">//æ–¹æ³•æ‰§è¡Œå‚æ•°ï¼štarget ç›®æ ‡å¯¹è±¡ arrå‚æ•°æ•°ç»„</span></span><br><span class="line">        System.out.println(<span class="string">&quot;CglibåŠ¨æ€ä»£ç†ï¼Œç›‘å¬ç»“æŸï¼&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰è·å–ä»£ç†å¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> UserManager <span class="title function_">getCglibProxy</span><span class="params">(Object targetObject)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = targetObject;<span class="comment">//ä¸ºç›®æ ‡å¯¹è±¡targetèµ‹å€¼</span></span><br><span class="line">        <span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®çˆ¶ç±»,å› ä¸ºCglibæ˜¯é’ˆå¯¹æŒ‡å®šçš„ç±»ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šçˆ¶ç±»</span></span><br><span class="line">        enhancer.setSuperclass(targetObject.getClass()); <span class="comment">//UserManagerImpl</span></span><br><span class="line">        enhancer.setCallback(<span class="built_in">this</span>);<span class="comment">//è®¾ç½®å›è°ƒ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> enhancer.create();<span class="comment">//åˆ›å»ºå¹¶è¿”å›ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> (UserManager) result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.proxy.CglibProxy.CglibProxy;</span><br><span class="line"><span class="keyword">import</span> com.proxy.JDKProxy.JdkProxy;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="type">JdkProxy</span> <span class="variable">jdkProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdkProxy</span>();  <span class="comment">//å®ä¾‹åŒ–JDKProxyå¯¹è±¡</span></span><br><span class="line">        <span class="type">UserManager</span> <span class="variable">userJdk</span> <span class="operator">=</span> (UserManager) jdkProxy.getJDKProxy(<span class="keyword">new</span> <span class="title class_">UserManagerImpl</span>());   <span class="comment">//è·å–ä»£ç†å¯¹è±¡</span></span><br><span class="line">        userJdk.addUser(<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"> </span><br><span class="line">        <span class="type">CglibProxy</span> <span class="variable">cglibProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CglibProxy</span>(); <span class="comment">//å®ä¾‹åŒ–CglibProxyå¯¹è±¡</span></span><br><span class="line">        <span class="type">UserManager</span> <span class="variable">userCglib</span> <span class="operator">=</span> cglibProxy.getCglibProxy(<span class="keyword">new</span> <span class="title class_">UserManagerImpl</span>());<span class="comment">//è·å–ä»£ç†å¯¹è±¡</span></span><br><span class="line">        userCglib.delUser(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="aopçš„é€šçŸ¥æ–¹æ³•"><a href="#aopçš„é€šçŸ¥æ–¹æ³•" class="headerlink" title="aopçš„é€šçŸ¥æ–¹æ³•"></a>aopçš„é€šçŸ¥æ–¹æ³•</h4><p>å‰ç½®é€šçŸ¥ï¼šåœ¨æˆ‘ä»¬æ‰§è¡Œç›®æ ‡æ–¹æ³•ä¹‹å‰è¿è¡Œ</p><p>åç½®é€šçŸ¥ï¼šåœ¨æˆ‘ä»¬ç›®æ ‡æ–¹æ³•è¿è¡Œç»“æŸä¹‹åï¼Œä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸</p><p>è¿”å›é€šçŸ¥ï¼šåœ¨æˆ‘ä»¬çš„ç›®æ ‡æ–¹æ³•æ­£å¸¸è¿”å›å€¼åè¿è¡Œ</p><p>å¼‚å¸¸é€šçŸ¥ï¼šåœ¨æˆ‘ä»¬çš„ç›®æ ‡æ–¹æ³•å‡ºç°å¼‚å¸¸åè¿è¡Œ</p><p>ç¯ç»•é€šçŸ¥ï¼šç›®æ ‡æ–¹æ³•çš„è°ƒç”¨ç”±ç¯ç»•é€šçŸ¥å†³å®šï¼Œå³ä½ å¯ä»¥å†³å®šæ˜¯å¦è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼ŒjoinPoint.procced()å°±æ˜¯æ‰§è¡Œç›®æ ‡æ–¹æ³•çš„ä»£ç  ã€‚ç¯ç»•é€šçŸ¥å¯ä»¥æ§åˆ¶è¿”å›å¯¹è±¡</p><h4 id="AOPçš„å‡ ç§å®ç°æ–¹å¼"><a href="#AOPçš„å‡ ç§å®ç°æ–¹å¼" class="headerlink" title="AOPçš„å‡ ç§å®ç°æ–¹å¼"></a>AOPçš„å‡ ç§å®ç°æ–¹å¼</h4><p>ä½¿ç”¨åˆ°çš„ä¾èµ–åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.ow2.asm<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>asm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ–¹å¼ä¸€ï¼šXMLé…ç½®æ–¹å¼"><a href="#æ–¹å¼ä¸€ï¼šXMLé…ç½®æ–¹å¼" class="headerlink" title="æ–¹å¼ä¸€ï¼šXMLé…ç½®æ–¹å¼"></a>æ–¹å¼ä¸€ï¼šXMLé…ç½®æ–¹å¼</h5><p>1.å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œç±»ä¸­æœ‰ä¸€ä¸ªåƒé¥­çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åƒé¥­äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.åˆ›å»ºä¸€ä¸ªä¸¤ä¸ªåˆ‡é¢ç±»ï¼Œå®ç°springç”¨äºaopçš„æ¥å£</p><table><thead><tr><th>æ¥å£</th><th>æè¿°</th></tr></thead><tbody><tr><td>MethodBeforeAdvice</td><td>å‰ç½®é€šçŸ¥</td></tr><tr><td>AfterAdvice</td><td>åç½®é€šçŸ¥</td></tr><tr><td>AfterReturningAdvice</td><td>è¿”å›é€šçŸ¥</td></tr><tr><td>ThrowsAdvice</td><td>å¼‚å¸¸é€šçŸ¥</td></tr><tr><td>MethodInterceptor</td><td>ç¯ç»•é€šçŸ¥</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BeforeEat</span> <span class="keyword">implements</span> <span class="title class_">MethodBeforeAdvice</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">(Method method, Object[] objects, Object o)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰ç½®é€šçŸ¥===å…ˆè¦åšé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AfterEat</span> <span class="keyword">implements</span> <span class="title class_">AfterReturningAdvice</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterReturning</span><span class="params">(Object o, Method method, Object[] objects, Object o1)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åç½®é€šçŸ¥===åƒå®Œé¥­åˆ·ç¢—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.é…ç½®åˆ‡é¢ï¼Œapplication.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1ã€æ³¨å†Œbeanï¼Œå°†å®ä½“ç±»æ³¨å†Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;afterEat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo1.AfterEat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beforeEat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo1.BeforeEat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;person&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo1.Person&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2ã€é…ç½®AOPåˆ‡é¢--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--åˆ‡å…¥ç‚¹ expressionä¸ºè¡¨è¾¾å¼ï¼Œå‚æ•°ä¸ºåˆ‡å…¥çš„ä½ç½®ï¼Œdemo1.Person.*è¡¨ç¤ºç±»ä¸­æ‰€æœ‰æ–¹æ³•éƒ½åˆ‡å…¥ï¼Œ*(..)ä¸¤ä¸ªç‚¹è¡¨ç¤ºä¸æŒ‡å®šå‚æ•°ï¼ˆä»»æ„ï¼‰--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* demo1.Person.*(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®ç±»åˆ‡å…¥åˆ°å“ªé‡Œ:å¦‚beforeLogç±»åˆ‡å…¥åˆ°expressionè¡¨è¾¾å¼æŒ‡çš„ä½ç½®ï¼Œå³demo1ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;afterEat&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;beforeEat&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>4.æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;application.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//é€šè¿‡ç›®æ ‡çš„bean idï¼Œè·å¾—ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person) context.getBean(<span class="string">&quot;person&quot;</span>);<span class="comment">//è·å–æ³¨å†Œçš„beanå¯¹è±¡ï¼Œå®ä¾‹å¯¹è±¡å˜æˆbeanå¯¹è±¡ï¼Œå°±æ˜¯ä»£ç†å¯¹è±¡</span></span><br><span class="line">        person.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å‰ç½®é€šçŸ¥==åƒé¥­å‰åšé¥­</span><br><span class="line">åƒé¥­äº†</span><br><span class="line">åç½®é€šçŸ¥===åƒå®Œé¥­åˆ·ç¢—</span><br><span class="line"></span><br><span class="line">è¿›ç¨‹å·²ç»“æŸ,é€€å‡ºä»£ç 0</span><br></pre></td></tr></table></figure><h5 id="æ–¹å¼2ï¼šè‡ªå®šä¹‰ç±»æ¥å®ç°AOP"><a href="#æ–¹å¼2ï¼šè‡ªå®šä¹‰ç±»æ¥å®ç°AOP" class="headerlink" title="æ–¹å¼2ï¼šè‡ªå®šä¹‰ç±»æ¥å®ç°AOP"></a>æ–¹å¼2ï¼šè‡ªå®šä¹‰ç±»æ¥å®ç°AOP</h5><p>1.åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰åˆ‡é¢ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">diyPointCut</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=========æ–¹æ³•æ‰§è¡Œå‰==========&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=========æ–¹æ³•æ‰§è¡Œå==========&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.xmé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1ã€æ³¨å†Œbeanï¼Œå°†å®ä½“ç±»æ³¨å†Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;diy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo1.diyPointCut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;person&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo1.Person&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è‡ªå®šä¹‰åˆ‡é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;diy&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--åˆ‡å…¥ç‚¹--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* demo1.Person.*(..))&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--é€šçŸ¥ï¼ˆæŒ‡å®šdiyPointCutç±»ä¸­çš„å“ªä¸ªmethodï¼Œaop:beforeå°±è¡¨ç¤ºå‰ç½®ï¼‰--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;after&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;application2.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//é€šè¿‡ç›®æ ‡çš„bean idï¼Œè·å¾—ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person) context.getBean(<span class="string">&quot;person&quot;</span>);<span class="comment">//è·å–æ³¨å†Œçš„beanå¯¹è±¡ï¼Œå®ä¾‹å¯¹è±¡å˜æˆbeanå¯¹è±¡ï¼Œå°±æ˜¯ä»£ç†å¯¹è±¡</span></span><br><span class="line">        person.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.ç»“æœ</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=========æ–¹æ³•æ‰§è¡Œå‰==========</span><br><span class="line">åƒé¥­äº†</span><br><span class="line">=========æ–¹æ³•æ‰§è¡Œå==========</span><br></pre></td></tr></table></figure><h5 id="æ–¹å¼ä¸‰ï¼šåŸºäºæ³¨è§£å®ç°"><a href="#æ–¹å¼ä¸‰ï¼šåŸºäºæ³¨è§£å®ç°" class="headerlink" title="æ–¹å¼ä¸‰ï¼šåŸºäºæ³¨è§£å®ç°"></a>æ–¹å¼ä¸‰ï¼šåŸºäºæ³¨è§£å®ç°</h5><h6 id="aopæ³¨è§£"><a href="#aopæ³¨è§£" class="headerlink" title="aopæ³¨è§£"></a>aopæ³¨è§£</h6><table><thead><tr><th>æ³¨è§£</th><th>æè¿°</th></tr></thead><tbody><tr><td>@Aspect</td><td><strong>æ³¨è§£ç”¨æ¥æè¿°ä¸€ä¸ªåˆ‡é¢ç±»ï¼Œå®šä¹‰åˆ‡é¢ç±»çš„æ—¶å€™éœ€è¦æ‰“ä¸Šè¿™ä¸ªæ³¨è§£ã€‚</strong></td></tr><tr><td>@Order</td><td>ä¸ªè‡ªå®šä¹‰çš„<code>AOP</code>æ³¨è§£å¯ä»¥å¯¹åº”å¤šä¸ªåˆ‡é¢ç±»ï¼Œè¿™äº›åˆ‡é¢ç±»æ‰§è¡Œé¡ºåºç”±<code>@Order</code>æ³¨è§£ç®¡ç†ï¼Œè¯¥æ³¨è§£åçš„æ•°å­—è¶Šå°ï¼Œæ‰€åœ¨åˆ‡é¢ç±»è¶Šå…ˆæ‰§è¡Œã€‚</td></tr><tr><td>@Pointcut</td><td>æ³¨è§£ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ï¼Œå³ä¸Šæ–‡ä¸­æ‰€å…³æ³¨çš„æŸä»¶äº‹æƒ…çš„å…¥å£ï¼Œåˆ‡å…¥ç‚¹å®šä¹‰äº†äº‹ä»¶è§¦å‘æ—¶æœºã€‚</td></tr><tr><td>@Around</td><td>åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰å’Œä¹‹åéƒ½æ‰§è¡Œé€šçŸ¥ã€‚</td></tr><tr><td>@Before</td><td><strong>æ³¨è§£æŒ‡å®šçš„æ–¹æ³•åœ¨åˆ‡é¢åˆ‡å…¥ç›®æ ‡æ–¹æ³•ä¹‹å‰æ‰§è¡Œ</strong></td></tr><tr><td>@After</td><td><code>@After</code> æ³¨è§£å’Œ <code>@Before</code> æ³¨è§£ç›¸å¯¹åº”ï¼ŒæŒ‡å®šçš„æ–¹æ³•åœ¨åˆ‡é¢åˆ‡å…¥ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åšä¸€äº›å®ŒæˆæŸæ–¹æ³•ä¹‹åçš„ Log å¤„ç†ã€‚</td></tr><tr><td>@AfterReturning</td><td>è§£å’Œ <code>@After</code> æœ‰äº›ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äº <code>@AfterReturning</code> æ³¨è§£å¯ä»¥ç”¨æ¥æ•è·åˆ‡å…¥æ–¹æ³•æ‰§è¡Œå®Œä¹‹åçš„è¿”å›å€¼ï¼Œå¯¹è¿”å›å€¼è¿›è¡Œä¸šåŠ¡é€»è¾‘ä¸Šçš„å¢å¼ºå¤„ç†</td></tr><tr><td>@AfterThrowing</td><td>å½“è¢«åˆ‡æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œä¼šè¿›å…¥ <code>@AfterThrowing</code> æ³¨è§£çš„æ–¹æ³•ä¸­æ‰§è¡Œï¼Œåœ¨è¯¥æ–¹æ³•ä¸­å¯ä»¥åšä¸€äº›å¼‚å¸¸çš„å¤„ç†é€»è¾‘ã€‚è¦æ³¨æ„çš„æ˜¯ <code>throwing</code> å±æ€§çš„å€¼å¿…é¡»è¦å’Œå‚æ•°ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¯¥æ–¹æ³•ä¸­çš„ç¬¬äºŒä¸ªå…¥å‚å³ä¸ºæŠ›å‡ºçš„å¼‚å¸¸ã€‚</td></tr></tbody></table><p>ç¤ºä¾‹</p><p>1.æ–°å»ºäº†ä¸€ä¸ªbooté¡¹ç›®</p><p>2.ä¾èµ–åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.åˆ‡é¢é€»è¾‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Order(0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogHelp</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.aopdemo2.demo.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addLog</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è§¦å‘åˆ‡é¢æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;addLog()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logBefore</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³• &quot;</span> + methodName + <span class="string">&quot;å‰ç½®åŠ å¼º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(&quot;addLog()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logAfter</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³• &quot;</span> + methodName + <span class="string">&quot;åç½®åŠ å¼º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;addLog()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">logAround</span><span class="params">(ProceedingJoinPoint joinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³• &quot;</span> + methodName + <span class="string">&quot;æ‰§è¡Œå‰åŠ å¼º&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> joinPoint.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³• &quot;</span> + methodName + <span class="string">&quot;æ‰§è¡ŒååŠ å¼º&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterReturning(pointcut = &quot;addLog()&quot;, returning = &quot;result&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logAfterReturning</span><span class="params">(JoinPoint joinPoint, Object result)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³• &quot;</span> + methodName + <span class="string">&quot;è¿”å›å€¼åŠ å¼º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterThrowing(pointcut = &quot;addLog()&quot;, throwing = &quot;ex&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logAfterThrowing</span><span class="params">(JoinPoint joinPoint, Exception ex)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³• &quot;</span> + methodName + <span class="string">&quot;æŠ¥é”™åŠ å¼º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.è°ƒç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">sw</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    LogHelp logHelp;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;d&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">a</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ArrayList&lt;Object&gt; objects = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(<span class="number">2</span>);</span><br><span class="line">            objects.get(<span class="number">10</span>);</span><br><span class="line">            logHelp.addLog();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;sadasds&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;sadas&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> aop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaåå°„è¯¦è§£</title>
      <link href="/2023/03/21/java%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/"/>
      <url>/2023/03/21/java%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>javaåå°„è¯¦è§£</p><span id="more"></span><h4 id="ä¸€ã€åå°„çš„æ¦‚å¿µ"><a href="#ä¸€ã€åå°„çš„æ¦‚å¿µ" class="headerlink" title="ä¸€ã€åå°„çš„æ¦‚å¿µ"></a>ä¸€ã€åå°„çš„æ¦‚å¿µ</h4><h5 id="1-1åŠ¨æ€è¯­è¨€è·Ÿé™æ€è¯­è¨€"><a href="#1-1åŠ¨æ€è¯­è¨€è·Ÿé™æ€è¯­è¨€" class="headerlink" title="1.1åŠ¨æ€è¯­è¨€è·Ÿé™æ€è¯­è¨€"></a>1.1åŠ¨æ€è¯­è¨€è·Ÿé™æ€è¯­è¨€</h5><h6 id="åŠ¨æ€è¯­è¨€"><a href="#åŠ¨æ€è¯­è¨€" class="headerlink" title="åŠ¨æ€è¯­è¨€"></a><strong>åŠ¨æ€è¯­è¨€</strong></h6><p>æ˜¯ä¸€ç§å¯ä»¥åœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€ï¼šä¾‹å¦‚æ–°çš„å‡½æ•°ã€ä»£ç ã€å¯¹è±¡å¯ä»¥è¢«å¼•è¿›</p><p>ä¾‹å¦‚ï¼šhtmlï¼Œjsï¼Œphpï¼Œpythonç­‰</p><h6 id="é™æ€è¯­è¨€"><a href="#é™æ€è¯­è¨€" class="headerlink" title="é™æ€è¯­è¨€"></a>é™æ€è¯­è¨€</h6><p>ä¸ä¹‹ç›¸åï¼Œå°±æ˜¯å†è¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„é™æ€è¯­è¨€ï¼Œä¾‹å¦‚javaæ›´æ”¹æœ¬åœ°ä»£ç åä½ éœ€è¦é‡æ–°ç¼–è¯‘å¯åŠ¨</p><p>ä¾‹å¦‚ï¼šjavaã€cã€c++ã€</p><h6 id="å‡†åŠ¨æ€è¯­è¨€"><a href="#å‡†åŠ¨æ€è¯­è¨€" class="headerlink" title="å‡†åŠ¨æ€è¯­è¨€"></a>å‡†åŠ¨æ€è¯­è¨€</h6><p>ä¸¥æ ¼æ¥è¯´javaå¹¶ä¸èƒ½ç®—ä¸€ç§çº¯é™æ€è¯­è¨€ï¼Œå› ä¸ºjavaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨javaåå°„çš„æœºåˆ¶è·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚javaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™å˜å¾—æ›´çµæ´»</p><h5 id="1-2javaçš„åå°„æœºåˆ¶æ¦‚å¿µ"><a href="#1-2javaçš„åå°„æœºåˆ¶æ¦‚å¿µ" class="headerlink" title="1.2javaçš„åå°„æœºåˆ¶æ¦‚å¿µ"></a>1.2javaçš„åå°„æœºåˆ¶æ¦‚å¿µ</h5><p>Java ä¸­çš„åå°„æœºåˆ¶ï¼Œå°±æ˜¯åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå¯¹äºä»»ä½•ä¸€ä¸ªç±»ï¼Œéƒ½å¯ä»¥çŸ¥é“è¿™ä¸ªç±»é‡Œé¢çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½å¯ä»¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡é‡Œé¢çš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯å’ŒåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ï¼Œå°±è¢«ç§°ä¸º Java ä¸­çš„åå°„æœºåˆ¶</p><h5 id="1-3åå°„å¯ä»¥åšä»€ä¹ˆ"><a href="#1-3åå°„å¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="1.3åå°„å¯ä»¥åšä»€ä¹ˆ"></a>1.3åå°„å¯ä»¥åšä»€ä¹ˆ</h5><p><img src="/2023/03/21/java%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/image-20230321160305747-9385787.png" alt="image-20230321160305747"></p><h5 id="1-4ä½¿ç”¨åå°„çš„å¥½å¤„è·Ÿç¼ºç‚¹"><a href="#1-4ä½¿ç”¨åå°„çš„å¥½å¤„è·Ÿç¼ºç‚¹" class="headerlink" title="1.4ä½¿ç”¨åå°„çš„å¥½å¤„è·Ÿç¼ºç‚¹"></a>1.4ä½¿ç”¨åå°„çš„å¥½å¤„è·Ÿç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong>ï¼šå¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œçµæ´»æ€§å¤§å¤§æé«˜</p><p><strong>ç¼ºç‚¹ï¼š</strong>å¯¹æ€§èƒ½æœ‰å½±å“ã€‚ä½¿ç”¨åå°„åŸºæœ¬ä¸Šæ˜¯ä¸€ç§è§£é‡Šæ“ä½œï¼Œè¿™ç±»æ“ä½œæ…¢äºç›¸åŒçš„ç›´æ¥æ‰§è¡Œ</p><h4 id="äºŒã€classå¯¹è±¡"><a href="#äºŒã€classå¯¹è±¡" class="headerlink" title="äºŒã€classå¯¹è±¡"></a>äºŒã€classå¯¹è±¡</h4><h5 id="2-1è·å–classå¯¹è±¡çš„å‡ ç§æ–¹å¼"><a href="#2-1è·å–classå¯¹è±¡çš„å‡ ç§æ–¹å¼" class="headerlink" title="2.1è·å–classå¯¹è±¡çš„å‡ ç§æ–¹å¼"></a>2.1è·å–classå¯¹è±¡çš„å‡ ç§æ–¹å¼</h5><p><strong><font color="red">æ³¨æ„ï¼šåœ¨è¿è¡ŒæœŸé—´ï¼Œä¸€ä¸ªç±»ï¼Œåªæœ‰ä¸€ä¸ªClasså¯¹è±¡äº§ç”Ÿã€‚</font></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetReflection</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸€ é€šè¿‡å¯¹è±¡è·å–classå¯¹è±¡</span></span><br><span class="line">        <span class="type">GetReflection</span> <span class="variable">getReflection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GetReflection</span>();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">getReflectionClass1</span> <span class="operator">=</span> getReflection.getClass();</span><br><span class="line">        System.out.println(getReflectionClass1.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼äºŒ é€šè¿‡ç´¯çš„æ‰€åœ¨è·¯å¾„è·å–å¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">getReflectionClass2</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.GetReflection&quot;</span>);</span><br><span class="line">        System.out.println(getReflectionClass2.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸‰ é€šè¿‡ç±»å ç±»åclass</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">getReflectionClass3</span> <span class="operator">=</span> GetReflection.class;</span><br><span class="line">        System.out.println(getReflectionClass3.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-2classç±»å¸¸ç”¨çš„æ–¹æ³•"><a href="#2-2classç±»å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="2.2classç±»å¸¸ç”¨çš„æ–¹æ³•"></a>2.2classç±»å¸¸ç”¨çš„æ–¹æ³•</h5><p><img src="/2023/03/21/java%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/image-20230321163608458.png" alt="image-20230321163608458"></p><h5 id="2-3é‚£äº›ç±»å‹å¯ä»¥è·å¾—classå¯¹è±¡"><a href="#2-3é‚£äº›ç±»å‹å¯ä»¥è·å¾—classå¯¹è±¡" class="headerlink" title="2.3é‚£äº›ç±»å‹å¯ä»¥è·å¾—classå¯¹è±¡"></a>2.3é‚£äº›ç±»å‹å¯ä»¥è·å¾—classå¯¹è±¡</h5><p><img src="/2023/03/21/java%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/image-20230321163717313.png" alt="image-20230321163717313"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰€æœ‰ç±»å‹çš„Class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo06_AllTypeClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c1</span> <span class="operator">=</span> Object.class; <span class="comment">//ç±»</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c2</span> <span class="operator">=</span> Comparable.class; <span class="comment">//æ¥å£</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c3</span> <span class="operator">=</span> String[].class; <span class="comment">//ä¸€ç»´æ•°ç»„</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c4</span> <span class="operator">=</span> <span class="type">int</span>[][].class; <span class="comment">//äºŒç»´æ•°ç»„</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c5</span> <span class="operator">=</span> Override.class; <span class="comment">//æ³¨è§£</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c6</span> <span class="operator">=</span> ElementType.class; <span class="comment">//ç¾å‰§</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c7</span> <span class="operator">=</span> Integer.class; <span class="comment">//åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c8</span> <span class="operator">=</span> <span class="keyword">void</span>.class; <span class="comment">//void</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c9</span> <span class="operator">=</span> Class.class; <span class="comment">//class</span></span><br><span class="line">        System.out.println(c1);</span><br><span class="line">        System.out.println(c2);</span><br><span class="line">        System.out.println(c3);</span><br><span class="line">        System.out.println(c4);</span><br><span class="line">        System.out.println(c5);</span><br><span class="line">        System.out.println(c6);</span><br><span class="line">        System.out.println(c7);</span><br><span class="line">        System.out.println(c8);</span><br><span class="line">        System.out.println(c9);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åªè¦å…ƒç´ ç±»å‹ä¸ç»´åº¦ä¸€æ ·,å°±æ˜¯åŒä¸€ä¸ªClass</span></span><br><span class="line">        <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100</span>];</span><br><span class="line">        System.out.println(a.getClass().hashCode());</span><br><span class="line">        System.out.println(b.getClass().hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¸‰ã€åå°„çš„ä½¿ç”¨"><a href="#ä¸‰ã€åå°„çš„ä½¿ç”¨" class="headerlink" title="ä¸‰ã€åå°„çš„ä½¿ç”¨"></a>ä¸‰ã€åå°„çš„ä½¿ç”¨</h4><h5 id="3-1åå°„æ„é€ æ–¹æ³•"><a href="#3-1åå°„æ„é€ æ–¹æ³•" class="headerlink" title="3.1åå°„æ„é€ æ–¹æ³•"></a>3.1åå°„æ„é€ æ–¹æ³•</h5><table><thead><tr><th>æ–¹æ³•</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>getConstructors()</td><td>è·å–æ‰€æœ‰çš„å…¬å…±æ„é€ æ–¹æ³•</td></tr><tr><td>getDeclaredConstructors()</td><td>è·å–æ‰€æœ‰çš„æ„é€ æ–¹æ³•ï¼Œï¼ˆåŒ…æ‹¬ç§æœ‰çš„ï¼Œå—ä¿æŠ¤ï¼Œå…±æœ‰ï¼Œé»˜è®¤ï¼‰</td></tr><tr><td>getConstructor()</td><td>è·å–å…±æœ‰æˆ–æ— å‚çš„æ„é€ æ–¹æ³•ï¼Œå‚æ•°ä¸ºæ„é€ æ–¹æ³•å‚æ•°ç±»å‹ä¾‹å¦‚</td></tr><tr><td>getDeclaredConstructor()</td><td>å–ç§æœ‰çš„æ„é€ æ”¾é¥­å‚æ•°ä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼›ï¼ˆåŒ…æ‹¬ç§æœ‰çš„ï¼Œå—ä¿æŠ¤ï¼Œå…±æœ‰ï¼Œé»˜è®¤ï¼‰ï¼›getDeclaredConstructor(String.class,int.class)</td></tr><tr><td>æ„é€ å™¨å¯¹è±¡.newInstance()</td><td>è·å–classçš„å®ä¾‹å¯¹è±¡</td></tr><tr><td>æ“ä½œçš„å¯¹è±¡setAccessible(true)</td><td>å¿½ç•¥ä¿®é¥°ç¬¦æ ¡éªŒ</td></tr></tbody></table><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//---------------æ„é€ æ–¹æ³•-------------------</span></span><br><span class="line">    <span class="comment">//ï¼ˆé»˜è®¤çš„æ„é€ æ–¹æ³•ï¼‰</span></span><br><span class="line">    Student(String str)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;(é»˜è®¤)çš„æ„é€ æ–¹æ³• s = &quot;</span> + str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ— å‚æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†å…¬æœ‰ã€æ— å‚æ„é€ æ–¹æ³•æ‰§è¡Œäº†ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ‰ä¸€ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">char</span> name)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å§“åï¼š&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ‰å¤šä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Student</span><span class="params">(String name ,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å§“åï¼š&quot;</span>+name+<span class="string">&quot;å¹´é¾„ï¼š&quot;</span>+ age);<span class="comment">//è¿™çš„æ‰§è¡Œæ•ˆç‡æœ‰é—®é¢˜ï¼Œä»¥åè§£å†³ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å—ä¿æŠ¤çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">Student</span><span class="params">(<span class="type">boolean</span> n)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å—ä¿æŠ¤çš„æ„é€ æ–¹æ³• n = &quot;</span> + n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç§æœ‰æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç§æœ‰çš„æ„é€ æ–¹æ³•   å¹´é¾„ï¼š&quot;</span>+ age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        Class&lt;Student&gt; studentClass = Student.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;**********************æ‰€æœ‰å…¬æœ‰æ„é€ æ–¹æ³•*********************************&quot;</span>);</span><br><span class="line">        Constructor&lt;?&gt;[] constructors = studentClass.getConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; constructor : constructors) &#123;</span><br><span class="line">            System.out.println(constructor);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;************æ‰€æœ‰çš„æ„é€ æ–¹æ³•(åŒ…æ‹¬ï¼šç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤ã€å…¬æœ‰)***************&quot;</span>);</span><br><span class="line">        Constructor&lt;?&gt;[] declaredConstructors = studentClass.getDeclaredConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; declaredConstructor : declaredConstructors) &#123;</span><br><span class="line">            System.out.println(declaredConstructor);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;*****************è·å–å…¬æœ‰ã€æ— å‚çš„æ„é€ æ–¹æ³•*******************************&quot;</span>);</span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">con</span> <span class="operator">=</span> studentClass.getConstructor(<span class="literal">null</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;con = &quot;</span> + con);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> con.newInstance();</span><br><span class="line">        System.out.println(<span class="string">&quot;******************è·å–ç§æœ‰æ„é€ æ–¹æ³•ï¼Œå¹¶è°ƒç”¨*******************************&quot;</span>);</span><br><span class="line">        con = studentClass.getDeclaredConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">        System.out.println(con);</span><br><span class="line">        <span class="comment">//è°ƒç”¨æ„é€ æ–¹æ³•</span></span><br><span class="line">        con.setAccessible(<span class="literal">true</span>);<span class="comment">//æš´åŠ›è®¿é—®(å¿½ç•¥æ‰è®¿é—®ä¿®é¥°ç¬¦)</span></span><br><span class="line">        obj = con.newInstance(<span class="string">&quot;ç”·&quot;</span>,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">**********************æ‰€æœ‰å…¬æœ‰æ„é€ æ–¹æ³•*********************************</span><br><span class="line">public com.dto.Student()</span><br><span class="line">public com.dto.Student(char)</span><br><span class="line">************æ‰€æœ‰çš„æ„é€ æ–¹æ³•(åŒ…æ‹¬ï¼šç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤ã€å…¬æœ‰)***************</span><br><span class="line">private com.dto.Student(int)</span><br><span class="line">protected com.dto.Student(boolean)</span><br><span class="line">private com.dto.Student(java.lang.String,int)</span><br><span class="line">com.dto.Student(java.lang.String)</span><br><span class="line">public com.dto.Student()</span><br><span class="line">public com.dto.Student(char)</span><br><span class="line">*****************è·å–å…¬æœ‰ã€æ— å‚çš„æ„é€ æ–¹æ³•*******************************</span><br><span class="line">con = public com.dto.Student()</span><br><span class="line">è°ƒç”¨äº†å…¬æœ‰ã€æ— å‚æ„é€ æ–¹æ³•æ‰§è¡Œäº†ã€‚ã€‚ã€‚</span><br><span class="line">******************è·å–ç§æœ‰æ„é€ æ–¹æ³•ï¼Œå¹¶è°ƒç”¨*******************************</span><br><span class="line">private com.dto.Student(java.lang.String,int)</span><br><span class="line">å§“åï¼šç”·å¹´é¾„ï¼š2</span><br></pre></td></tr></table></figure><h5 id="3-2åå°„æˆå‘˜å˜é‡ï¼ˆå­—æ®µï¼‰"><a href="#3-2åå°„æˆå‘˜å˜é‡ï¼ˆå­—æ®µï¼‰" class="headerlink" title="3.2åå°„æˆå‘˜å˜é‡ï¼ˆå­—æ®µï¼‰"></a>3.2åå°„æˆå‘˜å˜é‡ï¼ˆå­—æ®µï¼‰</h5><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>getFields()</td><td>è·å–æ‰€æœ‰çš„å…±æœ‰å­—æ®µ</td></tr><tr><td>getDeclaredFields()</td><td>è·å–æ‰€æœ‰å­—æ®µ(åŒ…æ‹¬ç§æœ‰ã€å—ä¿æŠ¤ã€å…±æœ‰ã€é»˜è®¤çš„)ï¼‰</td></tr><tr><td>getField(å‚æ•°å­—æ®µåç§°)</td><td>ç¤ºä¾‹getField(â€œnameâ€)ï¼Œè·å–å…¬æœ‰å­—æ®µ</td></tr><tr><td>getDeclaredField()</td><td>ç¤ºä¾‹getDeclaredField(â€œphoneNumâ€)  è·å–ç§æœ‰å­—æ®µ ï¼ˆåŒ…æ‹¬ç§æœ‰çš„ï¼Œå—ä¿æŠ¤ï¼Œå…±æœ‰ï¼Œé»˜è®¤ï¼‰</td></tr><tr><td>æ“ä½œçš„å¯¹è±¡setAccessible(true)</td><td>å¿½ç•¥ä¿®é¥°ç¬¦æ ¡éªŒ</td></tr></tbody></table><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String phoneNum;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, sex=&quot;</span> + sex +</span><br><span class="line">                <span class="string">&quot;, phoneNum=&#x27;&quot;</span> + phoneNum + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchFieldException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">userClass</span> <span class="operator">=</span> user.getClass();</span><br><span class="line">        <span class="comment">//è·å–å­—æ®µ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;************è·å–æ‰€æœ‰å…¬æœ‰çš„å­—æ®µ********************&quot;</span>);</span><br><span class="line">        Field[] fields = userClass.getFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            System.out.println(field);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;************è·å–æ‰€æœ‰çš„å­—æ®µ(åŒ…æ‹¬ç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤çš„)********************&quot;</span>);</span><br><span class="line">        Field[] declaredFields = userClass.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field declaredField : declaredFields) &#123;</span><br><span class="line">            System.out.println(declaredField);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;*************è·å–å…¬æœ‰å­—æ®µ**å¹¶è°ƒç”¨***********************************&quot;</span>);</span><br><span class="line">        <span class="type">Field</span> <span class="variable">name1</span> <span class="operator">=</span> userClass.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(name1);</span><br><span class="line">        <span class="comment">//è·å–ä¸€ä¸ªå¯¹è±¡ ç±»ä¼¼äº User user =  new User();</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> userClass.getConstructor().newInstance();</span><br><span class="line">        name1.set(o, <span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">        <span class="comment">//éªŒè¯</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> (User)o;</span><br><span class="line">        System.out.println(<span class="string">&quot;éªŒè¯å§“åï¼š&quot;</span> + user1.name);</span><br><span class="line">        System.out.println(<span class="string">&quot;**************è·å–ç§æœ‰å­—æ®µ****å¹¶è°ƒç”¨********************************&quot;</span>);</span><br><span class="line">        <span class="type">Field</span> <span class="variable">phoneNum1</span> <span class="operator">=</span> userClass.getDeclaredField(<span class="string">&quot;phoneNum&quot;</span>);</span><br><span class="line">        System.out.println(phoneNum1);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o1</span> <span class="operator">=</span> userClass.getConstructor().newInstance();</span><br><span class="line">        phoneNum1.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        phoneNum1.set(o1, <span class="string">&quot;15234324237&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> (User) o1;</span><br><span class="line">        System.out.println(<span class="string">&quot;éªŒè¯ç§æœ‰å­—æ®µæ‰‹æœºå·&quot;</span>+user2.phoneNum);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">************è·å–æ‰€æœ‰å…¬æœ‰çš„å­—æ®µ********************</span><br><span class="line">public java.lang.String com.dto.User.name</span><br><span class="line">************è·å–æ‰€æœ‰çš„å­—æ®µ(åŒ…æ‹¬ç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤çš„)********************</span><br><span class="line">public java.lang.String com.dto.User.name</span><br><span class="line">protected int com.dto.User.age</span><br><span class="line">char com.dto.User.sex</span><br><span class="line">private java.lang.String com.dto.User.phoneNum</span><br><span class="line">*************è·å–å…¬æœ‰å­—æ®µ**å¹¶è°ƒç”¨***********************************</span><br><span class="line">public java.lang.String com.dto.User.name</span><br><span class="line">éªŒè¯å§“åï¼šæç™½</span><br><span class="line">**************è·å–ç§æœ‰å­—æ®µ****å¹¶è°ƒç”¨********************************</span><br><span class="line">private java.lang.String com.dto.User.phoneNum</span><br><span class="line">éªŒè¯ç§æœ‰å­—æ®µæ‰‹æœºå·15234324237</span><br></pre></td></tr></table></figure><h5 id="3-3åå°„æˆå‘˜æ–¹æ³•"><a href="#3-3åå°„æˆå‘˜æ–¹æ³•" class="headerlink" title="3.3åå°„æˆå‘˜æ–¹æ³•"></a>3.3åå°„æˆå‘˜æ–¹æ³•</h5><table><thead><tr><th>æ–¹æ³•</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>getMethods()</td><td>è·å–æ‰€æœ‰å…±æœ‰æ–¹æ³•</td></tr><tr><td>getDeclaredMethods()</td><td>è·å–æ‰€æœ‰ç§æœ‰æ–¹æ³•(åŒ…æ‹¬ç§æœ‰ã€å…±æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤çš„)</td></tr><tr><td>getMethod()</td><td>ç¤ºä¾‹ï¼šaClass.getMethod(â€œshow1â€, String.class);è·å–å…±æœ‰æ–¹æ³•</td></tr><tr><td>getDeclaredMethod()</td><td>ç¤ºä¾‹ï¼šaClass.getDeclaredMethod(â€œshow4â€, Integer.class);è·å–æ‰€æœ‰ç§æœ‰æ–¹æ³•(åŒ…æ‹¬ç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤çš„)</td></tr><tr><td>Methodå¯¹è±¡.invoke</td><td>æ‰§è¡Œå½“å‰æ–¹æ³•ï¼Œæœ‰è¿”å›å€¼</td></tr><tr><td>æ“ä½œçš„å¯¹è±¡setAccessible(true)</td><td>å¿½ç•¥æƒé™ä¿®é¥°ç¬¦æ ¡éªŒ</td></tr></tbody></table><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MothodDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show1</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†ï¼šå…¬æœ‰çš„ï¼ŒStringå‚æ•°çš„show1(): s = &quot;</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">show2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†ï¼šå—ä¿æŠ¤çš„ï¼Œæ— å‚çš„show2()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show3</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†ï¼šé»˜è®¤çš„ï¼Œæ— å‚çš„show3()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">show4</span><span class="params">(Integer age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†ï¼Œç§æœ‰çš„ï¼Œå¹¶ä¸”æœ‰è¿”å›å€¼çš„ï¼Œintå‚æ•°çš„show4(): age = &quot;</span> + age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Class&lt;?&gt; aClass = Class.forName(<span class="string">&quot;com.demo.MothodDemo&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;***************è·å–æ‰€æœ‰çš„â€å…¬æœ‰â€œæ–¹æ³•*******************&quot;</span>);</span><br><span class="line">        Method[] methods = aClass.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            System.out.println(method);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;***************è·å–æ‰€æœ‰çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç§æœ‰çš„*******************&quot;</span>);</span><br><span class="line">        Method[] declaredMethods = aClass.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method declaredMethod : declaredMethods) &#123;</span><br><span class="line">            System.out.println(declaredMethod);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;***************è·å–å…¬æœ‰æ–¹æ³•å¹¶è°ƒç”¨*******************&quot;</span>);</span><br><span class="line">        <span class="type">Method</span> <span class="variable">show1</span> <span class="operator">=</span> aClass.getMethod(<span class="string">&quot;show1&quot;</span>, String.class);</span><br><span class="line">        System.out.println(show1);</span><br><span class="line">        <span class="type">MothodDemo</span> <span class="variable">mothodDemo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MothodDemo</span>();</span><br><span class="line">        show1.invoke(mothodDemo, <span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;***************è·å–ç§æœ‰çš„show4()æ–¹æ³•******************&quot;</span>);</span><br><span class="line">        <span class="type">Method</span> <span class="variable">show3</span> <span class="operator">=</span> aClass.getDeclaredMethod(<span class="string">&quot;show4&quot;</span>, Integer.class);</span><br><span class="line">        show3.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> aClass.getConstructor().newInstance();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">invoke</span> <span class="operator">=</span> show3.invoke(o, <span class="number">25</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿”å›å€¼ï¼š&quot;</span> + invoke);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">***************è·å–æ‰€æœ‰çš„â€å…¬æœ‰â€œæ–¹æ³•*******************</span><br><span class="line">public void com.demo.MothodDemo.show1(java.lang.String)</span><br><span class="line">public static void com.demo.MothodDemo.main(java.lang.String[]) throws java.lang.Exception</span><br><span class="line">public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException</span><br><span class="line">public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException</span><br><span class="line">public final void java.lang.Object.wait() throws java.lang.InterruptedException</span><br><span class="line">public boolean java.lang.Object.equals(java.lang.Object)</span><br><span class="line">public java.lang.String java.lang.Object.toString()</span><br><span class="line">public native int java.lang.Object.hashCode()</span><br><span class="line">public final native java.lang.Class java.lang.Object.getClass()</span><br><span class="line">public final native void java.lang.Object.notify()</span><br><span class="line">public final native void java.lang.Object.notifyAll()</span><br><span class="line">***************è·å–æ‰€æœ‰çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç§æœ‰çš„*******************</span><br><span class="line">public void com.demo.MothodDemo.show1(java.lang.String)</span><br><span class="line">protected void com.demo.MothodDemo.show2()</span><br><span class="line">void com.demo.MothodDemo.show3()</span><br><span class="line">private java.lang.String com.demo.MothodDemo.show4(java.lang.Integer)</span><br><span class="line">public static void com.demo.MothodDemo.main(java.lang.String[]) throws java.lang.Exception</span><br><span class="line">***************è·å–å…¬æœ‰æ–¹æ³•å¹¶è°ƒç”¨*******************</span><br><span class="line">public void com.demo.MothodDemo.show1(java.lang.String)</span><br><span class="line">è°ƒç”¨äº†ï¼šå…¬æœ‰çš„ï¼ŒStringå‚æ•°çš„show1(): s = æç™½</span><br><span class="line">***************è·å–ç§æœ‰çš„show4()æ–¹æ³•******************</span><br><span class="line">è°ƒç”¨äº†ï¼Œç§æœ‰çš„ï¼Œå¹¶ä¸”æœ‰è¿”å›å€¼çš„ï¼Œintå‚æ•°çš„show4(): age = 25</span><br><span class="line">è¿”å›å€¼ï¼šabcd</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-4åå°„main-æ–¹æ³•"><a href="#3-4åå°„main-æ–¹æ³•" class="headerlink" title="3.4åå°„main()æ–¹æ³•"></a>3.4åå°„main()æ–¹æ³•</h5><p>å…¶å®å°±æ˜¯æˆå‘˜åå°„,ä½†æ˜¯æ¯”è¾ƒç‰¹æ®Š</p><p><strong>ç¤ºä¾‹:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainMethodDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;MainMethodDemo.main()æ–¹æ³•æ‰§è¡Œäº†ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainMethodDemoTwo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">aClass</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.demo.MainMethodDemo&quot;</span>);</span><br><span class="line">        <span class="type">Method</span> <span class="variable">main</span> <span class="operator">=</span> aClass.getMethod(<span class="string">&quot;main&quot;</span>, String[].class);</span><br><span class="line">        main.invoke(<span class="literal">null</span>, (Object) <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p>MainMethodDemo.main()æ–¹æ³•æ‰§è¡Œäº†ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaè‡ªå®šä¹‰æ³¨è§£</title>
      <link href="/2023/03/21/java%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3/"/>
      <url>/2023/03/21/java%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>javaè‡ªå®šä¹‰æ³¨è§£</p><span id="more"></span><h4 id="ä¸€ã€æ³¨è§£ç®€ä»‹"><a href="#ä¸€ã€æ³¨è§£ç®€ä»‹" class="headerlink" title="ä¸€ã€æ³¨è§£ç®€ä»‹"></a>ä¸€ã€æ³¨è§£ç®€ä»‹</h4><p>æ³¨è§£<code>Annontation</code>,java5å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œä½äºjava.long,annotationä¸­ã€‚æä¾›äº†ä¸€ç§å®‰å…¨çš„ç±»ä¼¼æ³¨é‡Šçš„æœºåˆ¶ï¼Œç”¨æ¥å°†ä»»ä½•çš„ä¿¡æ¯æˆ–å…ƒæ•°æ®ï¼ˆmetadataï¼‰ä¸ç¨‹åºå…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ç­‰ï¼‰è¿›è¡Œå…³è”ã€‚æ˜¯ä¸€ç§è¯´æ˜ã€é…ç½®ã€æè¿°æ€§çš„ä¿¡æ¯ï¼Œä¸å…·ä½“ä¸šåŠ¡æ— å…³ï¼Œä¹Ÿä¸ä¼šå½±å“æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘ã€‚ä½†æˆ‘ä»¬å¯ä»¥ç”¨åå°„æœºåˆ¶æ¥è¿›è¡Œæ ¡éªŒã€èµ‹å€¼ç­‰æ“ä½œã€‚</p><h5 id="è‡ªå®šä¹‰æ³¨è§£åŸºç¡€è¯­æ³•"><a href="#è‡ªå®šä¹‰æ³¨è§£åŸºç¡€è¯­æ³•" class="headerlink" title="è‡ªå®šä¹‰æ³¨è§£åŸºç¡€è¯­æ³•"></a>è‡ªå®šä¹‰æ³¨è§£åŸºç¡€è¯­æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> æ³¨è§£å &#123;å®šä¹‰ä½“&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒã€Annotationæä¾›çš„å…ƒæ³¨è§£"><a href="#äºŒã€Annotationæä¾›çš„å…ƒæ³¨è§£" class="headerlink" title="äºŒã€Annotationæä¾›çš„å…ƒæ³¨è§£"></a>äºŒã€Annotationæä¾›çš„å…ƒæ³¨è§£</h4><p>å…ƒæ³¨è§£çš„ä½œç”¨æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ã€‚Java5.0å®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œå®ƒä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶å®ƒ annotationç±»å‹ä½œè¯´æ˜ï¼Œjava5æä¾›äº†4ä¸ªå…ƒæ³¨è§£ï¼Œjdk8åŠ å…¥äº†<code>Repeatable</code>ã€<code>Native</code>æ³¨è§£</p><h5 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h5><p><strong>ä½œç”¨ï¼š</strong>ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´</p><h6 id="å–å€¼"><a href="#å–å€¼" class="headerlink" title="å–å€¼"></a>å–å€¼</h6><p>å¤‡æ³¨ï¼šä¾‹å¦‚@Target(ElementType.METHOD)ï¼Œæ ‡å¿—çš„æ³¨è§£ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªæ³¨è§£æ ‡å¿—åœ¨ç±»ä¸Šï¼Œå°±ä¼šæŠ¥é”™</p><table><thead><tr><th align="left"><strong>Targetç±»å‹</strong></th><th>æè¿°</th></tr></thead><tbody><tr><td align="left">ElementType.TYPE</td><td>åº”ç”¨äºç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨è§£ç±»å‹ï¼‰ã€æšä¸¾</td></tr><tr><td align="left">ElementType.FIELD</td><td>åº”ç”¨äºå±æ€§ï¼ˆåŒ…æ‹¬æšä¸¾ä¸­çš„å¸¸é‡ï¼‰</td></tr><tr><td align="left">ElementType.METHOD</td><td>åº”ç”¨äºæ–¹æ³•</td></tr><tr><td align="left">ElementType.PARAMETER</td><td>åº”ç”¨äºæ–¹æ³•çš„å½¢å‚</td></tr><tr><td align="left">ElementType.CONSTRUCTOR</td><td>åº”ç”¨äºæ„é€ å‡½æ•°</td></tr><tr><td align="left">ElementType.LOCAL_VARIABLE</td><td>åº”ç”¨äºå±€éƒ¨å˜é‡</td></tr><tr><td align="left">ElementType.ANNOTATION_TYPE</td><td>åº”ç”¨äºæ³¨è§£ç±»å‹</td></tr><tr><td align="left">ElementType.PACKAGE</td><td>åº”ç”¨äºåŒ…</td></tr><tr><td align="left">TYPE_PARAMETER</td><td>ç±»å‹å‚æ•°å£°æ˜ï¼ŒJavaSE8å¼•è¿›ï¼Œå¯ä»¥åº”ç”¨äºç±»çš„æ³›å‹å£°æ˜ä¹‹å¤„</td></tr><tr><td align="left">TYPE_USE</td><td>JavaSE8å¼•è¿›ï¼Œæ­¤ç±»å‹åŒ…æ‹¬ç±»å‹å£°æ˜å’Œç±»å‹å‚æ•°å£°æ˜ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è®¾è®¡è€…è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨@Targetï¼ˆElementType.TYPE_USEï¼‰å¯¹@NonNullè¿›è¡Œæ ‡è®°ï¼Œåˆ™ç±»å‹æ£€æŸ¥å™¨å¯ä»¥å°†@NonNull class C {â€¦} Cç±»çš„æ‰€æœ‰å˜é‡éƒ½è§†ä¸ºénull</td></tr></tbody></table><h5 id="Retention"><a href="#Retention" class="headerlink" title="Retention"></a>Retention</h5><p><strong>ä½œç”¨</strong>ï¼šè¡¨æ˜æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ</p><table><thead><tr><th>ç”Ÿå‘½å‘¨æœŸç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>RetentionPolicy.SOURCE</td><td>ç¼–è¯‘æ—¶è¢«ä¸¢å¼ƒï¼Œä¸åŒ…å«åœ¨ç±»æ–‡ä»¶ä¸­</td></tr><tr><td>RetentionPolicy.CLASS</td><td>JVMåŠ è½½æ—¶è¢«ä¸¢å¼ƒï¼ŒåŒ…å«åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œé»˜è®¤å€¼</td></tr><tr><td>RetentionPolicy.RUNTIME</td><td>ç”±JVM åŠ è½½ï¼ŒåŒ…å«åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥è¢«è·å–åˆ°</td></tr></tbody></table><h5 id="Inherited"><a href="#Inherited" class="headerlink" title="Inherited"></a>Inherited</h5><p><strong>ä½œç”¨ï¼š</strong>å®šä¹‰è¯¥æ³¨è§£å’Œå­ç±»çš„å…³ç³»ï¼Œä½¿ç”¨æ­¤æ³¨è§£å£°æ˜å‡ºæ¥çš„è‡ªå®šä¹‰æ³¨è§£ï¼Œåœ¨ä½¿ç”¨åœ¨ç±»ä¸Šé¢æ—¶ï¼Œå­ç±»ä¼šè‡ªåŠ¨ç»§æ‰¿æ­¤æ³¨è§£ï¼Œå¦åˆ™ï¼Œå­ç±»ä¸ä¼šç»§æ‰¿æ­¤æ³¨è§£ã€‚æ³¨æ„ï¼Œä½¿ç”¨Inheritedå£°æ˜å‡ºæ¥çš„æ³¨è§£ï¼Œåªæœ‰åœ¨ç±»ä¸Šä½¿ç”¨æ—¶æ‰ä¼šæœ‰æ•ˆï¼Œå¯¹æ–¹æ³•ï¼Œå±æ€§ç­‰å…¶ä»–æ— æ•ˆã€‚</p><h5 id="Documented"><a href="#Documented" class="headerlink" title="Documented"></a><strong>Documented</strong></h5><p><strong>ä½œç”¨</strong>ï¼šè¡¨æ˜è¯¥æ³¨è§£æ ‡è®°çš„å…ƒç´ å¯ä»¥è¢«Javadoc æˆ–ç±»ä¼¼çš„å·¥å…·æ–‡æ¡£åŒ–</p><h5 id="Repeatable"><a href="#Repeatable" class="headerlink" title="Repeatable"></a>Repeatable</h5><p><strong>ä½œç”¨</strong>ï¼šæ˜¯å¦å¯é‡å¤æ³¨è§£ï¼Œjdk1.8å¼•å…¥å…è®¸åœ¨ç›¸åŒçš„ç¨‹åºå…ƒç´ ä¸­é‡å¤æ³¨è§£ï¼Œåœ¨éœ€è¦å¯¹åŒä¸€ç§æ³¨è§£å¤šæ¬¡ä½¿ç”¨æ—¶ï¼Œå¾€å¾€éœ€è¦å€ŸåŠ© @Repeatable æ³¨è§£ã€‚Java 8 ç‰ˆæœ¬ä»¥å‰ï¼ŒåŒä¸€ä¸ªç¨‹åºå…ƒç´ å‰æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªç›¸åŒç±»å‹çš„æ³¨è§£ï¼Œå¦‚æœéœ€è¦åœ¨åŒä¸€ä¸ªå…ƒç´ å‰ä½¿ç”¨å¤šä¸ªç›¸åŒç±»å‹çš„æ³¨è§£ï¼Œåˆ™å¿…é¡»ä½¿ç”¨æ³¨è§£â€œå®¹å™¨â€</p><h5 id="Native"><a href="#Native" class="headerlink" title="Native"></a>Native</h5><p> <strong>ä½œç”¨ï¼š</strong>æ³¨è§£ä¿®é¥°æˆå‘˜å˜é‡ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªå˜é‡å¯ä»¥è¢«æœ¬åœ°ä»£ç å¼•ç”¨ï¼Œå¸¸å¸¸è¢«ä»£ç ç”Ÿæˆå·¥å…·ä½¿ç”¨ã€‚å¯¹äº @Native æ³¨è§£ä¸å¸¸ä½¿ç”¨ï¼Œäº†è§£å³å¯</p><h4 id="ä¸‰ã€æ³¨è§£çš„ä½¿ç”¨åœºæ™¯ç¤ºä¾‹"><a href="#ä¸‰ã€æ³¨è§£çš„ä½¿ç”¨åœºæ™¯ç¤ºä¾‹" class="headerlink" title="ä¸‰ã€æ³¨è§£çš„ä½¿ç”¨åœºæ™¯ç¤ºä¾‹"></a>ä¸‰ã€æ³¨è§£çš„ä½¿ç”¨åœºæ™¯ç¤ºä¾‹</h4>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cronè¡¨è¾¾å¼</title>
      <link href="/2023/03/07/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2023/03/07/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>cronä½¿ç”¨</p><span id="more"></span><h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>åœ¨ä½¿ç”¨å®šæ—¶è°ƒåº¦ä»»åŠ¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„ï¼Œå°±æ˜¯<code>cron</code>è¡¨è¾¾å¼äº†ã€‚é€šè¿‡<code>cron</code>è¡¨è¾¾å¼æ¥æŒ‡å®šä»»åŠ¡åœ¨æŸä¸ªæ—¶é—´ç‚¹æˆ–è€…å‘¨æœŸæ€§çš„æ‰§è¡Œã€‚<code>cron</code>è¡¨è¾¾å¼é…ç½®èµ·æ¥ç®€æ´æ–¹ä¾¿ï¼Œæ— è®ºæ˜¯<code>Spring</code>çš„<code>@Scheduled</code>è¿˜æ˜¯ç”¨<code>Quartz</code>æ¡†æ¶ï¼Œéƒ½æ”¯æŒcronè¡¨è¾¾å¼ã€‚</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><h5 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h5><p><code>cron</code>è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”±6åˆ°7ä½å­—ç¬¦ç»„æˆï¼Œå‰6ä½æ˜¯å¿…é¡»çš„ï¼Œåé¢ä¸€ä½æ˜¯å¯é€‰çš„</p><p>ä»å·¦åˆ°å³ï¼Œä¾æ¬¡å¯¹æ¯ä¸ªå­—æ®µæŒ‡å®šç›¸åº”çš„å€¼ï¼Œå°±å¯ä»¥ç¡®å®šä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ç‚¹å’Œå‘¨æœŸäº†ã€‚å€¼å¯ä»¥ç”±æ•°å­—é…åˆå­—ç¬¦æ¥ç»„åˆã€‚</p><p><img src="/2023/03/07/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/image-20230307174212571-8182134.png" alt="image-20230307174212571"></p><h5 id="å¸¸ç”¨çš„å­—ç¬¦"><a href="#å¸¸ç”¨çš„å­—ç¬¦" class="headerlink" title="å¸¸ç”¨çš„å­—ç¬¦"></a>å¸¸ç”¨çš„å­—ç¬¦</h5><h6 id><a href="#" class="headerlink" title="*"></a><code>*</code></h6><p>æ¯çš„æ„æ€ï¼Œåœ¨ä¸åŒçš„å­—ç¬¦ä½ä¸Šï¼Œå°±ä»£è¡¨æ¯ç§’ï¼Œæ¯åˆ†ï¼Œæ¯å°æ—¶ç­‰ã€‚</p><p><code>-</code></p><p>æŒ‡å®šå€¼çš„èŒƒå›´ã€‚æ¯”å¦‚[1-10]ï¼Œåœ¨ç§’å­—æ®µé‡Œå°±æ˜¯æ¯åˆ†é’Ÿçš„ç¬¬1åˆ°10ç§’ï¼Œåœ¨åˆ†å°±æ˜¯æ¯å°æ—¶çš„ç¬¬1åˆ°10åˆ†é’Ÿï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p><code>,</code></p><p>æŒ‡å®šæŸå‡ ä¸ªå€¼ã€‚æ¯”å¦‚[2,4,5]ï¼Œåœ¨ç§’å­—æ®µé‡Œå°±æ˜¯æ¯åˆ†é’Ÿçš„ç¬¬2ï¼Œç¬¬4ï¼Œç¬¬5ç§’ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p><code>/</code></p><p>å®šå€¼çš„èµ·å§‹å’Œå¢åŠ å¹…åº¦ã€‚æ¯”å¦‚[3&#x2F;5]ï¼Œåœ¨ç§’å­—æ®µå°±æ˜¯æ¯åˆ†é’Ÿçš„ç¬¬3ç§’å¼€å§‹ï¼Œæ¯éš”5ç§’ç”Ÿæ•ˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯ç¬¬3ç§’ã€8ç§’ã€13ç§’ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p><code>?</code></p><p>ä»…ç”¨äºã€æ—¥ã€‘å’Œã€å‘¨ã€‘å­—æ®µã€‚å› ä¸ºåœ¨æŒ‡å®šæŸæ—¥å’Œå‘¨å‡ çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªå€¼å®é™…ä¸Šæ˜¯å†²çªçš„ï¼Œæ‰€ä»¥éœ€è¦ç”¨ã€?ã€‘æ ‡è¯†ä¸ç”Ÿæ•ˆçš„å­—æ®µã€‚æ¯”å¦‚ã€0 1 * * * ?ã€‘å°±ä»£è¡¨æ¯å¹´æ¯æœˆæ¯æ—¥æ¯å°æ—¶çš„1åˆ†0ç§’è§¦å‘ä»»åŠ¡ã€‚è¿™é‡Œçš„å‘¨å°±æ²¡æœ‰æ•ˆæœäº†</p><p><code>SUN</code></p><p>ä»…ç”¨äºã€å‘¨ã€‘å­—æ®µï¼Œè¡¨ç¤ºæ˜ŸæœŸæ—¥ã€‚ä¹Ÿå¯ä»¥ç”¨æ•°å­—1è®¾ç½®ã€‚å‘¨æ—¥åˆ°å‘¨å…­åˆ†åˆ«ä¸ºSUNï¼ŒMONï¼ŒTUEï¼ŒWEDï¼ŒTHUï¼ŒFRIå’ŒSATï¼Œå¯¹åº”æ•°å­—1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ã€‚ç›®å‰Quartzæ”¯æŒã€‚</p><p><code>L</code></p><p>å³lastï¼Œç”¨äºã€æ—¥ã€‘ã€å‘¨ã€‘å­—æ®µã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸åŒçš„å­—æ®µçš„ä¸åŒä½¿ç”¨æ–¹å¼ï¼Œå…¶å«ä¹‰æœ‰æ‰€å·®åˆ«ã€‚</p><p><strong>ç”¨äºæ—¥å­—æ®µ</strong>ï¼šç›´æ¥ä½¿ç”¨Lä»£è¡¨æ¯ä¸ªæœˆçš„æœ€åä¸€å¤©ã€‚ä¹Ÿæ”¯æŒåç§»é‡çš„æ–¹å¼ï¼Œé…ç½®[L-1]åˆ™ä»£è¡¨æ¯æœˆçš„å€’æ•°ç¬¬äºŒå¤©ã€‚<br><strong>ç”¨äºå‘¨å­—æ®µ</strong>ï¼šç›´æ¥ä½¿ç”¨Lä»£è¡¨æ¯å‘¨çš„æœ€åä¸€å¤©ï¼Œä¹Ÿå°±æ˜¯ç­‰æ•ˆäº[7]æˆ–[SAT]ï¼Œä½†æ˜¯å¦‚æœé…åˆä¸Šæ•°å­—ï¼Œæ¯”å¦‚[7L]ï¼Œåˆ™ä»£è¡¨æ¯ä¸ªæœˆæœ€åä¸€ä¸ªå‘¨å…­ï¼Œç­‰æ•ˆäº[SATL]ã€‚ç›®å‰Quartzæ”¯æŒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSåŸºç¡€</title>
      <link href="/2023/03/07/CSS/"/>
      <url>/2023/03/07/CSS/</url>
      
        <content type="html"><![CDATA[<p>cssåŸºç¡€</p><span id="more"></span><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><h4 id="ä¸€ã€cssç®€ä»‹"><a href="#ä¸€ã€cssç®€ä»‹" class="headerlink" title="ä¸€ã€cssç®€ä»‹"></a>ä¸€ã€cssç®€ä»‹</h4><h5 id="1-1ä»€ä¹ˆæ˜¯css"><a href="#1-1ä»€ä¹ˆæ˜¯css" class="headerlink" title="1.1ä»€ä¹ˆæ˜¯css"></a>1.1ä»€ä¹ˆæ˜¯css</h5><p>CSS æ˜¯ä¸€ç§æè¿° HTML æ–‡æ¡£æ ·å¼çš„è¯­è¨€ã€‚</p><p>CSS æè¿°åº”è¯¥å¦‚ä½•æ˜¾ç¤º HTML å…ƒç´ ã€‚</p><h5 id="1-2ä¸ºä»€ä¹ˆä½¿ç”¨css"><a href="#1-2ä¸ºä»€ä¹ˆä½¿ç”¨css" class="headerlink" title="1.2ä¸ºä»€ä¹ˆä½¿ç”¨css"></a>1.2ä¸ºä»€ä¹ˆä½¿ç”¨css</h5><p>å®ç°å†…å®¹ä¸æ ·å¼çš„åˆ†ç¦»ï¼Œä¾¿äºå›¢é˜Ÿå¼€å‘</p><p>CSS ç”¨äºå®šä¹‰ç½‘é¡µçš„æ ·å¼ï¼ŒåŒ…æ‹¬é’ˆå¯¹ä¸åŒè®¾å¤‡å’Œå±å¹•å°ºå¯¸çš„è®¾è®¡å’Œå¸ƒå±€ã€‚</p><h5 id="1-3cssè¯­æ³•"><a href="#1-3cssè¯­æ³•" class="headerlink" title="1.3cssè¯­æ³•"></a>1.3cssè¯­æ³•</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">é€‰æ‹©å™¨&#123;</span><br><span class="line">å±æ€§åï¼šå±æ€§å€¼;</span><br><span class="line">å±æ€§åï¼šå±æ€§å€¼;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="äºŒã€cssåŸºæœ¬ä½¿ç”¨"><a href="#äºŒã€cssåŸºæœ¬ä½¿ç”¨" class="headerlink" title="äºŒã€cssåŸºæœ¬ä½¿ç”¨"></a>äºŒã€cssåŸºæœ¬ä½¿ç”¨</h4><h5 id="cssä½ç½®"><a href="#cssä½ç½®" class="headerlink" title="cssä½ç½®"></a>cssä½ç½®</h5><h6 id="å¤–éƒ¨css"><a href="#å¤–éƒ¨css" class="headerlink" title="å¤–éƒ¨css"></a>å¤–éƒ¨css</h6><p>å¤–éƒ¨æ ·å¼åœ¨ HTML é¡µé¢ <code>head</code> éƒ¨åˆ†å†…çš„ <code>link</code> å…ƒç´ ä¸­è¿›è¡Œå®šä¹‰ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;æ–‡ä»¶åœ°å€/æ–‡ä»¶å<span class="selector-class">.css</span>&quot;&gt;</span><br></pre></td></tr></table></figure><h6 id="å†…éƒ¨css"><a href="#å†…éƒ¨css" class="headerlink" title="å†…éƒ¨css"></a>å†…éƒ¨css</h6><p>å†…éƒ¨æ ·å¼åœ¨ HTML é¡µé¢çš„ <code>head</code> éƒ¨åˆ†å†…çš„ <code>style</code> å…ƒç´ ä¸­è¿›è¡Œå®šä¹‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å†…éƒ¨cssä½ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: linen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: maroon;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is a heading<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="è¡Œå†…css"><a href="#è¡Œå†…css" class="headerlink" title="è¡Œå†…css"></a>è¡Œå†…css</h6><p>è¡Œå†…æ ·å¼åœ¨ç›¸å…³å…ƒç´ çš„ â€œstyleâ€ å±æ€§ä¸­å®šä¹‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color:blue;text-align:center;&quot;</span>&gt;</span>This is a heading<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:red;&quot;</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><font color="red">å¤šä¸ª<code>css</code>æ–‡ä»¶æ“ä½œåŒä¸€ä¸ªå…ƒç´ ç”Ÿæ•ˆè§„åˆ™</font></p><p>è¡Œå†…æ ·å¼ï¼ˆåœ¨ HTML å…ƒç´ ä¸­ï¼‰&gt;å¤–éƒ¨å’Œå†…éƒ¨æ ·å¼è¡¨ï¼ˆåœ¨ head éƒ¨åˆ†ï¼‰&gt;æµè§ˆå™¨é»˜è®¤æ ·å¼</p><h5 id="å¸¸ç”¨cssé€‰æ‹©å™¨"><a href="#å¸¸ç”¨cssé€‰æ‹©å™¨" class="headerlink" title="å¸¸ç”¨cssé€‰æ‹©å™¨"></a>å¸¸ç”¨cssé€‰æ‹©å™¨</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* æ ‡ç­¾é€‰æ‹©å™¨ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* å±…ä¸­ */</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* é¢œè‰² */</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* idé€‰æ‹©å™¨ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* ç±»é€‰æ‹©å™¨ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.a2</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: dashed;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* divæ ‡ç­¾ä¸”classä¸ºa3çš„å±æ€§ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">div</span><span class="selector-class">.a3</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* é€šç”¨é€‰æ‹©å™¨ ï¼å…¨å±€ */</span></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: antiquewhite;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* åˆ†ç»„é€‰æ‹©å™¨ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span>,</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä¸€æ®µæ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a1&quot;</span>&gt;</span></span><br><span class="line">        a1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a2&quot;</span>&gt;</span></span><br><span class="line">        a2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a2&quot;</span>&gt;</span></span><br><span class="line">        a2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a2&quot;</span>&gt;</span></span><br><span class="line">        a2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a3&quot;</span>&gt;</span></span><br><span class="line">        a3</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/03/07/CSS/image-20230829223056786.png" alt="image-20230829223056786"></p><h5 id="cssæ³¨é‡Š"><a href="#cssæ³¨é‡Š" class="headerlink" title="cssæ³¨é‡Š"></a>cssæ³¨é‡Š</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è¿™æ˜¯ä¸€æ¡å•è¡Œæ³¨é‡Š */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¿™æ˜¯</span></span><br><span class="line"><span class="comment">ä¸€æ¡å¤šè¡Œçš„</span></span><br><span class="line"><span class="comment">æ³¨é‡Š */</span> </span><br></pre></td></tr></table></figure><h5 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h5><h6 id="èƒŒæ™¯é¢œè‰²"><a href="#èƒŒæ™¯é¢œè‰²" class="headerlink" title="èƒŒæ™¯é¢œè‰²"></a>èƒŒæ™¯é¢œè‰²</h6><p><code>background-color</code>è®¾ç½®èƒŒæ™¯é¢œè‰²</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å…¨å±€èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">       * &#123;</span><br><span class="line">           <span class="attribute">background-color</span>: bisque;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸é€æ˜åº¦</strong></p><p>opacity å±æ€§æŒ‡å®šå…ƒç´ çš„ä¸é€æ˜åº¦&#x2F;é€æ˜åº¦ã€‚å–å€¼èŒƒå›´ä¸º 0.0 - 1.0ã€‚å€¼è¶Šä½ï¼Œè¶Šé€æ˜ï¼š</p><p><strong>æ³¨æ„ï¼š</strong>ä½¿ç”¨ <code>opacity</code> å±æ€§ä¸ºå…ƒç´ çš„èƒŒæ™¯æ·»åŠ é€æ˜åº¦æ—¶ï¼Œå…¶æ‰€æœ‰å­å…ƒç´ éƒ½ç»§æ‰¿ç›¸åŒçš„é€æ˜åº¦ã€‚è¿™å¯èƒ½ä¼šä½¿å®Œå…¨é€æ˜çš„å…ƒç´ å†…çš„æ–‡æœ¬éš¾ä»¥é˜…è¯»ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        <span class="comment">/* å…¨å±€èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">        * &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: bisque;</span><br><span class="line">             <span class="attribute">opacity</span>: <span class="number">0.3</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-id">#a1</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">background-color</span>: black;</span><br><span class="line">        </span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> id=&quot;a1&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> id=&quot;a2&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> id=&quot;a3&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">body</span>&gt;</span><br></pre></td></tr></table></figure><h6 id="èƒŒæ™¯å›¾ç‰‡"><a href="#èƒŒæ™¯å›¾ç‰‡" class="headerlink" title="èƒŒæ™¯å›¾ç‰‡"></a>èƒŒæ™¯å›¾ç‰‡</h6><p><code>background-image</code> å±æ€§æŒ‡å®šç”¨ä½œå…ƒç´ èƒŒæ™¯çš„å›¾åƒã€‚</p><p><code>opacity</code>å¯ä»¥è®¾ç½®èƒŒæ™¯é€æ˜åº¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* å…¨å±€èƒŒæ™¯é¢œè‰² */</span></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;img/d03cf715174d73f774943881c30d9757.jpeg&quot;</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="èƒŒæ™¯é‡å¤"><a href="#èƒŒæ™¯é‡å¤" class="headerlink" title="èƒŒæ™¯é‡å¤"></a>èƒŒæ™¯é‡å¤</h6><p>èƒŒæ™¯å›¾ç‰‡é»˜è®¤é‡å¤</p><p><code>background-repeat</code>ç”¨äºè®¾ç½®èƒŒæ™¯é‡å¤æ–¹å‘</p><table><thead><tr><th>å±æ€§å€¼</th><th>è§£é‡Š</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>repeat-x</td><td>æ°´å¹³é‡å¤</td><td>å»ºè®®ä½¿ç”¨ï¼Œç›¸å¯¹æ¯”è¾ƒç¾è§‚</td></tr><tr><td>repeat-y</td><td>å‚ç›´é‡å¤</td><td></td></tr><tr><td>no-repeat</td><td>åªæ˜¾ç¤ºä¸€æ¬¡èƒŒæ™¯å›¾åƒ</td><td></td></tr></tbody></table><h6 id="èƒŒæ™¯å›¾åƒä½ç½®"><a href="#èƒŒæ™¯å›¾åƒä½ç½®" class="headerlink" title="èƒŒæ™¯å›¾åƒä½ç½®"></a>èƒŒæ™¯å›¾åƒä½ç½®</h6><p><code>background-position</code></p><p>left topç”¨äºæŒ‡å®šä½ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å…¨å±€èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">       * &#123;</span><br><span class="line">           <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;img/head1.jpeg&quot;</span>);</span><br><span class="line">           <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">            <span class="attribute">background-position</span>: left top;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h6 id="èƒŒæ™¯é™„ç€"><a href="#èƒŒæ™¯é™„ç€" class="headerlink" title="èƒŒæ™¯é™„ç€"></a>èƒŒæ™¯é™„ç€</h6><p><code>background-attachment</code> å±æ€§æŒ‡å®šèƒŒæ™¯å›¾åƒæ˜¯åº”è¯¥æ»šåŠ¨è¿˜æ˜¯å›ºå®šçš„ï¼ˆä¸ä¼šéšé¡µé¢çš„å…¶ä½™éƒ¨åˆ†ä¸€èµ·æ»šåŠ¨ï¼‰</p><p>å±æ€§å€¼<code>fixed</code>èƒŒæ™¯å›ºå®šï¼Œ<code>scroll</code>èƒŒæ™¯éšç€é¡µé¢å…¶ä»–éƒ¨åˆ†ä¸€èµ·æ»šåŠ¨</p><h6 id="èƒŒæ™¯ç®€å†™"><a href="#èƒŒæ™¯ç®€å†™" class="headerlink" title="èƒŒæ™¯ç®€å†™"></a>èƒŒæ™¯ç®€å†™</h6><p>ä½¿ç”¨ç®€å†™å±æ€§åœ¨ä¸€æ¡å£°æ˜ä¸­è®¾ç½®èƒŒæ™¯å±æ€§ï¼š</p><p>åœ¨ä½¿ç”¨ç®€å†™å±æ€§æ—¶ï¼Œå±æ€§å€¼çš„é¡ºåºä¸ºï¼š</p><ul><li>background-color</li><li>background-image</li><li>background-repeat</li><li>background-attachment</li><li>background-position</li></ul><p>å±æ€§å€¼ä¹‹ä¸€ç¼ºå¤±å¹¶ä¸è¦ç´§ï¼Œåªè¦æŒ‰ç…§æ­¤é¡ºåºè®¾ç½®å…¶ä»–å€¼å³å¯ã€‚è¯·æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ background-attachment å±æ€§ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å€¼ã€‚</p><h5 id="è¾¹æ¡†"><a href="#è¾¹æ¡†" class="headerlink" title="è¾¹æ¡†"></a>è¾¹æ¡†</h5><p><code>border</code> æŒ‡å®šå…ƒç´ è¾¹æ¡†çš„æ ·å¼ã€å®½åº¦å’Œé¢œè‰²ã€‚</p><h6 id="è¾¹æ¡†ç±»å‹"><a href="#è¾¹æ¡†ç±»å‹" class="headerlink" title="è¾¹æ¡†ç±»å‹"></a>è¾¹æ¡†ç±»å‹</h6><p><strong>border-styleå±æ€§å€¼ï¼š</strong></p><table><thead><tr><th>å±æ€§å€¼</th><th>è§£é‡Š</th><th></th></tr></thead><tbody><tr><td>dotted</td><td>å®šä¹‰ç‚¹çº¿è¾¹æ¡†</td><td></td></tr><tr><td>dashed</td><td>å®šä¹‰è™šçº¿è¾¹æ¡†</td><td></td></tr><tr><td>solid</td><td>å®šä¹‰å®çº¿è¾¹æ¡†</td><td></td></tr><tr><td>double</td><td>å®šä¹‰åŒè¾¹æ¡†</td><td></td></tr><tr><td>groove</td><td>å®šä¹‰ 3D å¡å£è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</td><td></td></tr><tr><td>ridge</td><td>å®šä¹‰ 3D è„Šçº¿è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</td><td></td></tr><tr><td>inset</td><td>å®šä¹‰ 3D inset è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</td><td></td></tr><tr><td>outset</td><td>å®šä¹‰ 3D outset è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</td><td></td></tr><tr><td>none</td><td>å®šä¹‰æ— è¾¹æ¡†</td><td></td></tr><tr><td>hidden</td><td>å®šä¹‰éšè—è¾¹æ¡†</td><td></td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: dotted;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: dashed;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: solid;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a4</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> double;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a5</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> groove;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: brown;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a6</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>:<span class="number">10px</span> ridge;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>:aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a7</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>:<span class="number">10px</span> inset;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a8</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: outset;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: chartreuse;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a9</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a10</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* æ··åˆè¾¹æ¡† */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a11</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-style</span>:  solid dotted solid ridge;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a5&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a6&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a7&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a9&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a10&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a11&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/03/07/CSS/image-20230904114703456.png" alt="image-20230904114703456"></p><p><strong>è®¾ç½®å•ä¸ªè¾¹æ¡†</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">border-top-style: dotted;</span><br><span class="line">border-right-style: solid;</span><br><span class="line">border-bottom-style: dotted;</span><br><span class="line">border-left-style: solid;</span><br></pre></td></tr></table></figure><h6 id="è¾¹æ¡†å®½åº¦"><a href="#è¾¹æ¡†å®½åº¦" class="headerlink" title="è¾¹æ¡†å®½åº¦"></a>è¾¹æ¡†å®½åº¦</h6><p><code>border-width</code> å±æ€§æŒ‡å®šå››ä¸ªè¾¹æ¡†çš„å®½åº¦ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-style</span>: dashed;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-width</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* å…·ä½“è®¾ç½® ä¸Šå³ä¸‹å·¦ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-style</span>: dashed;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-width</span>: <span class="number">10px</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a2&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="è¾¹æ¡†é¢œè‰²"><a href="#è¾¹æ¡†é¢œè‰²" class="headerlink" title="è¾¹æ¡†é¢œè‰²"></a>è¾¹æ¡†é¢œè‰²</h6><p><code>border-color</code> å±æ€§ç”¨äºè®¾ç½®å››ä¸ªè¾¹æ¡†çš„é¢œè‰²ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-style</span>: dashed;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-width</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-color</span>: blue;</span></span><br><span class="line"><span class="language-css">       &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">       <span class="comment">/* å…·ä½“è®¾ç½® ä¸Šå³ä¸‹å·¦ */</span></span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-style</span>: dashed;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-width</span>: <span class="number">10px</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-color</span>: red blue red blue;</span></span><br><span class="line"><span class="language-css">       &#125;</span></span><br><span class="line"><span class="language-css">   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="åœ†è§’è¾¹æ¡†"><a href="#åœ†è§’è¾¹æ¡†" class="headerlink" title="åœ†è§’è¾¹æ¡†"></a>åœ†è§’è¾¹æ¡†</h6><p><code>border-radius</code> å±æ€§ç”¨äºå‘å…ƒç´ æ·»åŠ åœ†è§’è¾¹æ¡†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="comment">/* 10pxæ˜¯è®¾ç½®çš„å¼§åº¦å¤§å° */</span></span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border</span>: <span class="number">2px</span> dashed red;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">       &#125;</span></span><br><span class="line"><span class="language-css"> </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="ç®€å†™"><a href="#ç®€å†™" class="headerlink" title="ç®€å†™"></a>ç®€å†™</h6><p><code>border</code> å±æ€§æ˜¯ä»¥ä¸‹å„ä¸ªè¾¹æ¡†å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li><code>border-width</code></li><li><code>border-style</code>ï¼ˆå¿…éœ€ï¼‰</li><li><code>border-color</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">2px</span> dashed red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å¤–è¾¹è·"><a href="#å¤–è¾¹è·" class="headerlink" title="å¤–è¾¹è·"></a>å¤–è¾¹è·</h5><p>CSS æ‹¥æœ‰ç”¨äºä¸ºå…ƒç´ çš„æ¯ä¸€ä¾§æŒ‡å®šå¤–è¾¹è·çš„å±æ€§ï¼š</p><ul><li><code>margin-top</code></li><li><code>margin-right</code></li><li><code>margin-bottom</code></li><li><code>margin-left</code></li></ul><p>ç®€å†™marginå¯ä»¥</p><p><strong>auto å€¼</strong></p><p>æ‚¨å¯ä»¥å°† margin å±æ€§è®¾ç½®ä¸º <code>auto</code>ï¼Œä»¥ä½¿å…ƒç´ åœ¨å…¶å®¹å™¨ä¸­æ°´å¹³å±…ä¸­ã€‚</p><p><strong>inherit å€¼</strong></p><p>ç»§æ‰¿çˆ¶å…ƒç´ çš„è¾¹è·å€¼</p><h5 id="å†…è¾¹è·"><a href="#å†…è¾¹è·" class="headerlink" title="å†…è¾¹è·"></a>å†…è¾¹è·</h5><p>æ‹¥æœ‰ç”¨äºä¸ºå…ƒç´ çš„æ¯ä¸€ä¾§æŒ‡å®šå†…è¾¹è·çš„å±æ€§ï¼š</p><ul><li><code>padding-top</code></li><li><code>padding-right</code></li><li><code>padding-bottom</code></li><li><code>padding-left</code></li></ul><p>ç®€å†™Padding</p><h5 id="é«˜åº¦è·Ÿå®½åº¦"><a href="#é«˜åº¦è·Ÿå®½åº¦" class="headerlink" title="é«˜åº¦è·Ÿå®½åº¦"></a>é«˜åº¦è·Ÿå®½åº¦</h5><p><code>eight</code> å’Œ <code>width</code> å±æ€§ç”¨äºè®¾ç½®å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦ã€‚</p><p><strong>å±æ€§å€¼</strong></p><ul><li><code>auto</code> - é»˜è®¤ã€‚æµè§ˆå™¨è®¡ç®—é«˜åº¦å’Œå®½åº¦ã€‚</li><li><code>*length*</code> - ä»¥ pxã€cm ç­‰å®šä¹‰é«˜åº¦&#x2F;å®½åº¦ã€‚</li><li><code>%</code> - ä»¥åŒ…å«å—çš„ç™¾åˆ†æ¯”å®šä¹‰é«˜åº¦&#x2F;å®½åº¦ã€‚</li><li><code>initial</code> - å°†é«˜åº¦&#x2F;å®½åº¦è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚</li><li><code>inherit</code> - ä»å…¶çˆ¶å€¼ç»§æ‰¿é«˜åº¦&#x2F;å®½åº¦ã€‚</li></ul><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>[height]</td><td>è®¾ç½®å…ƒç´ çš„é«˜åº¦ã€‚</td></tr><tr><td>[max-height]</td><td>è®¾ç½®å…ƒç´ çš„æœ€å¤§é«˜åº¦ã€‚</td></tr><tr><td>[max-width]</td><td>è®¾ç½®å…ƒç´ çš„æœ€å¤§å®½åº¦ã€‚</td></tr><tr><td>[min-height]</td><td>è®¾ç½®å…ƒç´ çš„æœ€å°é«˜åº¦ã€‚</td></tr><tr><td>[min-width]</td><td>è®¾ç½®å…ƒç´ çš„æœ€å°å®½åº¦ã€‚</td></tr><tr><td>[width]</td><td>è®¾ç½®å…ƒç´ çš„å®½åº¦ã€‚</td></tr></tbody></table><h5 id="cssè½®å»“"><a href="#cssè½®å»“" class="headerlink" title="cssè½®å»“"></a>cssè½®å»“</h5><p>è½®å»“æ˜¯åœ¨å…ƒç´ å‘¨å›´ç»˜åˆ¶çš„ä¸€æ¡çº¿ï¼Œåœ¨è¾¹æ¡†ä¹‹å¤–ï¼Œä»¥å‡¸æ˜¾å…ƒç´ ã€‚å±æ€§ä½¿ç”¨è·Ÿè¾¹æ¡†ç±»ä¼¼</p><p><strong>æ³¨æ„ï¼š</strong><font color="red">è½®å»“ä¸[è¾¹æ¡†]ä¸åŒï¼ä¸åŒä¹‹å¤„åœ¨äºï¼šè½®å»“æ˜¯åœ¨å…ƒç´ è¾¹æ¡†ä¹‹å¤–ç»˜åˆ¶çš„ï¼Œå¹¶ä¸”å¯èƒ½ä¸å…¶ä»–å†…å®¹é‡å ã€‚åŒæ ·ï¼Œè½®å»“ä¹Ÿä¸æ˜¯å…ƒç´ å°ºå¯¸çš„ä¸€éƒ¨åˆ†ï¼›å…ƒç´ çš„æ€»å®½åº¦å’Œé«˜åº¦ä¸å—è½®å»“çº¿å®½åº¦çš„å½±å“ã€‚</font></p><h6 id="è½®å»“æ ·å¼outline-style"><a href="#è½®å»“æ ·å¼outline-style" class="headerlink" title="è½®å»“æ ·å¼outline-style"></a>è½®å»“æ ·å¼<code>outline-style</code></h6><p>outline-style å±æ€§æŒ‡å®šè½®å»“çš„æ ·å¼ï¼Œå¹¶å¯è®¾ç½®å¦‚ä¸‹å€¼ï¼š</p><ul><li><code>dotted</code> - å®šä¹‰ç‚¹çŠ¶çš„è½®å»“ã€‚</li><li><code>dashed</code> - å®šä¹‰è™šçº¿çš„è½®å»“ã€‚</li><li><code>solid</code> - å®šä¹‰å®çº¿çš„è½®å»“ã€‚</li><li><code>double</code> - å®šä¹‰åŒçº¿çš„è½®å»“ã€‚</li><li><code>groove</code> - å®šä¹‰ 3D å‡¹æ§½è½®å»“ã€‚</li><li><code>ridge</code> - å®šä¹‰ 3D å‡¸æ§½è½®å»“ã€‚</li><li><code>inset</code> - å®šä¹‰ 3D å‡¹è¾¹è½®å»“ã€‚</li><li><code>outset</code> - å®šä¹‰ 3D å‡¸è¾¹è½®å»“ã€‚</li><li><code>none</code> - å®šä¹‰æ— è½®å»“ã€‚</li><li><code>hidden</code> - å®šä¹‰éšè—çš„è½®å»“ã€‚<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: dotted;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: dashed;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: solid;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a4</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: double;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a5</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: groove;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a6</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: ridge;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a7</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: inset;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a8</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline-style</span>: outset;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a6&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a7&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h6 id="è½®å»“å®½åº¦outline-width"><a href="#è½®å»“å®½åº¦outline-width" class="headerlink" title="è½®å»“å®½åº¦outline-width"></a>è½®å»“å®½åº¦<code>outline-width</code></h6><ul><li>thinï¼ˆé€šå¸¸ä¸º 1pxï¼‰</li><li>mediumï¼ˆé€šå¸¸ä¸º 3pxï¼‰</li><li>thick ï¼ˆé€šå¸¸ä¸º 5pxï¼‰</li><li>ç‰¹å®šå°ºå¯¸ï¼ˆä»¥ pxã€ptã€cmã€em è®¡ï¼‰</li></ul><h6 id="CSS-è½®å»“é¢œè‰²outline-color"><a href="#CSS-è½®å»“é¢œè‰²outline-color" class="headerlink" title="CSS è½®å»“é¢œè‰²outline-color"></a>CSS è½®å»“é¢œè‰²<code>outline-color</code></h6><p>   å±æ€§ç”¨äºè®¾ç½®è½®å»“çš„é¢œè‰²ã€‚</p><p>  å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®é¢œè‰²ï¼š</p><ul><li><em>name</em> - æŒ‡å®šé¢œè‰²åï¼Œæ¯”å¦‚ â€œredâ€</li><li>HEX - æŒ‡å®šåå…­è¿›åˆ¶å€¼ï¼Œæ¯”å¦‚ â€œ#ff0000â€</li><li>RGB - æŒ‡å®š RGB å€¼ï¼Œæ¯”å¦‚ â€œrgb(255,0,0)â€</li><li>HSL - æŒ‡å®š HSL å€¼ï¼Œæ¯”å¦‚ â€œhsl(0, 100%, 50%)â€</li><li>invert - æ‰§è¡Œé¢œè‰²åè½¬ï¼ˆç¡®ä¿è½®å»“å¯è§ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆé¢œè‰²èƒŒæ™¯ï¼‰</li></ul><h6 id="CSS-Outline-ç®€å†™å±æ€§"><a href="#CSS-Outline-ç®€å†™å±æ€§" class="headerlink" title="CSS Outline - ç®€å†™å±æ€§"></a>CSS Outline - ç®€å†™å±æ€§</h6><p><code>outline</code> å±æ€§æ˜¯ç”¨äºè®¾ç½®ä»¥ä¸‹å„ä¸ªè½®å»“å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li><code>outline-width</code></li><li><code>outline-style</code>ï¼ˆå¿…éœ€ï¼‰</li><li><code>outline-color</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span><span class="selector-class">.a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline</span>: <span class="number">5px</span> dotted red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="cssæ–‡æœ¬"><a href="#cssæ–‡æœ¬" class="headerlink" title="cssæ–‡æœ¬"></a>cssæ–‡æœ¬</h5><h6 id="æ–‡æœ¬é¢œè‰²"><a href="#æ–‡æœ¬é¢œè‰²" class="headerlink" title="æ–‡æœ¬é¢œè‰²"></a>æ–‡æœ¬é¢œè‰²</h6><p><code>color</code> å±æ€§ç”¨äºè®¾ç½®æ–‡æœ¬çš„é¢œè‰²ã€‚é¢œè‰²ç”±ä»¥ä¸‹å€¼æŒ‡å®šï¼š</p><ul><li>é¢œè‰²å - æ¯”å¦‚ â€œredâ€</li><li>åå…­è¿›åˆ¶å€¼ - æ¯”å¦‚ â€œ#ff0000â€</li><li>RGB å€¼ - æ¯”å¦‚ â€œrgb(255,0,0)â€</li></ul><h6 id="æ–‡æœ¬å¯¹å…¶"><a href="#æ–‡æœ¬å¯¹å…¶" class="headerlink" title="æ–‡æœ¬å¯¹å…¶"></a>æ–‡æœ¬å¯¹å…¶</h6><table><thead><tr><th>å±æ€§</th><th>è¯¦è§£</th></tr></thead><tbody><tr><td>center</td><td>å±…ä¸­å¯¹é½</td></tr><tr><td>left</td><td>å·¦å¯¹é½</td></tr><tr><td>right</td><td>å³å¯¹é½</td></tr><tr><td>justify</td><td>å±æ€§è®¾ç½®ä¸º â€œjustifyâ€ åï¼Œå°†æ‹‰ä¼¸æ¯ä¸€è¡Œï¼Œä»¥ä½¿æ¯ä¸€è¡Œå…·æœ‰ç›¸ç­‰çš„å®½åº¦ï¼Œå¹¶ä¸”å·¦å³è¾¹è·æ˜¯ç›´çš„ï¼ˆå°±åƒåœ¨æ‚å¿—å’ŒæŠ¥çº¸ä¸­ï¼‰ï¼š</td></tr></tbody></table><h5 id="CSS-æ–‡å­—è£…é¥°"><a href="#CSS-æ–‡å­—è£…é¥°" class="headerlink" title="CSS æ–‡å­—è£…é¥°"></a>CSS æ–‡å­—è£…é¥°</h5><p><code>text-decoration</code> å±æ€§ç”¨äºè®¾ç½®æˆ–åˆ é™¤æ–‡æœ¬è£…é¥°ã€‚</p><p><code>text-decoration: none;</code> é€šå¸¸ç”¨äºä»é“¾æ¥ä¸Šåˆ é™¤ä¸‹åˆ’çº¿ï¼š</p><h5 id="æ–‡æœ¬è½¬æ¢"><a href="#æ–‡æœ¬è½¬æ¢" class="headerlink" title="æ–‡æœ¬è½¬æ¢"></a>æ–‡æœ¬è½¬æ¢</h5><p><code>text-transform</code> å±æ€§ç”¨äºæŒ‡å®šæ–‡æœ¬ä¸­çš„å¤§å†™å’Œå°å†™å­—æ¯ã€‚</p><p>å®ƒå¯ç”¨äºå°†æ‰€æœ‰å†…å®¹è½¬æ¢ä¸ºå¤§å†™æˆ–å°å†™å­—æ¯ï¼Œæˆ–å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼š</p><h5 id="CSS-æ–‡å­—é—´è·"><a href="#CSS-æ–‡å­—é—´è·" class="headerlink" title="CSS æ–‡å­—é—´è·"></a>CSS æ–‡å­—é—´è·</h5><h6 id="æ–‡å­—ç¼©è¿›"><a href="#æ–‡å­—ç¼©è¿›" class="headerlink" title="æ–‡å­—ç¼©è¿›"></a>æ–‡å­—ç¼©è¿›</h6><p><code>text-indent</code> å±æ€§ç”¨äºæŒ‡å®šæ–‡æœ¬ç¬¬ä¸€è¡Œçš„ç¼©è¿›</p><h6 id="å­—æ¯é—´è·"><a href="#å­—æ¯é—´è·" class="headerlink" title="å­—æ¯é—´è·"></a>å­—æ¯é—´è·</h6><p><code>letter-spacing</code> å±æ€§ç”¨äºæŒ‡å®šæ–‡æœ¬ä¸­å­—ç¬¦ä¹‹é—´çš„é—´è·</p><h6 id="è¡Œé«˜"><a href="#è¡Œé«˜" class="headerlink" title="è¡Œé«˜"></a>è¡Œé«˜</h6><p><code>line-height</code> å±æ€§ç”¨äºæŒ‡å®šè¡Œä¹‹é—´çš„é—´è·ï¼š</p><h6 id="å­—é—´è·"><a href="#å­—é—´è·" class="headerlink" title="å­—é—´è·"></a>å­—é—´è·</h6><p><code>word-spacing</code> å±æ€§ç”¨äºæŒ‡å®šæ–‡æœ¬ä¸­å•è¯ä¹‹é—´çš„é—´è·ã€‚</p><h6 id="ç©ºç™½"><a href="#ç©ºç™½" class="headerlink" title="ç©ºç™½"></a>ç©ºç™½</h6><p><code>white-space</code> å±æ€§æŒ‡å®šå…ƒç´ å†…éƒ¨ç©ºç™½çš„å¤„ç†æ–¹å¼ã€‚</p><h6 id="æ–‡æœ¬é˜´å½±"><a href="#æ–‡æœ¬é˜´å½±" class="headerlink" title="æ–‡æœ¬é˜´å½±"></a>æ–‡æœ¬é˜´å½±</h6><p><code>text-shadow</code> å±æ€§ä¸ºæ–‡æœ¬æ·»åŠ é˜´å½±ã€‚</p><p>æœ€ç®€å•çš„ç”¨æ³•æ˜¯åªæŒ‡å®šæ°´å¹³é˜´å½±ï¼ˆ2pxï¼‰å’Œå‚ç›´é˜´å½±ï¼ˆ2pxï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">       <span class="comment">/* parm é˜´å½±æ°´å¹³ä½ç½®  é˜´å½±å‚ç›´ä½ç½® æ¨¡ç³Šæ•ˆæœ é¢œè‰²  */</span></span></span><br><span class="line"><span class="language-css">       <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> red;</span></span><br><span class="line"><span class="language-css">       &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ‰“å¸æœºæ‰“æ¶å•Šåˆ°å®¶å•Šé˜¿å¸ˆå‚…çš„å¸ˆå‚…æ”¶åˆ°ç²‰ä¸çš„å‰¯æ”¶åˆ°ç²‰ä¸çš„åœ°æ–¹æ˜¯å¤§æ˜¯å¤§éd <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="csså­—ä½“"><a href="#csså­—ä½“" class="headerlink" title="csså­—ä½“"></a>csså­—ä½“</h5><h6 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h6><p><code>font-family</code>ç”¨äºè®¾ç½®å­—ä½“</p><ul><li>è¡¬çº¿å­—ä½“ï¼ˆSerifï¼‰- åœ¨æ¯ä¸ªå­—æ¯çš„è¾¹ç¼˜éƒ½æœ‰ä¸€ä¸ªå°çš„ç¬”è§¦ã€‚å®ƒä»¬è¥é€ å‡ºä¸€ç§å½¢å¼æ„Ÿå’Œä¼˜é›…æ„Ÿã€‚</li><li>æ— è¡¬çº¿å­—ä½“ï¼ˆSans-serifï¼‰- å­—ä½“çº¿æ¡ç®€æ´ï¼ˆæ²¡æœ‰å°ç¬”ç”»ï¼‰ã€‚å®ƒä»¬è¥é€ å‡ºç°ä»£è€Œç®€çº¦çš„å¤–è§‚ã€‚</li><li>ç­‰å®½å­—ä½“ï¼ˆMonospaceï¼‰- è¿™é‡Œæ‰€æœ‰å­—æ¯éƒ½æœ‰ç›¸åŒçš„å›ºå®šå®½åº¦ã€‚å®ƒä»¬åˆ›é€ å‡ºæœºæ¢°å¼çš„å¤–è§‚ã€‚</li><li>è‰ä¹¦å­—ä½“ï¼ˆCursiveï¼‰- æ¨¡ä»¿äº†äººç±»çš„ç¬”è¿¹ã€‚</li><li>å¹»æƒ³å­—ä½“ï¼ˆFantasyï¼‰- æ˜¯è£…é¥°æ€§&#x2F;ä¿çš®çš„å­—ä½“ã€‚</li></ul><h6 id="CSS-å­—ä½“æ ·å¼"><a href="#CSS-å­—ä½“æ ·å¼" class="headerlink" title="CSS å­—ä½“æ ·å¼"></a>CSS å­—ä½“æ ·å¼</h6><p><code>font-style</code> å±æ€§ä¸»è¦ç”¨äºæŒ‡å®šæ–œä½“æ–‡æœ¬ã€‚</p><p>æ­¤å±æ€§å¯è®¾ç½®ä¸‰ä¸ªå€¼ï¼š</p><ul><li>normal - æ–‡å­—æ­£å¸¸æ˜¾ç¤º</li><li>italic - æ–‡æœ¬ä»¥æ–œä½“æ˜¾ç¤º</li></ul><h6 id="å­—ä½“ç²—ç»†"><a href="#å­—ä½“ç²—ç»†" class="headerlink" title="å­—ä½“ç²—ç»†"></a>å­—ä½“ç²—ç»†</h6><p><code>font-weight</code> å±æ€§æŒ‡å®šå­—ä½“çš„ç²—ç»†ï¼š</p><p><code>normal</code>æ­£å¸¸ <code>bold</code>åŠ ç²—</p><h6 id="å­—ä½“å˜ä½“"><a href="#å­—ä½“å˜ä½“" class="headerlink" title="å­—ä½“å˜ä½“"></a>å­—ä½“å˜ä½“</h6><p><code>font-variant</code> å±æ€§æŒ‡å®šæ˜¯å¦ä»¥ small-caps å­—ä½“ï¼ˆå°å‹å¤§å†™å­—æ¯ï¼‰æ˜¾ç¤ºæ–‡æœ¬ã€‚</p><p>åœ¨ small-caps å­—ä½“ä¸­ï¼Œæ‰€æœ‰å°å†™å­—æ¯éƒ½å°†è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚ä½†æ˜¯ï¼Œè½¬æ¢åçš„å¤§å†™å­—æ¯çš„å­—ä½“å¤§å°å°äºæ–‡æœ¬ä¸­åŸå§‹å¤§å†™å­—æ¯çš„å­—ä½“å¤§å°ã€‚</p><h6 id="å­—ä½“å¤§å°"><a href="#å­—ä½“å¤§å°" class="headerlink" title="å­—ä½“å¤§å°"></a>å­—ä½“å¤§å°</h6><p><code>font-size</code> å±æ€§è®¾ç½®æ–‡æœ¬çš„å¤§å°ã€‚</p><h6 id="ç®€å†™-1"><a href="#ç®€å†™-1" class="headerlink" title="ç®€å†™"></a>ç®€å†™</h6><p><code>font</code> å±æ€§æ˜¯ä»¥ä¸‹å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li><code>font-style</code></li><li><code>font-variant</code></li><li><code>font-weight</code></li><li><code>font-size/line-height</code></li><li><code>font-family</code></li></ul><h6 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-class">.a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-style</span>: normal;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;a1&quot;</span>&gt;</span>åˆ°å®¶å¥¥IDå¥½æ–¹æ³•é»‘æ¶‰è¿”å›è¿”å›æ—¶å¯¹æ–¹ä¸º<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;a2&quot;</span>&gt;</span>æ‰“é€æ´»åŠ¨å•Šå“ˆå“ˆå‰¯æ”¶åˆ°å¤§å‰å“¦å•Šå¸æœºéƒ½å•Šå‰¯iä¼šå‘ç”Ÿçš„å¥½å‰¯isç”µè¯å‰¯isèŒƒå›´<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å…ƒç´ éšè—"><a href="#å…ƒç´ éšè—" class="headerlink" title="å…ƒç´ éšè—"></a>å…ƒç´ éšè—</h5><h6 id="display-none"><a href="#display-none" class="headerlink" title="display: none;"></a>display: none;</h6><p>åˆ é™¤å…ƒç´ ï¼Œä¸å†å ç”¨ç©ºé—´</p><h6 id="visibility-hidden"><a href="#visibility-hidden" class="headerlink" title="visibility:hidden"></a><code>visibility:hidden</code></h6><p>ä¹Ÿå¯ä»¥éšè—å…ƒç´ ã€‚ä½†æ˜¯ï¼Œè¯¥å…ƒç´ ä»å°†å ç”¨ä¸ä¹‹å‰ç›¸åŒçš„ç©ºé—´ã€‚å…ƒç´ å°†è¢«éšè—ï¼Œä½†ä»ä¼šå½±å“å¸ƒå±€ï¼š</p><h5 id="å®šä½position"><a href="#å®šä½position" class="headerlink" title="å®šä½position"></a>å®šä½<code>position</code></h5><p>æœ‰äº”ä¸ªä¸åŒçš„ä½ç½®å€¼ï¼š</p><table><thead><tr><th>å±æ€§</th><th>è¯¦è§£</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>static</td><td>HTML å…ƒç´ é»˜è®¤æƒ…å†µä¸‹çš„å®šä½æ–¹å¼ä¸º staticï¼ˆé™æ€ï¼‰</td><td>é™æ€å®šä½çš„å…ƒç´ ä¸å— topã€bottomã€left å’Œ right å±æ€§çš„å½±å“ã€‚</td></tr><tr><td>relative</td><td>å…ƒç´ ç›¸å¯¹äºå…¶æ­£å¸¸ä½ç½®è¿›è¡Œå®šä½</td><td>è®¾ç½®ç›¸å¯¹å®šä½çš„å…ƒç´ çš„ topã€rightã€bottom å’Œ left å±æ€§å°†å¯¼è‡´å…¶åç¦»å…¶æ­£å¸¸ä½ç½®è¿›è¡Œè°ƒæ•´ã€‚ä¸ä¼šå¯¹å…¶ä½™å†…å®¹è¿›è¡Œè°ƒæ•´æ¥é€‚åº”å…ƒç´ ç•™ä¸‹çš„ä»»ä½•ç©ºé—´ã€‚</td></tr><tr><td>fixed</td><td>ç´ æ˜¯ç›¸å¯¹äºè§†å£å®šä½çš„ï¼Œè¿™æ„å‘³ç€å³ä½¿æ»šåŠ¨é¡µé¢ï¼Œå®ƒä¹Ÿå§‹ç»ˆä½äºåŒä¸€ä½</td><td>å›ºå®šå®šä½çš„å…ƒç´ ä¸ä¼šåœ¨é¡µé¢ä¸­é€šå¸¸åº”æ”¾ç½®çš„ä½ç½®ä¸Šç•™å‡ºç©ºéš™ã€‚</td></tr><tr><td>absolute</td><td>å…ƒç´ ç›¸å¯¹äºæœ€è¿‘çš„å®šä½ç¥–å…ˆå…ƒç´ è¿›è¡Œå®šä½</td><td></td></tr><tr><td>sticky</td><td>å…ƒç´ æ ¹æ®ç”¨æˆ·çš„æ»šåŠ¨ä½ç½®è¿›è¡Œå®šä½</td><td></td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">         <span class="comment">/* ç”¨äºå¡«æ»¡é¡µé¢çš„æ ·å¼ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.page</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">page-break-after</span>: always;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* é¡µé¢1çš„å†…å®¹ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.page1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#ffcccc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding-top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* é¡µé¢2çš„å†…å®¹ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.page2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#ccffcc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding-top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* é™æ€å®šä½ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#ff0000</span>; <span class="comment">/* çº¢è‰² */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: static;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* ç›¸å¯¹å®šä½*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#00ff00</span>; <span class="comment">/* ç»¿è‰² */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* ç»å¯¹å®šä½ é’ˆå¯¹äºçª—å£ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#0000ff</span>; <span class="comment">/* è“è‰² */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* é’ˆå¯¹çˆ¶å…ƒç´ ç»å¯¹å®šä½ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box4</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#ffff00</span>; <span class="comment">/* é»„è‰² */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* ä½ç½®åœ¨åˆå§‹æ—¶æ˜¯ç›¸å¯¹äºå…¶æœ€è¿‘çš„æ»šåŠ¨å®¹å™¨</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            åœ¨æ»šåŠ¨æ¡è¾¾åˆ°topæŒ‡å®šä½ç½®å,ç±»ä¼¼äºç»å¯¹å®šä½</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box5</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#ff00ff</span>; <span class="comment">/* ç´«è‰² */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: sticky;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">10000px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page page1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¬¬ä¸€é¡µçš„å†…å®¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸€é¡µçš„å†…å®¹ï¼Œå¯ä»¥å¡«æ»¡ä¸€é¡µã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page page2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¬¬äºŒé¡µçš„å†…å®¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ç¬¬äºŒé¡µçš„å†…å®¹ï¼Œå¯ä»¥å¡«æ»¡ç¬¬äºŒé¡µã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æº¢å‡º"><a href="#æº¢å‡º" class="headerlink" title="æº¢å‡º"></a>æº¢å‡º</h5><p><strong>CSS overflow å±æ€§æ§åˆ¶å¯¹å¤ªå¤§è€ŒåŒºåŸŸæ— æ³•å®¹çº³çš„å†…å®¹çš„å¤„ç†æ–¹å¼ã€‚</strong></p><p><code>overflow</code> å±æ€§å¯è®¾ç½®ä»¥ä¸‹å€¼ï¼š</p><ul><li><code>visible</code> - é»˜è®¤ã€‚æº¢å‡ºæ²¡æœ‰è¢«å‰ªè£ã€‚å†…å®¹åœ¨å…ƒç´ æ¡†å¤–æ¸²æŸ“</li><li><code>hidden</code> - æº¢å‡ºè¢«å‰ªè£ï¼Œå…¶ä½™å†…å®¹å°†ä¸å¯è§</li><li><code>scroll</code> - æº¢å‡ºè¢«å‰ªè£ï¼ŒåŒæ—¶æ·»åŠ æ»šåŠ¨æ¡ä»¥æŸ¥çœ‹å…¶ä½™å†…å®¹</li><li><code>auto</code> - ä¸ <code>scroll</code> ç±»ä¼¼ï¼Œä½†ä»…åœ¨å¿…è¦æ—¶æ·»åŠ æ»šåŠ¨æ¡</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* åœ¨å…ƒç´ å¤–ç»§ç»­æ˜¾ç¤º */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: bisque;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: visible;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* æº¢å‡ºåœ°æ–¹è¢«è£å‡ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: chartreuse;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">         <span class="comment">/* æº¢å‡ºéƒ¨åˆ†ä½¿ç”¨æ»šåŠ¨æ¡ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>:cadetblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: scroll;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* è‡ªåŠ¨ä½¿ç”¨æ»šåŠ¨æ¡ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a4</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>:cadetblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span><br><span class="line">        é˜¿æ–¯é¡¿æ’’å¥½æ€æ­»å“¦å¥½ä½å“¦å•Šæ´»åŠ¨iå•Šæ”¶ä½å“¦å•Šå“ˆå†¬å­£å•Šé€‚é…çš„æœºç¥¨ç ´å•Šç²¾å“åº—</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a2&quot;</span>&gt;</span></span><br><span class="line">        AHJIODHSAODHSHSDHPAKDPOAKD</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>dHUSFUBSGWPD</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>WPOUDPOSJ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>IDJISOBFBSH</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>JBé˜¿æ–¯é¡¿æ’’å¥½æ€æ­»å“¦å¥½ä½å“¦</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span> å•Šæ´»åŠ¨iå•Šæ”¶ä½å“¦å•Šå“ˆ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>å†¬å­£å•Šé€‚é…çš„æœºç¥¨ç ´å•Šç²¾å“åº—</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a3&quot;</span>&gt;</span></span><br><span class="line">        AHJIODHSAODHSHSDHPAKDPOAKD</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>dHUSFUBSGWPD</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>WPOUDPOSJ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>IDJISOBFBSH</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>JBé˜¿æ–¯é¡¿æ’’å¥½æ€æ­»å“¦å¥½ä½å“¦</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span> å•Šæ´»åŠ¨iå•Šæ”¶ä½å“¦å•Šå“ˆ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>å†¬å­£å•Šé€‚é…çš„æœºç¥¨ç ´å•Šç²¾å“åº—</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a4&quot;</span>&gt;</span></span><br><span class="line">        AHJIODHSAODHSHSDHPAKDPOAKD</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>dHUSFUBSGWPD</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>WPOUDPOSJ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>IDJISOBFBSH</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>JBé˜¿æ–¯é¡¿æ’’å¥½æ€æ­»å“¦å¥½ä½å“¦</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span> å•Šæ´»åŠ¨iå•Šæ”¶ä½å“¦å•Šå“ˆ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>å†¬å­£å•Šé€‚é…çš„æœºç¥¨ç ´å•Šç²¾å“åº—</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/03/07/CSS/image-20230907154025341.png" alt="image-20230907154025341"></p><h5 id="æµ®åŠ¨"><a href="#æµ®åŠ¨" class="headerlink" title="æµ®åŠ¨"></a>æµ®åŠ¨</h5><p><code>float</code> å±æ€§ç”¨äºå®šä½å’Œæ ¼å¼åŒ–å†…å®¹ï¼Œä¾‹å¦‚è®©å›¾åƒå‘å·¦æµ®åŠ¨åˆ°å®¹å™¨ä¸­çš„æ–‡æœ¬é‚£é‡Œã€‚</p><p><code>float</code> å±æ€§å¯ä»¥è®¾ç½®ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š</p><ul><li>left - å…ƒç´ æµ®åŠ¨åˆ°å…¶å®¹å™¨çš„å·¦ä¾§</li><li>right - å…ƒç´ æµ®åŠ¨åœ¨å…¶å®¹å™¨çš„å³ä¾§</li><li>none - å…ƒç´ ä¸ä¼šæµ®åŠ¨ï¼ˆå°†æ˜¾ç¤ºåœ¨æ–‡æœ¬ä¸­åˆšå‡ºç°çš„ä½ç½®ï¼‰ã€‚é»˜è®¤å€¼ã€‚</li><li>inherit - å…ƒç´ ç»§æ‰¿å…¶çˆ¶çº§çš„ float å€¼</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">         <span class="selector-id">#a2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">&quot;a1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px; height: 500px; background-color: blue;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">&quot;a2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px; height: 500px; background-color: brown;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ¶ˆé™¤æµ®åŠ¨"><a href="#æ¶ˆé™¤æµ®åŠ¨" class="headerlink" title="æ¶ˆé™¤æµ®åŠ¨"></a>æ¶ˆé™¤æµ®åŠ¨</h5><p><code>clear</code> å±æ€§æŒ‡å®šå“ªäº›å…ƒç´ å¯ä»¥æµ®åŠ¨äºè¢«æ¸…é™¤å…ƒç´ çš„æ—è¾¹ä»¥åŠå“ªä¸€ä¾§ã€‚</p><p><code>clear</code> å±æ€§å¯è®¾ç½®ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š</p><ul><li>none - å…è®¸ä¸¤ä¾§éƒ½æœ‰æµ®åŠ¨å…ƒç´ ã€‚é»˜è®¤å€¼</li><li>left - å·¦ä¾§ä¸å…è®¸æµ®åŠ¨å…ƒç´ </li><li>right- å³ä¾§ä¸å…è®¸æµ®åŠ¨å…ƒç´ </li><li>both - å·¦ä¾§æˆ–å³ä¾§å‡ä¸å…è®¸æµ®åŠ¨å…ƒç´ </li><li>inherit - å…ƒç´ ç»§æ‰¿å…¶çˆ¶çº§çš„ clear å€¼</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå¤šçº¿ç¨‹</title>
      <link href="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
      <url>/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>javaå¤šçº¿ç¨‹å…¥é—¨åˆ°è¿›é˜¶</p><span id="more"></span><h4 id="1-å¤šçº¿ç¨‹ç›¸å…³æ¦‚å¿µ"><a href="#1-å¤šçº¿ç¨‹ç›¸å…³æ¦‚å¿µ" class="headerlink" title="1.å¤šçº¿ç¨‹ç›¸å…³æ¦‚å¿µ"></a>1.å¤šçº¿ç¨‹ç›¸å…³æ¦‚å¿µ</h4><h5 id="1-1è¿›ç¨‹è·Ÿçº¿ç¨‹"><a href="#1-1è¿›ç¨‹è·Ÿçº¿ç¨‹" class="headerlink" title="1.1è¿›ç¨‹è·Ÿçº¿ç¨‹"></a>1.1è¿›ç¨‹è·Ÿçº¿ç¨‹</h5><p><strong>è¿›ç¨‹</strong>ï¼šå¯ä»¥ç†è§£ä¸ºæ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºå®ä½“ä¸ªè¿›ç¨‹ä¸­çš„æ‰§è¡Œåœºæ™¯&#x2F;æ‰§è¡Œå•å…ƒï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­åŒ…å«å¤šä¸ªè¿›ç¨‹</p><p><strong>çº¿ç¨‹</strong>ï¼šæ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ï¼Œæ˜¯å®Œæˆè¿›ç¨‹ä¸­çš„æœ€å°æ‰§è¡Œå•ä½</p><h5 id="1-2å¹¶è¡Œè·Ÿå¹¶å‘"><a href="#1-2å¹¶è¡Œè·Ÿå¹¶å‘" class="headerlink" title="1.2å¹¶è¡Œè·Ÿå¹¶å‘"></a>1.2å¹¶è¡Œè·Ÿå¹¶å‘</h5><p><strong>å¹¶è¡Œ</strong>ï¼šæŒ‡åŒæ—¶å‘ç”Ÿä¸¤ä¸ªå¹¶å‘äº‹ä»¶ï¼Œå…·æœ‰å¹¶å‘çš„å«ä¹‰ã€‚å¹¶å‘ä¸ä¸€å®šå¹¶è¡Œï¼Œä¹Ÿå¯ä»¥è¯´å¹¶å‘äº‹ä»¶ä¹‹é—´ä¸ä¸€å®šè¦åŒä¸€æ—¶åˆ»å‘ç”Ÿã€‚ä¾‹å¦‚redisé›†ç¾¤ï¼ŒæŠŠäº‹æƒ…åˆ†ç»™å¤šä¸ªäººå»åšï¼Œå¤šçº¿ç¨‹çš„æ–¹å¼å…¶å®å°±æ˜¯ä¸€ç§å¹¶è¡Œ</p><p><strong>å¹¶å‘ï¼š</strong>åˆç§°å…±è¡Œæ€§ï¼Œæ˜¯æŒ‡å¤„ç†å¤šä¸ªåŒæ—¶æ€§æ´»åŠ¨çš„èƒ½åŠ›ã€‚ç±»ä¼¼æŠ¢è´­åŒä¸€æ—¶é—´ä¼šæœ‰å¤§é‡è¯·æ±‚åˆ°åŒä¸€ä¸ªåœ°æ–¹</p><h5 id="1-3çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#1-3çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.3çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>1.3<strong>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</strong></h5><ol><li><p>æ–°å»ºçŠ¶æ€ï¼ˆåˆ›å»ºçº¿ç¨‹çš„æ—¶å€™ï¼‰</p></li><li><p>å°±ç»ªçŠ¶æ€ï¼ˆæœªè·å–åˆ°cpuï¼Œç­‰å¾…æ‰§è¡Œï¼‰</p></li><li><p>è¿è¡ŒçŠ¶æ€ï¼ˆè·å–åˆ°cpuæ‰§è¡Œæƒï¼Œçº¿ç¨‹æ‰§è¡Œï¼‰</p></li><li><p>é˜»å¡çŠ¶æ€ï¼ˆçº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œä¾‹å¦‚æ˜¯ç”¨sleepçº¿ç¨‹æ‰§è¡Œæš‚åœï¼‰</p></li><li><p>æ­»äº¡çŠ¶æ€ï¼ˆé‡Šæ”¾cpuçº¿ç¨‹ç»“æŸï¼‰</p></li></ol><h4 id="2-javaå®ç°å¤šçº¿ç¨‹"><a href="#2-javaå®ç°å¤šçº¿ç¨‹" class="headerlink" title="2.javaå®ç°å¤šçº¿ç¨‹"></a>2.javaå®ç°å¤šçº¿ç¨‹</h4><h5 id="2-1ç»§æ‰¿-java-lang-Threadï¼Œé‡å†™-runæ–¹æ³•"><a href="#2-1ç»§æ‰¿-java-lang-Threadï¼Œé‡å†™-runæ–¹æ³•" class="headerlink" title="2.1ç»§æ‰¿ java.lang.Threadï¼Œé‡å†™ runæ–¹æ³•"></a>2.1ç»§æ‰¿ <code>java.lang.Thread</code>ï¼Œé‡å†™ <code>runæ–¹æ³•</code></h5><p>æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡å®ä¾‹åŒ–è¿™ä¸ªå­ç±»ï¼Œå¹¶è°ƒç”¨start()æ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ã€‚è¿™ç§æ–¹å¼çš„ç¼ºç‚¹ä¹Ÿååˆ†æ˜æ˜¾ï¼Œå› ä¸ºjavaæ˜¯å•ç»§æ‰¿çš„ï¼Œåªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»å±€é™æ€§å¾ˆå¤§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadNewDemo</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ç¼–å†™ç¨‹åºï¼Œè¿™æ®µç¨‹åºè¿è¡Œåœ¨åˆ†æ”¯çº¿ç¨‹ä¸­ï¼ˆåˆ†æ”¯æ ˆï¼‰ã€‚</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;åˆ†æ”¯çº¿ç¨‹---&gt;&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        threadNewDemo1.start();</span><br><span class="line">        threadNewDemo2.start();</span><br><span class="line">        threadNewDemo3.start();</span><br><span class="line">        threadNewDemo4.start();</span><br><span class="line">        threadNewDemo5.start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="2-2-ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°-java-lang-Runnable-æ¥å£ï¼Œå®ç°runæ–¹æ³•"><a href="#2-2-ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°-java-lang-Runnable-æ¥å£ï¼Œå®ç°runæ–¹æ³•" class="headerlink" title="2.2.ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç° java.lang.Runnable æ¥å£ï¼Œå®ç°runæ–¹æ³•"></a>2.2.ç¼–å†™ä¸€ä¸ªç±»ï¼Œ<strong>å®ç°</strong> <strong><code>java.lang.Runnable</code></strong> æ¥å£ï¼Œå®ç°<code>runæ–¹æ³•</code></h5><p>è¿™ç§æ–¹å¼ç›¸æ¯”è¾ƒæ¯”ç»§æ‰¿<code>Thread</code>ç±»çš„æ–¹å¼æ›´åŠ çµæ´»ï¼Œè¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯çµæ´»æ€§é«˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class RunnableNewDomo implements Runnable &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        // ç¼–å†™ç¨‹åºï¼Œè¿™æ®µç¨‹åºè¿è¡Œåœ¨åˆ†æ”¯çº¿ç¨‹ä¸­ï¼ˆåˆ†æ”¯æ ˆï¼‰ã€‚</span><br><span class="line">        for(int i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">            System.out.println(&quot;åˆ†æ”¯çº¿ç¨‹---&gt;&quot; + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Thread thread1 = new Thread(new RunnableNewDomo());</span><br><span class="line">        Thread thread2 = new Thread(new RunnableNewDomo());</span><br><span class="line">        Thread thread3 = new Thread(new RunnableNewDomo());</span><br><span class="line">        Thread thread4 = new Thread(new RunnableNewDomo());</span><br><span class="line">        Thread thread5 = new Thread(new RunnableNewDomo());</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">        thread3.start();</span><br><span class="line">        thread4.start();</span><br><span class="line">        thread5.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-3-è¿˜æœ‰ä¸€ç§æ˜¯å®ç°Callableæ¥å£"><a href="#2-3-è¿˜æœ‰ä¸€ç§æ˜¯å®ç°Callableæ¥å£" class="headerlink" title="2.3.è¿˜æœ‰ä¸€ç§æ˜¯å®ç°Callableæ¥å£"></a>2.3.è¿˜æœ‰ä¸€ç§æ˜¯å®ç°<code>Callable</code>æ¥å£</h5><p>æ˜¯åœ¨java1.5ä»¥åæ‰åŠ å…¥çš„ï¼Œè¿™ç§æ–¹å¼ä¸ç¬¬äºŒç§æ–¹å¼ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ç°çš„æ˜¯Callableæ¥å£è€Œä¸æ˜¯Runnableæ¥å£ã€‚Callableæ¥å£çš„call()æ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªç»“æœï¼Œå¹¶ä¸”å¯ä»¥æŠ›å‡ºå¼‚å¸¸ã€‚ä½ å¯ä»¥ä½¿ç”¨ExecutorServiceæ¥æ‰§è¡Œå¹¶è¿”å›ä¸€ä¸ªFutureå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥ç”¨æ¥è·å–ä»»åŠ¡çš„ç»“æœã€‚è¿™ç§æ–¹å¼çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å¯ä»¥è¿”å›ç»“æœå’ŒæŠ›å‡ºå¼‚å¸¸ï¼Œä½†å®ƒä¹Ÿéœ€è¦ä½ æ›´å¤šçš„ä»£ç æ¥å®ç°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class CallableNewDomo implements Callable&lt;String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String call() throws RuntimeException &#123;</span><br><span class="line">        // ç¼–å†™ç¨‹åºï¼Œè¿™æ®µç¨‹åºè¿è¡Œåœ¨åˆ†æ”¯çº¿ç¨‹ä¸­ï¼ˆåˆ†æ”¯æ ˆï¼‰ã€‚</span><br><span class="line">        for(int i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">            System.out.println(&quot;åˆ†æ”¯çº¿ç¨‹---&gt;&quot; + i);</span><br><span class="line">        &#125;</span><br><span class="line">        return &quot;çº¿ç¨‹æ‰§è¡Œå®Œæˆå®šä¹‰çš„è¿”å›å€¼&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws ExecutionException, InterruptedException &#123;</span><br><span class="line">        //å¯åŠ¨æ–¹å¼1FutureTask</span><br><span class="line">        CallableNewDomo callableNewDomo = new CallableNewDomo();</span><br><span class="line">        FutureTask task = new FutureTask(callableNewDomo);</span><br><span class="line">        Thread thread = new Thread(task);</span><br><span class="line">        thread.start();</span><br><span class="line">        task.get();</span><br><span class="line">        //å€ŸåŠ©çº¿ç¨‹æ± å¯åŠ¨</span><br><span class="line">        CallableNewDomo callableNewDomo1 = new CallableNewDomo();</span><br><span class="line">        ExecutorService executor = Executors.newSingleThreadExecutor();</span><br><span class="line">        Future&lt;String&gt; submit = executor.submit(callableNewDomo1);</span><br><span class="line">        submit.get();</span><br><span class="line">        executor.shutdownNow();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="3-çº¿ç¨‹å¸¸ç”¨çš„æ–¹æ³•"><a href="#3-çº¿ç¨‹å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="3.çº¿ç¨‹å¸¸ç”¨çš„æ–¹æ³•"></a>3.çº¿ç¨‹å¸¸ç”¨çš„æ–¹æ³•</h4><h5 id="3-1çº¿ç¨‹åç§°æ“ä½œ"><a href="#3-1çº¿ç¨‹åç§°æ“ä½œ" class="headerlink" title="3.1çº¿ç¨‹åç§°æ“ä½œ"></a>3.1çº¿ç¨‹åç§°æ“ä½œ</h5><h6 id="currentThread"><a href="#currentThread" class="headerlink" title="currentThread()"></a>currentThread()</h6><p>è·å–å½“å‰çº¿ç¨‹å¯¹è±¡</p><h6 id="getName"><a href="#getName" class="headerlink" title="getName()"></a>getName()</h6><p>è·å–çº¿ç¨‹å¯¹è±¡åå­—</p><h6 id="setName-String-name"><a href="#setName-String-name" class="headerlink" title="setName(String name)"></a>setName(String name)</h6><p>ä¿®æ”¹çº¿ç¨‹å¯¹è±¡åå­—(å½“æ²¡æœ‰è®¾ç½®åç§°çš„æ—¶å€™åå­—ä¸ºï¼šThread-0ï¼ŒThread-2â€¦..ç±»æ¨)</p><p>å®ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadNewDemo</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(currentThread());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        threadNewDemo1.start();</span><br><span class="line">        threadNewDemo2.start();</span><br><span class="line">        threadNewDemo2.setName(<span class="string">&quot;çº¿ç¨‹2&quot;</span>);</span><br><span class="line">        System.out.println(threadNewDemo1.getName());</span><br><span class="line">        System.out.println(threadNewDemo2.getName());</span><br><span class="line">        System.out.println(currentThread());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230308194229567.png" alt="image-20230308194229567"></p><h5 id="3-2sleep-æ–¹æ³•ä½¿ç”¨"><a href="#3-2sleep-æ–¹æ³•ä½¿ç”¨" class="headerlink" title="3.2sleep()æ–¹æ³•ä½¿ç”¨"></a>3.2sleep()æ–¹æ³•ä½¿ç”¨</h5><p>é™æ€æ–¹æ³•ï¼Œè®©å½“å‰çº¿ç¨‹æ”¾å¼ƒå æœ‰çš„CPUèµ„æºè¿›å…¥ä¼‘çœ ï¼Œè¿›å…¥é˜»å¡çŠ¶æ€ã€‚</p><h5 id="3-3stop-çº¿ç¨‹ç»ˆæ­¢"><a href="#3-3stop-çº¿ç¨‹ç»ˆæ­¢" class="headerlink" title="3.3stop()çº¿ç¨‹ç»ˆæ­¢"></a>3.3stop()çº¿ç¨‹ç»ˆæ­¢</h5><p><font color="red">æ³¨ï¼šå·²è¿‡æœŸä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šæœ‰ä¸¢å¤±æ•°æ®çš„é—®é¢˜</font></p><p>é‚£ä¹ˆæ€ä¹ˆåˆç†ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹å‘¢</p><p>ä¾‹ï¼šå¯ä»¥å®šä¹‰ä¸€ä¸ªå¼€å…³</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadNewDemo</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Boolean</span> <span class="variable">flg</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (flg) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å½“å‰è¿è¡Œçº¿ç¨‹ä¸ºï¼š&quot;</span> + Thread.currentThread().getName() + <span class="string">&quot; - è¿è¡Œ&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æš‚åœ&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        threadNewDemo1.setName(<span class="string">&quot;èŠ±æœ¨å…°&quot;</span>);</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        threadNewDemo2.setName(<span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">        threadNewDemo1.start();</span><br><span class="line">        threadNewDemo2.start();</span><br><span class="line">        <span class="comment">//è®©çº¿ç¨‹è·‘2ç§’</span></span><br><span class="line">        Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        <span class="comment">//æš‚åœä»–</span></span><br><span class="line">        flg = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-4çº¿ç¨‹ä¼˜å…ˆçº§"><a href="#3-4çº¿ç¨‹ä¼˜å…ˆçº§" class="headerlink" title="3.4çº¿ç¨‹ä¼˜å…ˆçº§"></a>3.4çº¿ç¨‹ä¼˜å…ˆçº§</h5><p>mainçº¿ç¨‹çš„é»˜è®¤ä¼˜å…ˆçº§æ˜¯ï¼š<strong>5</strong><br>ä¼˜å…ˆçº§è¾ƒé«˜çš„ï¼Œåªæ˜¯æŠ¢åˆ°çš„<strong>CPUæ—¶é—´ç‰‡</strong>ç›¸å¯¹å¤šä¸€äº›ã€‚å¤§æ¦‚ç‡æ–¹å‘æ›´åå‘äºä¼˜å…ˆçº§æ¯”è¾ƒé«˜çš„ã€‚</p><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadNewDemo</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Boolean</span> <span class="variable">flg</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (flg) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å½“å‰è¿è¡Œçº¿ç¨‹ä¸ºï¼š&quot;</span> + Thread.currentThread().getName() + <span class="string">&quot; - è¿è¡Œ&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æš‚åœ&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        threadNewDemo1.setName(<span class="string">&quot;èŠ±æœ¨å…°&quot;</span>);</span><br><span class="line">        threadNewDemo1.setPriority(<span class="number">1</span>);</span><br><span class="line">        <span class="type">ThreadNewDemo</span> <span class="variable">threadNewDemo2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadNewDemo</span>();</span><br><span class="line">        threadNewDemo2.setName(<span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">        threadNewDemo2.setPriority(<span class="number">10</span>);</span><br><span class="line">        threadNewDemo1.start();</span><br><span class="line">        threadNewDemo2.start();</span><br><span class="line">        Thread.sleep(<span class="number">20</span>);</span><br><span class="line">        <span class="comment">//æš‚åœä»–</span></span><br><span class="line">        flg = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230308203237927.png" alt="image-20230308203237927"></p><h5 id="3-5çº¿ç¨‹ç¤¼è®©yield"><a href="#3-5çº¿ç¨‹ç¤¼è®©yield" class="headerlink" title="3.5çº¿ç¨‹ç¤¼è®©yield()"></a>3.5çº¿ç¨‹ç¤¼è®©yield()</h5><p>è®©ä½ï¼Œå½“å‰çº¿ç¨‹æš‚åœï¼Œå›åˆ°å°±ç»ªçŠ¶æ€ï¼Œè®©ç»™å…¶å®ƒçº¿ç¨‹ã€‚åªæ˜¯æ”¾å¼ƒå½“å‰cpuæƒï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡éƒ½è®©æˆåŠŸçš„ï¼Œæœ‰å¯èƒ½å®ƒåˆæŠ¢åˆ°æ—¶é—´ç‰‡äº†ã€‚</p><h5 id="3-6çº¿ç¨‹åŠ å…¥join"><a href="#3-6çº¿ç¨‹åŠ å…¥join" class="headerlink" title="3.6çº¿ç¨‹åŠ å…¥join()"></a>3.6çº¿ç¨‹åŠ å…¥join()</h5><p>ä¸€ä¸ªçº¿ç¨‹.join()ï¼Œå½“å‰çº¿ç¨‹ä¼šè¿›å…¥â€**<code>é˜»å¡çŠ¶æ€</code>**â€œã€‚ç­‰å¾…åŠ å…¥çº¿ç¨‹æ‰§è¡Œå®Œï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest13</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;main begin&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyRunnable7</span>());</span><br><span class="line">        t.setName(<span class="string">&quot;t&quot;</span>);</span><br><span class="line">        t.start();</span><br><span class="line">        <span class="comment">//åˆå¹¶çº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            t.join(); <span class="comment">// tåˆå¹¶åˆ°å½“å‰çº¿ç¨‹ä¸­ï¼Œå½“å‰çº¿ç¨‹å—é˜»å¡ï¼Œtçº¿ç¨‹æ‰§è¡Œç›´åˆ°ç»“æŸã€‚</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;main over&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyRunnable7</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;---&gt;&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-7å®ˆæŠ¤çº¿ç¨‹Daemon"><a href="#3-7å®ˆæŠ¤çº¿ç¨‹Daemon" class="headerlink" title="3.7å®ˆæŠ¤çº¿ç¨‹Daemon()"></a>3.7å®ˆæŠ¤çº¿ç¨‹Daemon()</h5><p><code>Daemon</code>é»˜è®¤æ˜¯falseç”¨æˆ·çº¿ç¨‹ï¼Œæ‰‹åŠ¨è®¾ç½®ä¸ºtrueä»¥åå°±æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œä¼šç­‰å¾…æ‰€æœ‰çš„çº¿ç¨‹æ‰§è¡Œå®Œå†åœæ­¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•å®ˆæŠ¤çº¿ç¨‹</span></span><br><span class="line"><span class="comment"> * ä¸Šå¸å®ˆæŠ¤ä½ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo23_DaemonThread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">God</span> <span class="variable">god</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">God</span>();</span><br><span class="line">        <span class="type">You</span> <span class="variable">you</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">You</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(god);</span><br><span class="line">        <span class="comment">//é»˜è®¤falseè¡¨ç¤ºæ˜¯ç”¨æˆ·çº¿ç¨‹,æ­£å¸¸çš„çº¿ç¨‹éƒ½æ˜¯ç”¨æˆ·çº¿ç¨‹...</span></span><br><span class="line">        thread.setDaemon(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//ä¸Šå¸å®ˆæŠ¤çº¿ç¨‹å¯åŠ¨</span></span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="comment">//ä½  ç”¨æˆ·çº¿ç¨‹å¯åŠ¨</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(you).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸Šå¸</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">God</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸Šå¸ä¿ä½‘ç€ä½ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½ </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">You</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">36500</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒçš„æ´»ç€&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;====goodbye!world====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-çº¿ç¨‹å®‰å…¨"><a href="#4-çº¿ç¨‹å®‰å…¨" class="headerlink" title="4.çº¿ç¨‹å®‰å…¨"></a>4.çº¿ç¨‹å®‰å…¨</h4><p>çº¿ç¨‹å®‰å…¨æ˜¯ä»€ä¹ˆï¼Œç”±äºå¤šä¸ªè¿›ç¨‹å…±äº«åŒä¸€å—å­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯æ•°æ®ä¸åŒæ­¥ï¼Œäº§ç”Ÿçš„æ•°æ®å®‰å…¨é—®é¢˜</p><p>ç¤ºä¾‹ï¼šæŠ¢ç¥¨é—®é¢˜ï¼Œç”±äºå¤šä¸ªçº¿ç¨‹ä¹‹å‰æ•°æ®ä¸åŒæ­¥é€ æˆçš„è¶…å–é—®é¢˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest3</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BuyTicket</span> <span class="variable">buyTicket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyTicket</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(buyTicket, <span class="string">&quot;å¼ ä¸‰&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(buyTicket, <span class="string">&quot;æå››&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(buyTicket, <span class="string">&quot;ç‹äº”&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BuyTicket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//ç¥¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticketNums</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//ä¹°ç¥¨</span></span><br><span class="line">        <span class="keyword">while</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                buy();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¹°ç¥¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">buy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨</span></span><br><span class="line">        <span class="keyword">if</span> (ticketNums &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å»¶è¿Ÿ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¹°ç¥¨</span></span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;æ‹¿åˆ°&quot;</span> + ticketNums--);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœ:</p><p><img src="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230308213153672-8282315.png" alt="image-20230308213153672"></p><h5 id="4-1è§£å†³æ–¹å¼ä¸€synchronizedåŒæ­¥ä»£ç å—"><a href="#4-1è§£å†³æ–¹å¼ä¸€synchronizedåŒæ­¥ä»£ç å—" class="headerlink" title="4.1è§£å†³æ–¹å¼ä¸€synchronizedåŒæ­¥ä»£ç å—"></a>4.1è§£å†³æ–¹å¼ä¸€synchronizedåŒæ­¥ä»£ç å—</h5><p>synchronizedæ˜¯Javaä¸­çš„å…³é”®å­—ï¼Œè¢«JavaåŸç”Ÿæ”¯æŒï¼Œæ˜¯ä¸€ç§æœ€åŸºæœ¬çš„åŒæ­¥é”,Synchronized æ–¹æ³•æ§åˆ¶å¯¹å¯¹è±¡çš„è®¿é—®ï¼Œæ¯ä¸ªå¯¹è±¡å¯¹åº”ä¸€æŠŠé”ï¼Œæ¯ä¸ª synchronized æ–¹æ³•éƒ½å¿…é¡»è·å–è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡çš„é”æ‰èƒ½æ‰§è¡Œï¼Œå¦åˆ™çº¿ç¨‹ä¼šé˜»å¡ï¼Œæ–¹æ³•ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç‹¬å è¯¥é”ï¼Œç›´åˆ°æ–¹æ³•è¿”å›æ‰é‡Šæ”¾é”ï¼Œåé¢è¢«é˜»å¡çš„çº¿ç¨‹æ‰èƒ½è·å¾—é”ï¼Œç»§ç»­æ‰§è¡Œï¼›<br><code>synchronized ä¿®é¥°çš„æ–¹æ³•åªèƒ½ä¸€ä¸ªå¯¹è±¡è°ƒç”¨å®Œä¹‹åï¼Œå¦ä¸€ä¸ªå¯¹è±¡æ‰èƒ½è°ƒç”¨ã€‚é”çš„æ˜¯è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚é»˜è®¤é”çš„this</code></p><p>å®ƒä¿®é¥°çš„å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§ï¼š </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> ã€€ã€€1. ä¿®é¥°ä¸€ä¸ªä»£ç å—ï¼Œè¢«ä¿®é¥°çš„ä»£ç å—ç§°ä¸ºåŒæ­¥è¯­å¥å—ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯å¤§æ‹¬å·&#123;&#125;æ‹¬èµ·æ¥çš„ä»£ç ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªä»£ç å—çš„å¯¹è±¡ã€‚</span><br><span class="line"> ã€€ã€€2. ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œè¢«ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºåŒæ­¥æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªæ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ã€‚</span><br><span class="line"> ã€€ã€€3. ä¿®é¥°ä¸€ä¸ªé™æ€çš„æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªé™æ€æ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ã€‚</span><br><span class="line"> ã€€</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">a</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String str;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">demo</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">demo2</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (a.class) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">synchronized</span> (str) &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å–ç¥¨é—®é¢˜è§£å†³</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¹°ç¥¨</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">buy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨</span></span><br><span class="line">       <span class="keyword">if</span> (ticketNums &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">           flag = <span class="literal">false</span>;</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//å»¶è¿Ÿ</span></span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           Thread.sleep(<span class="number">1</span>);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//ä¹°ç¥¨</span></span><br><span class="line">       System.out.println(Thread.currentThread().getName() + <span class="string">&quot;æ‹¿åˆ°&quot;</span> + ticketNums--);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h5 id="4-2çº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆ"><a href="#4-2çº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆ" class="headerlink" title="4.2çº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆ"></a>4.2çº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo26_UnsafeList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">10000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                list.add(Thread.currentThread().getName());</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤šæ¬¡è¿è¡Œè¾“å‡ºç»“æœArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10000</span><br><span class="line">99996</span><br><span class="line">10002</span><br></pre></td></tr></table></figure><p><strong>CopyOnWriteArrayListçº¿ç¨‹å®‰å…¨çš„é›†åˆ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo26_UnsafeList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">10000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                list.add(Thread.currentThread().getName());</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç­‰å¾…ä¸‰ç§’è®©çº¿ç¨‹è·‘å®Œ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-æ­»é”"><a href="#5-æ­»é”" class="headerlink" title="5.æ­»é”"></a>5.æ­»é”</h4><h5 id="5-1æ­»é”äº§ç”Ÿçš„åŸå› "><a href="#5-1æ­»é”äº§ç”Ÿçš„åŸå› " class="headerlink" title="5.1æ­»é”äº§ç”Ÿçš„åŸå› "></a>5.1æ­»é”äº§ç”Ÿçš„åŸå› </h5><p>æ­»é”æ˜¯ç”±äºä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹äº’ç›¸æŒæœ‰å¯¹æ–¹éœ€è¦çš„èµ„æºï¼Œå¯¼è‡´è¿™äº›çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œæ— æ³•æ‰§è¡Œã€‚</p><h5 id="5-2ç¤ºä¾‹"><a href="#5-2ç¤ºä¾‹" class="headerlink" title="5.2ç¤ºä¾‹"></a>5.2ç¤ºä¾‹</h5><p>ä¸¤ä¸ªMakeupå¯¹è±¡åˆ†åˆ«å…ˆåè·å–å£å·æˆ–é•œå­ä¸€ç§èµ„æºåï¼ŒåŠ é”é”å®šèµ„æºï¼Œä¼‘çœ 1ç§’åç„¶åå†å»è·å¾—ä¸‹ä¸€ä¸ªèµ„æº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo31</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Makeup</span> <span class="variable">makeup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Makeup</span>(<span class="number">0</span>, <span class="string">&quot;ç°å§‘å¨˜&quot;</span>);</span><br><span class="line">        <span class="type">Makeup</span> <span class="variable">makeup1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Makeup</span>(<span class="number">1</span>, <span class="string">&quot;ç™½é›ªå…¬ä¸»&quot;</span>);</span><br><span class="line">        makeup.start();</span><br><span class="line">        makeup1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å£çº¢</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Lipstick</span> &#123; &#125;</span><br><span class="line"><span class="comment">//é•œå­</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mirror</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Makeup</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="comment">//éœ€è¦çš„èµ„æºåªæœ‰ä¸€ä»½,ç”¨staticä¿è¯åªæœ‰ä¸€ä»½</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Lipstick</span> <span class="variable">lipstick</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Lipstick</span>();</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Mirror</span> <span class="variable">mirror</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Mirror</span>();</span><br><span class="line">    <span class="type">int</span> choice;<span class="comment">//é€‰æ‹©</span></span><br><span class="line">    String girlName;<span class="comment">//ä½¿ç”¨åŒ–å¦†å“çš„äºº</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Makeup</span><span class="params">(<span class="type">int</span> choice, String girlName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.choice = choice;</span><br><span class="line">        <span class="built_in">this</span>.girlName = girlName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åŒ–å¦†</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            makeup();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">makeup</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">if</span> (choice == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lipstick) &#123;<span class="comment">//è·å¾—å£çº¢çš„é”</span></span><br><span class="line">                System.out.println(<span class="built_in">this</span>.girlName + <span class="string">&quot;è·å¾—å£çº¢çš„é”&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (mirror) &#123;<span class="comment">//ä¸€ç§’é’Ÿåæƒ³è·å¾—é•œå­</span></span><br><span class="line">                    System.out.println(<span class="built_in">this</span>.girlName + <span class="string">&quot;è·å¾—é•œå­çš„é”&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (mirror) &#123;<span class="comment">//è·å¾—å£çº¢é•œå­</span></span><br><span class="line">                System.out.println(<span class="built_in">this</span>.girlName + <span class="string">&quot;è·å¾—é•œå­çš„é”&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (lipstick) &#123;<span class="comment">//äºŒç§’é’Ÿåæƒ³è·å¾—çš„é”</span></span><br><span class="line">                    System.out.println(<span class="built_in">this</span>.girlName + <span class="string">&quot;è·å¾—å£çº¢çš„é”&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœ</strong></p><p><img src="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230309144934319-8344575.png" alt="image-20230309144934319"></p><p>å¯ä»¥å‘ç°é¡¹ç›®è¿˜æ˜¯åœ¨è¿è¡ŒçŠ¶æ€çš„ï¼Œç™½é›ªå…¬ä¸»è·å¾—é•œå­å¹¶åŠ é”ï¼Œå»è·å–å£çº¢ï¼Œä½†æ˜¯å£çº¢è¢«ç°å§‘å¨˜è·å–åé”å®šï¼Œç°å§‘å¨˜å†å»è·å–é•œå­ï¼Œä¸¤ä¸ªå¯¹è±¡äº’ä¸é‡Šæ”¾ï¼Œä¹Ÿä¸åœæ­¢ï¼Œè¿™ä¸ªæ—¶å€™å°±äº§ç”Ÿäº†æ­»é”</p><h5 id="5-3äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶"><a href="#5-3äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶" class="headerlink" title="5.3äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶"></a>5.3äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶</h5><p>æ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Œåªè¦èƒ½æ‰“ç ´ä¸€ä¸ªå°±èƒ½æ‰“ç ´æ­»é”</p><p>ä¸€ã€äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</p><p>äºŒã€è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºé˜»å¡æ—¶å€™ï¼Œå¯¹å·²è·å–çš„èµ„æºä¿æŒä¸æ”¾ã€‚</p><p>ä¸‰ã€ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šå¯¹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸å¯å‰¥å¤ºã€‚</p><p>å››ã€å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå‘ç”Ÿæ­»é”æ—¶ï¼Œçº¿ç¨‹è¿›å…¥æ­»å¾ªç¯ï¼Œæ°¸ä¹…é˜»å¡ã€‚</p><h5 id="6-Lockï¼ˆé”ï¼‰"><a href="#6-Lockï¼ˆé”ï¼‰" class="headerlink" title="6.Lockï¼ˆé”ï¼‰"></a>6.Lockï¼ˆé”ï¼‰</h5><p>Lockæ˜¯ä¸€ç§æ˜¾ç¤ºçš„é”ï¼Œå¯ä»¥æ‰‹åŠ¨å¼€å¯è·Ÿå…³é—­ï¼Œ<code>ReentrantLock</code>äº‹Lockçš„ä¸€ä¸ªå®ç°ç±»,æœ€å¸¸ç”¨</p><h6 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•Locké”</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo32_ThreadLock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">TestLock</span> <span class="variable">testLock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestLock</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(testLock).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(testLock).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(testLock).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestLock</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">tickerNums</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//å®šä¹‰Locké”</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//åŠ é”</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                lock.lock();</span><br><span class="line">                <span class="keyword">if</span> (tickerNums &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(tickerNums--);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="comment">//è§£é”</span></span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="7-çº¿ç¨‹é€šè®¯é—®é¢˜"><a href="#7-çº¿ç¨‹é€šè®¯é—®é¢˜" class="headerlink" title="7.çº¿ç¨‹é€šè®¯é—®é¢˜"></a>7.çº¿ç¨‹é€šè®¯é—®é¢˜</h4><h5 id="7-1åœºæ™¯æè¿°"><a href="#7-1åœºæ™¯æè¿°" class="headerlink" title="7.1åœºæ™¯æè¿°"></a><strong>7.1åœºæ™¯æè¿°</strong></h5><p>ç”Ÿäº§è€…ï¼šProduction.class   æ¶ˆè´¹è€…ï¼šConsumer.class   ä»“åº“ï¼šContainer.class</p><p>ç”Ÿäº§è€…ç”Ÿäº§å®Œå•†å“æ”¾å…¥ä»“åº“</p><p>ä»“åº“æ»¡10ä»¶æ‰“åŒ…å¥½è®©æ¶ˆè´¹è€…å–èµ°ï¼Œæ€ä¹ˆåœ¨ä»“åº“æ”¾æ»¡ä»¥åé€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹å‘¢ </p><h5 id="7-2javaæä¾›çš„api"><a href="#7-2javaæä¾›çš„api" class="headerlink" title="7.2javaæä¾›çš„api"></a>7.2javaæä¾›çš„api</h5><p>çº¿ç¨‹é€šè®¯çš„apiä¸ºObjectç±»æä¾›ï¼Œéƒ½åªèƒ½åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…æ˜¯åŒæ­¥ç±»ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸</p><h6 id="wait-wait-long-time"><a href="#wait-wait-long-time" class="headerlink" title="wait()|wait(long time)"></a>wait()|wait(long time)</h6><p>è¡¨ç¤ºçº¿ç¨‹è¿›å…¥ç­‰å¾…ï¼Œä¸sleepä¸åŒçš„æ˜¯ï¼Œä¼šé‡Šæ”¾é”  </p><h6 id="notify-notifyAll"><a href="#notify-notifyAll" class="headerlink" title="notify()|notifyAll()"></a>notify()|notifyAll()</h6><p>å”¤é†’ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ï¼Œä¼˜å…ˆçº§å¤šçš„ä¼šä¼˜å…ˆè°ƒåº¦</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•:ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹--&gt;åˆ©ç”¨ç¼“å†²åŒºè§£å†³:ç®¡ç¨‹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo33_ThreadPC</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SynContainer</span> <span class="variable">synContainer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SynContainer</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Producer</span>(synContainer).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Consumer</span>(synContainer).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿäº§è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="comment">//å®¹ç¼“å†²åŒº</span></span><br><span class="line">    SynContainer container;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(SynContainer container)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.container = container;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿäº§</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            container.push(<span class="keyword">new</span> <span class="title class_">Product</span>(i));</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§äº†&quot;</span> + i + <span class="string">&quot;ä»¶äº§å“&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="comment">//å®¹ç¼“å†²åŒº</span></span><br><span class="line">    SynContainer container;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(SynContainer container)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.container = container;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¶ˆè´¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ¶ˆè´¹äº†--&gt;&quot;</span> + container.pop().id + <span class="string">&quot;ä»¶äº§å“&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº§å“</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="type">int</span> id;<span class="comment">//äº§å“ç¼–å·</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Product</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¼“å†²åŒº</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SynContainer</span> &#123;</span><br><span class="line">    <span class="comment">//éœ€è¦ä¸€ä¸ªå®¹å™¨å¤§å°</span></span><br><span class="line">    Product[] products = <span class="keyword">new</span> <span class="title class_">Product</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="comment">//å®¹å™¨è®¡æ•°å™¨</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿäº§è€…æ”¾å…¥äº§å“</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(Product product)</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå®¹å™¨æ»¡äº†,éœ€è¦ç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹</span></span><br><span class="line">        <span class="comment">/*å¦‚æœæ˜¯ifçš„è¯ï¼Œå‡å¦‚æ¶ˆè´¹è€…1æ¶ˆè´¹äº†æœ€åä¸€ä¸ªï¼Œè¿™æ˜¯indexå˜æˆ0æ­¤æ—¶é‡Šæ”¾é”è¢«æ¶ˆè´¹è€…2æ‹¿åˆ°è€Œä¸æ˜¯ç”Ÿäº§è€…æ‹¿åˆ°ï¼Œè¿™æ—¶æ¶ˆè´¹è€…çš„waitæ˜¯åœ¨ifé‡Œæ‰€ä»¥å®ƒå°±ç›´æ¥å»æ¶ˆè´¹index-1ä¸‹æ ‡è¶Šç•Œï¼Œå¦‚æœæ˜¯whileå°±ä¼šå†å»åˆ¤æ–­ä¸€ä¸‹indexå¾—å€¼æ˜¯ä¸æ˜¯å˜æˆ0äº†*/</span></span><br><span class="line">        <span class="keyword">while</span> (count == products.length) &#123;</span><br><span class="line">            <span class="comment">//é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹,ç­‰å¾…ç”Ÿäº§</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœæ²¡æœ‰æ»¡,éœ€è¦ä¸¢å…¥äº§å“</span></span><br><span class="line">        products[count] = product;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="comment">//é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹</span></span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¶ˆè´¹è€…æ¶ˆè´¹äº§å“</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> Product <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦èƒ½æ¶ˆè´¹</span></span><br><span class="line">        <span class="keyword">while</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœå¯ä»¥æ¶ˆè´¹</span></span><br><span class="line">        count--;</span><br><span class="line">        <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> products[count];</span><br><span class="line">        <span class="comment">//åƒå®Œäº† é€šçŸ¥ç”Ÿäº§è€…ç”Ÿäº§</span></span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8-çº¿ç¨‹æ± ThreadPoolExecutor"><a href="#8-çº¿ç¨‹æ± ThreadPoolExecutor" class="headerlink" title="8.çº¿ç¨‹æ± ThreadPoolExecutor"></a>8.çº¿ç¨‹æ± <strong>ThreadPoolExecutor</strong></h4><h5 id="8-1ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± "><a href="#8-1ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± " class="headerlink" title="8.1ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± "></a>8.1ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± </h5><p>å…¶å®ä¸»è¦ä½œç”¨å°±æ˜¯ç»Ÿä¸€ç®¡ç†çº¿ç¨‹ï¼Œç»Ÿä¸€å¼€å¯å…³é—­,</p><ul><li>é™ä½èµ„æºçš„æ¶ˆè€—</li><li>æé«˜å“åº”çš„é€Ÿåº¦</li><li>æ–¹ä¾¿ç®¡ç†ã€</li></ul><h5 id="8-2ThreadPoolExecutoræºç "><a href="#8-2ThreadPoolExecutoræºç " class="headerlink" title="8.2ThreadPoolExecutoræºç "></a>8.2ThreadPoolExecutoræºç </h5><p><strong>å‚æ•°æœ€å¤šçš„æ„é€ æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ThreadPoolExecutor</span><span class="params">(<span class="type">int</span> corePoolSize,</span></span><br><span class="line"><span class="params">                              <span class="type">int</span> maximumPoolSize,</span></span><br><span class="line"><span class="params">                              <span class="type">long</span> keepAliveTime,</span></span><br><span class="line"><span class="params">                              TimeUnit unit,</span></span><br><span class="line"><span class="params">                              BlockingQueue&lt;Runnable&gt; workQueue,</span></span><br><span class="line"><span class="params">                              ThreadFactory threadFactory,</span></span><br><span class="line"><span class="params">                              RejectedExecutionHandler handler)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (corePoolSize &lt; <span class="number">0</span> ||</span><br><span class="line">            maximumPoolSize &lt;= <span class="number">0</span> ||</span><br><span class="line">            maximumPoolSize &lt; corePoolSize ||</span><br><span class="line">            keepAliveTime &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        <span class="keyword">if</span> (workQueue == <span class="literal">null</span> || threadFactory == <span class="literal">null</span> || handler == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">        <span class="built_in">this</span>.acc = System.getSecurityManager() == <span class="literal">null</span> ?</span><br><span class="line">                <span class="literal">null</span> :</span><br><span class="line">                AccessController.getContext();</span><br><span class="line">        <span class="built_in">this</span>.corePoolSize = corePoolSize;</span><br><span class="line">        <span class="built_in">this</span>.maximumPoolSize = maximumPoolSize;</span><br><span class="line">        <span class="built_in">this</span>.workQueue = workQueue;</span><br><span class="line">        <span class="built_in">this</span>.keepAliveTime = unit.toNanos(keepAliveTime);</span><br><span class="line">        <span class="built_in">this</span>.threadFactory = threadFactory;</span><br><span class="line">        <span class="built_in">this</span>.handler = handler;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="8-3çº¿ç¨‹æ± å‚æ•°"><a href="#8-3çº¿ç¨‹æ± å‚æ•°" class="headerlink" title="8.3çº¿ç¨‹æ± å‚æ•°"></a>8.3çº¿ç¨‹æ± å‚æ•°</h5><p><strong>corePoolSize</strong>(å¿…é¡»)ï¼š</p><p>æ ¸å¿ƒçº¿ç¨‹æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¼šä¸€ç›´å­˜æ´»ï¼Œä½†æ˜¯å½“å°† <strong>allowCoreThreadTimeout</strong> è®¾ç½®ä¸º true æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¹Ÿä¼šè¶…æ—¶å›æ”¶ã€‚</p><p><strong>maximumPoolSize</strong>ï¼ˆå¿…éœ€ï¼‰ï¼š</p><p>çº¿ç¨‹æ± æ‰€èƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å½“æ´»è·ƒçº¿ç¨‹æ•°è¾¾åˆ°è¯¥æ•°å€¼åï¼Œåç»­çš„æ–°ä»»åŠ¡å°†ä¼šé˜»å¡ã€‚</p><p><strong>keepAliveTime</strong>ï¼ˆå¿…éœ€ï¼‰ï¼š</p><p>çº¿ç¨‹é—²ç½®è¶…æ—¶æ—¶é•¿ã€‚å¦‚æœè¶…è¿‡è¯¥æ—¶é•¿ï¼Œéæ ¸å¿ƒçº¿ç¨‹å°±ä¼šè¢«å›æ”¶ã€‚å¦‚æœå°† <strong>allowCoreThreadTimeout</strong> è®¾ç½®ä¸º true æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¹Ÿä¼šè¶…æ—¶å›æ”¶ã€‚</p><p><strong>unit</strong>ï¼ˆå¿…éœ€ï¼‰ï¼š</p><p>æŒ‡å®š keepAliveTime å‚æ•°çš„æ—¶é—´å•ä½ã€‚å¸¸ç”¨çš„æœ‰ï¼š<strong>TimeUnit.MILLISECONDS</strong>ï¼ˆæ¯«ç§’ï¼‰ã€<strong>TimeUnit.SECONDS</strong>ï¼ˆç§’ï¼‰ã€<strong>TimeUnit.MINUTES</strong>ï¼ˆåˆ†ï¼‰ã€‚</p><p><strong>workQueue</strong>ï¼ˆå¿…éœ€ï¼‰ï¼š</p><p>ä»»åŠ¡é˜Ÿåˆ—ã€‚é€šè¿‡çº¿ç¨‹æ± çš„ execute() æ–¹æ³•æäº¤çš„ Runnable å¯¹è±¡å°†å­˜å‚¨åœ¨è¯¥å‚æ•°ä¸­ã€‚å…¶é‡‡ç”¨é˜»å¡é˜Ÿåˆ—å®ç°ã€‚åœ¨ Java ä¸­éœ€è¦å®ç° <strong>BlockingQueue</strong> æ¥å£ã€‚</p><p> Java æä¾›çš„ 7 ç§é˜»å¡é˜Ÿåˆ—çš„å®ç°ï¼š</p><h6 id="ArrayBlockingQueueï¼š"><a href="#ArrayBlockingQueueï¼š" class="headerlink" title="ArrayBlockingQueueï¼š"></a>ArrayBlockingQueueï¼š</h6><p>ä¸€ä¸ªç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼ˆæ•°ç»„ç»“æ„å¯é…åˆæŒ‡é’ˆå®ç°ä¸€ä¸ªç¯å½¢é˜Ÿåˆ—ï¼‰ã€‚</p><h6 id="LinkedBlockingQueueï¼š"><a href="#LinkedBlockingQueueï¼š" class="headerlink" title="LinkedBlockingQueueï¼š"></a>LinkedBlockingQueueï¼š</h6><p> ä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œåœ¨æœªæŒ‡æ˜å®¹é‡æ—¶ï¼Œå®¹é‡é»˜è®¤ä¸º Integer.MAX_VALUEã€‚</p><h6 id="PriorityBlockingQueueï¼š"><a href="#PriorityBlockingQueueï¼š" class="headerlink" title="PriorityBlockingQueueï¼š"></a>PriorityBlockingQueueï¼š</h6><p> ä¸€ä¸ªæ”¯æŒä¼˜å…ˆçº§æ’åºçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œå¯¹å…ƒç´ æ²¡æœ‰è¦æ±‚ï¼Œå¯ä»¥å®ç° Comparable æ¥å£ä¹Ÿå¯ä»¥æä¾› Comparator æ¥å¯¹é˜Ÿåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚è·Ÿæ—¶é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä»…ä»…æ˜¯æŒ‰ç…§ä¼˜å…ˆçº§å–ä»»åŠ¡ã€‚</p><h6 id="DelayQueueï¼š"><a href="#DelayQueueï¼š" class="headerlink" title="DelayQueueï¼š"></a>DelayQueueï¼š</h6><p>ç±»ä¼¼äºPriorityBlockingQueueï¼Œæ˜¯äºŒå‰å †å®ç°çš„æ— ç•Œä¼˜å…ˆçº§é˜»å¡é˜Ÿåˆ—ã€‚è¦æ±‚å…ƒç´ éƒ½å®ç° Delayed æ¥å£ï¼Œé€šè¿‡æ‰§è¡Œæ—¶å»¶ä»é˜Ÿåˆ—ä¸­æå–ä»»åŠ¡ï¼Œæ—¶é—´æ²¡åˆ°ä»»åŠ¡å–ä¸å‡ºæ¥ã€‚</p><h6 id="SynchronousQueueï¼š"><a href="#SynchronousQueueï¼š" class="headerlink" title="SynchronousQueueï¼š"></a>SynchronousQueueï¼š</h6><p> ä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨ take() æ–¹æ³•çš„æ—¶å€™å°±ä¼šå‘ç”Ÿé˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªç”Ÿäº§è€…çº¿ç¨‹ç”Ÿäº§äº†ä¸€ä¸ªå…ƒç´ ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹å°±å¯ä»¥æ‹¿åˆ°è¿™ä¸ªå…ƒç´ å¹¶è¿”å›ï¼›ç”Ÿäº§è€…çº¿ç¨‹è°ƒç”¨ put() æ–¹æ³•çš„æ—¶å€™ä¹Ÿä¼šå‘ç”Ÿé˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹æ¶ˆè´¹äº†ä¸€ä¸ªå…ƒç´ ï¼Œç”Ÿäº§è€…æ‰ä¼šè¿”å›ã€‚</p><h6 id="LinkedBlockingDequeï¼š"><a href="#LinkedBlockingDequeï¼š" class="headerlink" title="LinkedBlockingDequeï¼š"></a>LinkedBlockingDequeï¼š</h6><p> ä½¿ç”¨åŒå‘é˜Ÿåˆ—å®ç°çš„æœ‰ç•ŒåŒç«¯é˜»å¡é˜Ÿåˆ—ã€‚åŒç«¯æ„å‘³ç€å¯ä»¥åƒæ™®é€šé˜Ÿåˆ—ä¸€æ · FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œä¹Ÿå¯ä»¥åƒæ ˆä¸€æ · FILOï¼ˆå…ˆè¿›åå‡ºï¼‰ã€‚</p><h6 id="LinkedTransferQueueï¼š"><a href="#LinkedTransferQueueï¼š" class="headerlink" title="LinkedTransferQueueï¼š"></a>LinkedTransferQueueï¼š</h6><p> å®ƒæ˜¯ConcurrentLinkedQueueã€LinkedBlockingQueue å’Œ SynchronousQueue çš„ç»“åˆä½“ï¼Œä½†æ˜¯æŠŠå®ƒç”¨åœ¨ ThreadPoolExecutor ä¸­ï¼Œå’Œ LinkedBlockingQueue è¡Œä¸ºä¸€è‡´ï¼Œä½†æ˜¯æ˜¯æ— ç•Œçš„é˜»å¡é˜Ÿåˆ—ã€‚</p><p><strong>threadFactory</strong>ï¼ˆå¯é€‰ï¼‰ï¼š</p><p>çº¿ç¨‹å·¥å‚ã€‚ç”¨äºæŒ‡å®šä¸ºçº¿ç¨‹æ± åˆ›å»ºæ–°çº¿ç¨‹çš„æ–¹å¼ã€‚åœ¨ Java ä¸­éœ€è¦å®ç° <strong>BlockingQueue</strong> æ¥å£ã€‚ä½† Java å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº† 7 ç§é˜»å¡é˜Ÿåˆ—çš„å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The default thread factory.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DefaultThreadFactory</span> <span class="keyword">implements</span> <span class="title class_">ThreadFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AtomicInteger</span> <span class="variable">poolNumber</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ThreadGroup group;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">AtomicInteger</span> <span class="variable">threadNumber</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String namePrefix;</span><br><span class="line"> </span><br><span class="line">    DefaultThreadFactory() &#123;</span><br><span class="line">        <span class="type">SecurityManager</span> <span class="variable">s</span> <span class="operator">=</span> System.getSecurityManager();</span><br><span class="line">        group = (s != <span class="literal">null</span>) ? s.getThreadGroup() :</span><br><span class="line">                              Thread.currentThread().getThreadGroup();</span><br><span class="line">        namePrefix = <span class="string">&quot;pool-&quot;</span> +</span><br><span class="line">                      poolNumber.getAndIncrement() +</span><br><span class="line">                     <span class="string">&quot;-thread-&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> Thread <span class="title function_">newThread</span><span class="params">(Runnable r)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(group, r,</span><br><span class="line">                              namePrefix + threadNumber.getAndIncrement(),</span><br><span class="line">                              <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (t.isDaemon())</span><br><span class="line">            t.setDaemon(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span> (t.getPriority() != Thread.NORM_PRIORITY)</span><br><span class="line">            t.setPriority(Thread.NORM_PRIORITY);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>handler</strong>ï¼ˆå¯é€‰ï¼‰ï¼š</p><p>æ‹’ç»ç­–ç•¥ã€‚å½“è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°æ—¶éœ€è¦æ‰§è¡Œçš„é¥±å’Œç­–ç•¥ã€‚æ‹’ç»ç­–ç•¥éœ€è¦å®ç° RejectedExecutionHandler æ¥å£ï¼Œå¹¶å®ç° rejectedExecution(Runnable r, ThreadPoolExecutor executor) æ–¹æ³•ã€‚ä¸è¿‡ Executors æ¡†æ¶å·²ç»ä¸ºæˆ‘ä»¬å®ç°äº† 4 ç§æ‹’ç»ç­–ç•¥ï¼š</p><h6 id="AbortPolicyï¼ˆé»˜è®¤ï¼‰ï¼š"><a href="#AbortPolicyï¼ˆé»˜è®¤ï¼‰ï¼š" class="headerlink" title="AbortPolicyï¼ˆé»˜è®¤ï¼‰ï¼š"></a><strong>AbortPolicyï¼ˆé»˜è®¤ï¼‰ï¼š</strong></h6><p>ä¸¢å¼ƒä»»åŠ¡å¹¶æŠ›å‡º RejectedExecutionException å¼‚å¸¸ã€‚</p><h6 id="CallerRunsPolicyï¼š"><a href="#CallerRunsPolicyï¼š" class="headerlink" title="CallerRunsPolicyï¼š"></a><strong>CallerRunsPolicyï¼š</strong></h6><p>ç”±è°ƒç”¨çº¿ç¨‹å¤„ç†è¯¥ä»»åŠ¡ã€‚</p><h6 id="DiscardPolicyï¼š"><a href="#DiscardPolicyï¼š" class="headerlink" title="DiscardPolicyï¼š"></a><strong>DiscardPolicyï¼š</strong></h6><p>ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸ã€‚å¯ä»¥é…åˆè¿™ç§æ¨¡å¼è¿›è¡Œè‡ªå®šä¹‰çš„å¤„ç†æ–¹å¼ã€‚</p><h6 id="DiscardOldestPolicyï¼š"><a href="#DiscardOldestPolicyï¼š" class="headerlink" title="DiscardOldestPolicyï¼š"></a>DiscardOldestPolicyï¼š</h6><p>ä¸¢å¼ƒé˜Ÿåˆ—æœ€æ—©çš„æœªå¤„ç†ä»»åŠ¡ï¼Œç„¶åé‡æ–°å°è¯•æ‰§è¡Œä»»åŠ¡ã€‚</p><hr><p>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œå­™å¼º Jimmyã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/u013541140/article/details/95225769">https://blog.csdn.net/u013541140/article/details/95225769</a></p><h5 id="8-4çº¿ç¨‹æ± åˆ›å»ºç¤ºä¾‹"><a href="#8-4çº¿ç¨‹æ± åˆ›å»ºç¤ºä¾‹" class="headerlink" title="8.4çº¿ç¨‹æ± åˆ›å»ºç¤ºä¾‹"></a>8.4çº¿ç¨‹æ± åˆ›å»ºç¤ºä¾‹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">ThreadPoolExecutor</span> <span class="variable">threadPoolExecutor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">            <span class="number">10</span>,</span><br><span class="line">            <span class="number">20</span>,</span><br><span class="line">            <span class="number">1000</span>,</span><br><span class="line">            TimeUnit.MICROSECONDS,</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;&gt;(<span class="number">100</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµç¨‹å›¾</p><p><img src="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230320114310157.png" alt="image-20230320114310157"></p><h4 id="9-javaå°è£…å¥½çš„åŠŸèƒ½çº¿ç¨‹æ± "><a href="#9-javaå°è£…å¥½çš„åŠŸèƒ½çº¿ç¨‹æ± " class="headerlink" title="9.javaå°è£…å¥½çš„åŠŸèƒ½çº¿ç¨‹æ± "></a>9.javaå°è£…å¥½çš„åŠŸèƒ½çº¿ç¨‹æ± </h4><h5 id="å®šé•¿çº¿ç¨‹æ± "><a href="#å®šé•¿çº¿ç¨‹æ± " class="headerlink" title="å®šé•¿çº¿ç¨‹æ± "></a>å®šé•¿çº¿ç¨‹æ± </h5><p><strong>ç‰¹ç‚¹</strong>ï¼šåªæœ‰æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œæ‰§è¡Œå®Œç«‹å³å›æ”¶ï¼Œä»»åŠ¡é˜Ÿåˆ—èƒƒé“¾è¡¨ç»“æ„çš„æœ‰ç•Œé˜Ÿåˆ—ã€‚</p><p>åº”ç”¨åœºæ™¯ï¼šæ§åˆ¶æœ€å¤§å¹¶å‘æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dede</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">        <span class="type">Dede</span> <span class="variable">dede</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dede</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(dede);</span><br><span class="line">        thread.start();</span><br><span class="line">        executorService.submit(thread);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®šæ—¶çº¿ç¨‹æ± "><a href="#å®šæ—¶çº¿ç¨‹æ± " class="headerlink" title="å®šæ—¶çº¿ç¨‹æ± "></a>å®šæ—¶çº¿ç¨‹æ± </h5><p><strong>ç‰¹ç‚¹</strong>ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°å›ºå®šï¼Œéæ ¸å¿ƒçº¿ç¨‹æ•°é‡æ— é™ï¼Œæ‰§è¡Œå®Œé—²ç½®ä»»åŠ¡å›æ”¶ï¼Œä»»åŠ¡é˜Ÿåˆ—èƒƒå»¶æ—¶é˜»å¡é˜Ÿåˆ—</p><p>åº”ç”¨åœºæ™¯ï¼šéœ€è¦å‘¨æœŸæ€§çš„æ‰§è¡Œä»»åŠ¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dede</span> <span class="variable">dede</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dede</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(dede);</span><br><span class="line">        <span class="type">ScheduledExecutorService</span> <span class="variable">service</span> <span class="operator">=</span> Executors.newScheduledThreadPool(<span class="number">10</span>);</span><br><span class="line">        <span class="comment">// å»¶è¿Ÿ1såæ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">        service.schedule(thread, <span class="number">1</span>, TimeUnit.SECONDS);</span><br><span class="line">        <span class="comment">// å»¶è¿Ÿ10msåã€æ¯éš”1000msæ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">        service.scheduleAtFixedRate(thread,<span class="number">10</span>,<span class="number">1000</span>,TimeUnit.MILLISECONDS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="å¯ç¼“å­˜çº¿ç¨‹æ± "><a href="#å¯ç¼“å­˜çº¿ç¨‹æ± " class="headerlink" title="å¯ç¼“å­˜çº¿ç¨‹æ± "></a>å¯ç¼“å­˜çº¿ç¨‹æ± </h5><p>ç‰¹ç‚¹ï¼šæ— æ ¸å¿ƒçº¿ç¨‹ï¼Œéæ ¸å¿ƒçº¿ç¨‹æ•°é‡æ— é™ï¼Œæ‰§è¡Œå®Œé—²ç½®60såå›æ”¶ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸ºä¸å‚¨å­˜å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—</p><p>åº”ç”¨åœºæ™¯ï¼šå¤§é‡ä»»åŠ¡ï¼Œè€—æ—¶å°‘çš„ä»»åŠ¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dede</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dede</span> <span class="variable">dede</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dede</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(dede);</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">        executorService.execute(thread);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å•çº¿ç¨‹åŒ–çº¿ç¨‹æ± "><a href="#å•çº¿ç¨‹åŒ–çº¿ç¨‹æ± " class="headerlink" title="å•çº¿ç¨‹åŒ–çº¿ç¨‹æ± "></a>å•çº¿ç¨‹åŒ–çº¿ç¨‹æ± </h5><p>ç‰¹ç‚¹ï¼šåªæœ‰ä¸€ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œæ— éæ ¸å¿ƒçº¿ç¨‹ï¼Œæ‰§è¡Œå®Œç«‹å³å›æ”¶ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸ºé“¾è¡¨çš„æœ‰ç•Œé˜Ÿåˆ—ã€‚</p><p>åº”ç”¨åœºæ™¯ï¼šä¸é€‚åˆå¹¶å‘ä½†å¯èƒ½å¼•èµ· IO é˜»å¡æ€§åŠå½±å“ UI çº¿ç¨‹å“åº”çš„æ“ä½œï¼Œå¦‚æ•°æ®åº“æ“ä½œã€æ–‡ä»¶æ“ä½œç­‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        Dede dede = new Dede();</span><br><span class="line">        Thread thread = new Thread(dede);</span><br><span class="line">        ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line">        executorService.execute(thread);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="9-2ä½¿ç”¨javaé¢„ç¼–çº¿ç¨‹æ± åŠ£åŠ¿"><a href="#9-2ä½¿ç”¨javaé¢„ç¼–çº¿ç¨‹æ± åŠ£åŠ¿" class="headerlink" title="9.2ä½¿ç”¨javaé¢„ç¼–çº¿ç¨‹æ± åŠ£åŠ¿"></a>9.2ä½¿ç”¨javaé¢„ç¼–çº¿ç¨‹æ± åŠ£åŠ¿</h5><p>Executors çš„ 4 ä¸ªåŠŸèƒ½çº¿ç¨‹æ± è™½ç„¶æ–¹ä¾¿ï¼Œä½†ç°åœ¨å·²ç»ä¸å»ºè®®ä½¿ç”¨äº†ï¼Œè€Œæ˜¯å»ºè®®ç›´æ¥é€šè¿‡ä½¿ç”¨ ThreadPoolExecutor çš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©ã€‚</p><p><strong>FixedThreadPool ï¼ˆå®šé•¿çº¿ç¨‹æ± ï¼‰å’Œ SingleThreadExecutorï¼ˆå•ä¾‹çº¿ç¨‹æ± ï¼‰ï¼šä¸»è¦é—®é¢˜æ˜¯å †ç§¯çš„è¯·æ±‚å¤„ç†é˜Ÿåˆ—å‡é‡‡ç”¨ LinkedBlockingQueueï¼Œå¯èƒ½ä¼šè€—è´¹éå¸¸å¤§çš„å†…å­˜ï¼Œç”šè‡³ OOMã€‚</strong><br><strong>CachedThreadPool å’Œ ScheduledThreadPoolï¼šä¸»è¦é—®é¢˜æ˜¯çº¿ç¨‹æ•°æœ€å¤§æ•°æ˜¯ Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºæ•°é‡éå¸¸å¤šçš„çº¿ç¨‹ï¼Œç”šè‡³ OOMã€‚</strong></p><h5 id="çº¿ç¨‹æ± ç›¸å…³è¡¥å……ï¼š"><a href="#çº¿ç¨‹æ± ç›¸å…³è¡¥å……ï¼š" class="headerlink" title="çº¿ç¨‹æ± ç›¸å…³è¡¥å……ï¼š"></a>çº¿ç¨‹æ± ç›¸å…³è¡¥å……ï¼š</h5><p><code>execute()</code> vs <code>submit()</code>çš„åŒºåˆ«</p><p>execute()æ–¹æ³• é€‚åˆç”¨äºä¸éœ€è¦è¿”å›å€¼çš„ä»»åŠ¡</p><p>submit()æ–¹æ³• é€‚ç”¨äºéœ€è¦è¿”å›å€¼çš„ä»»åŠ¡ï¼Œçº¿ç¨‹æ± ä¼šè¿”å›ä¸€ä¸ª<code>Future</code>ç±»å‹çš„å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥çœ‹è¿”å›æ˜¯å¦æˆåŠŸ</p><h4 id="10-JUC"><a href="#10-JUC" class="headerlink" title="10.JUC"></a>10.JUC</h4><h5 id="10-1JUCæ˜¯ä»€ä¹ˆ"><a href="#10-1JUCæ˜¯ä»€ä¹ˆ" class="headerlink" title="10.1JUCæ˜¯ä»€ä¹ˆ"></a>10.1JUCæ˜¯ä»€ä¹ˆ</h5><p>JUCæ˜¯java.util.concurrentåŒ…çš„ç®€ç§°ï¼Œåœ¨jdk5æ·»åŠ ï¼Œæ˜¯ä¸ºäº†æ›´å¥½çš„æ”¯æŒé«˜å¹¶å‘ä»»åŠ¡çš„ä¸€äº›å·¥å…·</p><h5 id="10-2çº¿ç¨‹é€šä¿¡"><a href="#10-2çº¿ç¨‹é€šä¿¡" class="headerlink" title="10.2çº¿ç¨‹é€šä¿¡"></a>10.2çº¿ç¨‹é€šä¿¡</h5><p>åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ”¯æŒäº†ç²¾å‡†å”¤é†’</p><p>Condition:ä¿¡å·</p><p>condition.signal()å”¤é†’å½“å‰Condition</p><p>condition.await();å½“å‰çº¿ç¨‹æŒ‚èµ·</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Aè‹±ç‰¹å°” Cä¸»å‚å•† Bç»„è£…å‚ Aç”Ÿäº§ä¸€ä¸ªcpué€šçŸ¥Cç”Ÿäº§ä¸€ä¸ªä¸»æ¿ å½“æœ‰ä¸€ä¸ªä¸»æ¿ä¸€ä¸ªcpuæ—¶å€™ ç»„è£…å‚å®Œæˆç»„è£…</span></span><br><span class="line">        <span class="type">Data1</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Data1</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.addCpu();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;A&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    data.addMbd();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;C&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    data.d();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;B&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Data1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">Condition</span> <span class="variable">condition1</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line">    <span class="type">Condition</span> <span class="variable">condition2</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line">    <span class="type">Condition</span> <span class="variable">condition3</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">cpuNumber</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">mbdNumber</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">addCpu</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">while</span> (cpuNumber != <span class="number">0</span>) &#123;</span><br><span class="line">                condition1.await();</span><br><span class="line">            &#125;</span><br><span class="line">            cpuNumber++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ç”Ÿäº§äº†ä¸€ä»¶CPUå‰©ä½™&quot;</span> + cpuNumber);</span><br><span class="line">            condition2.signal();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">addMbd</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">while</span> (mbdNumber != <span class="number">0</span>) &#123;</span><br><span class="line">                condition2.await();</span><br><span class="line">            &#125;</span><br><span class="line">            mbdNumber++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ç”Ÿäº§äº†ä¸€ä»¶ä¸»æ¿å‰©ä½™&quot;</span> + mbdNumber);</span><br><span class="line">            condition3.signal();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">d</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">while</span> (cpuNumber == <span class="number">0</span> || mbdNumber == <span class="number">0</span>) &#123;</span><br><span class="line">                condition3.await();</span><br><span class="line">            &#125;</span><br><span class="line">            cpuNumber--;</span><br><span class="line">            mbdNumber--;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ç»„è£…ä¸€å°ä¸»æœº====å‰©ä½™cpu ä¸»æ¿&quot;</span> + cpuNumber + mbdNumber);</span><br><span class="line">            condition1.signal();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="çº¿ç¨‹å®‰å…¨é›†åˆ"><a href="#çº¿ç¨‹å®‰å…¨é›†åˆ" class="headerlink" title="çº¿ç¨‹å®‰å…¨é›†åˆ"></a>çº¿ç¨‹å®‰å…¨é›†åˆ</h5><h6 id="çº¿ç¨‹å®‰å…¨çš„List-CopyOnWriteArrayList"><a href="#çº¿ç¨‹å®‰å…¨çš„List-CopyOnWriteArrayList" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„List**CopyOnWriteArrayList**"></a>çº¿ç¨‹å®‰å…¨çš„List**<code>CopyOnWriteArrayList</code>**</h6><p><code>CopyOnWriteArrayList</code> å’Œ <code>Vector</code> æ˜¯ä¸¤ç§çº¿ç¨‹å®‰å…¨çš„ List å®ç°ï¼Œä½†å®ƒä»¬æœ‰ä¸€äº›å…³é”®çš„åŒºåˆ«ã€‚</p><ol><li><strong>çº¿ç¨‹å®‰å…¨æœºåˆ¶ï¼š</strong><ul><li><strong><code>CopyOnWriteArrayList</code>ï¼š</strong> ä½¿ç”¨å†™æ—¶å¤åˆ¶ï¼ˆCopy-On-Writeï¼‰ç­–ç•¥ï¼Œå³åœ¨å¯¹å®¹å™¨è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¸ç›´æ¥ä¿®æ”¹åŸå§‹æ•°æ®ï¼Œè€Œæ˜¯å¤åˆ¶ä¸€ä»½æ•°æ®å‰¯æœ¬è¿›è¡Œä¿®æ”¹ï¼Œå®Œæˆåå†å°†å¼•ç”¨æŒ‡å‘æ–°çš„æ•°æ®å‰¯æœ¬ã€‚è¿™æ ·å¯ä»¥ä¿è¯è¯»å–æ“ä½œçš„çº¿ç¨‹ä¸å—å†™å…¥æ“ä½œçš„å½±å“ï¼Œä»è€Œå®ç°è¯»å†™å¹¶å‘ã€‚</li><li><strong><code>Vector</code>ï¼š</strong> ä½¿ç”¨ä¼ ç»Ÿçš„åŒæ­¥æ–¹æ³•ï¼Œé€šè¿‡åœ¨æ¯ä¸ªæ–¹æ³•ä¸Šä½¿ç”¨ <code>synchronized</code> å…³é”®å­—æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚è¿™æ„å‘³ç€åœ¨è¿›è¡Œä¿®æ”¹æ“ä½œæ—¶ï¼Œæ•´ä¸ªå¯¹è±¡è¢«é”ä½ï¼Œå¯èƒ½å¯¼è‡´å¹¶å‘æ€§èƒ½ä¸‹é™ã€‚</li></ul></li><li><strong>æ€§èƒ½ï¼š</strong><ul><li><strong><code>CopyOnWriteArrayList</code>ï¼š</strong> é€‚ç”¨äºè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œå› ä¸ºå†™æ“ä½œä¼šå¯¼è‡´æ•°æ®çš„å¤åˆ¶ï¼Œå¯èƒ½åœ¨å¹¶å‘å†™å…¥è¾ƒé¢‘ç¹çš„æƒ…å†µä¸‹äº§ç”Ÿè¾ƒé«˜çš„å¼€é”€ã€‚</li><li><strong><code>Vector</code>ï¼š</strong> æ€§èƒ½ç›¸å¯¹è¾ƒä½ï¼Œå› ä¸ºåœ¨è¿›è¡Œä»»ä½•ä¿®æ”¹æ“ä½œæ—¶éƒ½éœ€è¦è·å–å¯¹è±¡çº§åˆ«çš„é”ï¼Œå¯èƒ½å¯¼è‡´è¾ƒé«˜çš„ç«äº‰å’Œç­‰å¾…ã€‚</li></ul></li></ol><h6 id="çº¿ç¨‹å®‰å…¨çš„setCopyOnWriteArraySet"><a href="#çº¿ç¨‹å®‰å…¨çš„setCopyOnWriteArraySet" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„setCopyOnWriteArraySet"></a>çº¿ç¨‹å®‰å…¨çš„set<code>CopyOnWriteArraySet</code></h6><p>ä¸liståŒç†</p><h6 id="çº¿ç¨‹å®‰å…¨çš„mapConcurrentHashMap"><a href="#çº¿ç¨‹å®‰å…¨çš„mapConcurrentHashMap" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„mapConcurrentHashMap"></a>çº¿ç¨‹å®‰å…¨çš„map<code>ConcurrentHashMap</code></h6><ol><li><strong>åŒæ­¥ç­–ç•¥ï¼š</strong><ul><li><strong><code>ConcurrentHashMap</code>ï¼š</strong> ä½¿ç”¨åˆ†æ®µé”ï¼ˆSegmentï¼‰æ¥å®ç°å¹¶å‘æ§åˆ¶ã€‚ä¸åŒçš„æ®µå¯ä»¥ç‹¬ç«‹è¿›è¡Œè¯»å†™æ“ä½œï¼Œä»è€Œæé«˜å¹¶å‘æ€§ã€‚å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¯»å–ï¼Œå†™å…¥æ“ä½œä¹Ÿå¯ä»¥å¹¶è¡Œè¿›è¡Œï¼Œåªæœ‰åœ¨å¯¹åŒä¸€ä¸ªæ®µè¿›è¡Œè¯»å†™æ—¶æ‰éœ€è¦è¿›è¡ŒåŒæ­¥ã€‚</li><li><strong><code>Hashtable</code>ï¼š</strong> ä½¿ç”¨å•ä¸€é”æ¥å¯¹æ•´ä¸ªæ•°æ®ç»“æ„è¿›è¡ŒåŒæ­¥ã€‚è¿™æ„å‘³ç€ä¸€æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å¯¹ <code>Hashtable</code> è¿›è¡Œè¯»å†™æ“ä½œï¼Œè¿™å¯èƒ½å¯¼è‡´æ€§èƒ½ç“¶é¢ˆï¼Œå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ã€‚</li></ul></li><li><strong>æ€§èƒ½ï¼š</strong><ul><li><strong><code>ConcurrentHashMap</code>ï¼š</strong> åœ¨è¯»å–å’Œå†™å…¥æ“ä½œä¸Šç›¸å¯¹é«˜æ•ˆï¼Œå°¤å…¶åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ã€‚æ¯ä¸ªæ®µçš„é”å¯ä»¥ç‹¬ç«‹æ“ä½œï¼Œä»è€Œæé«˜å¹¶å‘æ€§ã€‚</li><li><strong><code>Hashtable</code>ï¼š</strong> åœ¨å†™å…¥æ“ä½œä¸Šéœ€è¦è¿›è¡Œæ•´ä¸ªæ•°æ®ç»“æ„çš„åŒæ­¥ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½ç“¶é¢ˆï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ã€‚</li></ul></li></ol><h5 id="å¸¸ç”¨çš„è¾…åŠ©ç±»"><a href="#å¸¸ç”¨çš„è¾…åŠ©ç±»" class="headerlink" title="å¸¸ç”¨çš„è¾…åŠ©ç±»"></a>å¸¸ç”¨çš„è¾…åŠ©ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//CountDownLatch</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€å¤©åªèƒ½æ‰“è±†è±†å…­æ¬¡&quot;</span>);</span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">countDownLatch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(<span class="number">6</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;-1&quot;</span>);</span><br><span class="line">                countDownLatch.countDown();</span><br><span class="line">            &#125;, <span class="string">&quot;æ‰“è±†è±†&quot;</span>).start();</span><br><span class="line">        &#125;</span><br><span class="line">        countDownLatch.await();</span><br><span class="line">        System.out.println(<span class="string">&quot;å·²ç»ç»“æŸäº†&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//CyclicBarrier</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€å¤©è¦åƒä¸‰é¡¿é¥­&quot;</span>);</span><br><span class="line">        <span class="type">CyclicBarrier</span> <span class="variable">cyclicBarrier</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CyclicBarrier</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;åƒä¸€é¡¿é¥­&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    cyclicBarrier.await();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        cyclicBarrier.await();</span><br><span class="line">        System.out.println(<span class="string">&quot;åƒå®Œäº†&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Semaphore</span></span><br><span class="line">        System.out.println(<span class="string">&quot;åªèƒ½æœ‰ä¸¤ä¸ªäººç©switché©¬é‡Œå¥¥æƒŠå¥‡&quot;</span>);</span><br><span class="line">        <span class="type">Semaphore</span> <span class="variable">semaphore</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">2</span>);</span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="string">&quot;æå››&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>, <span class="string">&quot;èµµå…­&quot;</span>, <span class="string">&quot;ç”°ä¸ƒ&quot;</span>, <span class="string">&quot;éƒ­å…«&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String name : list) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    semaphore.acquire();</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ç©ä¸Šäº†switch&quot;</span>);</span><br><span class="line">                    TimeUnit.SECONDS.sleep(<span class="number">3</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    semaphore.release();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, name).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯»å†™é”ReadWriteLock"><a href="#è¯»å†™é”ReadWriteLock" class="headerlink" title="è¯»å†™é”ReadWriteLock"></a>è¯»å†™é”ReadWriteLock</h5><p>è¯»é”å¯ä»¥å…±äº«ï¼Œå†™é”ä¸ºæ™®é€šçš„äº’æ–¥é”</p><p>demo</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SharedResource</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">ReadWriteLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantReadWriteLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">readData</span><span class="params">()</span> &#123;</span><br><span class="line">        lock.readLock().lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œè¯»å–æ“ä½œ</span></span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.readLock().unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writeData</span><span class="params">(<span class="type">int</span> newData)</span> &#123;</span><br><span class="line">        lock.writeLock().lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œå†™å…¥æ“ä½œ</span></span><br><span class="line">            data = newData;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.writeLock().unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SharedResource</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SharedResource</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤šä¸ªçº¿ç¨‹è¯»å–æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> resource.readData();</span><br><span class="line">                System.out.println(<span class="string">&quot;Read data: &quot;</span> + value);</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸€ä¸ªçº¿ç¨‹å†™å…¥æ•°æ®</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            resource.writeData(<span class="number">42</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Write data: 42&quot;</span>);</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="é˜»å¡é˜Ÿåˆ—"><a href="#é˜»å¡é˜Ÿåˆ—" class="headerlink" title="é˜»å¡é˜Ÿåˆ—"></a>é˜»å¡é˜Ÿåˆ—</h5><p>BlockingQueueï¼ˆé˜»å¡é˜Ÿåˆ—ï¼‰æ¥å£ç»§æ‰¿äº†Queueæ¥å£ã€‚</p><p>å¸¸ç”¨å®ç°ç±»ï¼š</p><p>ArrayBlockingQueue LinkedBlockingQueue SynchronousQueue(åŒæ­¥é˜Ÿåˆ—ï¼ï¼ï¼åªèƒ½æ”¾ä¸€ä¸ªæ•°æ®ï¼Œä¸€æ”¾ä¸€å‡º)</p><p><img src="/2023/02/17/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20231215173400759.png" alt="image-20231215173400759"></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> juc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlè§†å›¾</title>
      <link href="/2022/12/07/mysql%E8%A7%86%E5%9B%BE/"/>
      <url>/2022/12/07/mysql%E8%A7%86%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<p>MySQLè§†å›¾ä½¿ç”¨</p><span id="more"></span><h4 id="mysqlè§†å›¾ä»‹ç»"><a href="#mysqlè§†å›¾ä»‹ç»" class="headerlink" title="mysqlè§†å›¾ä»‹ç»"></a>mysqlè§†å›¾ä»‹ç»</h4><h5 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h5><p>1.mysqlè§†å›¾ï¼ˆviewï¼‰æ˜¯ä¸€ç§è™šæ‹Ÿå­˜åœ¨çš„è¡¨ã€‚åŒçœŸå®çš„è¡¨ä¸€æ ·ï¼Œå¯ä»¥å¢åˆ æ”¹æŸ¥,è·Ÿæ™®é€šè¡¨è¿æ¥æŸ¥è¯¢ç­‰æ“ä½œï¼Œå¯ä»¥å½“ä½œæ™®é€šè¡¨æ¥ä½¿ç”¨</p><p>2.è§†å›¾ä¸­å¹¶ä¸å­˜æ”¾æ•°æ®ï¼Œåªè®°å½•äº†å®šä¹‰è§†å›¾çš„æŸ¥è¯¢è¯­å¥</p><p>3.è§†å›¾ä¸­çš„æ•°æ®ä¾èµ–äºçœŸå®è¡¨æ•°æ®ï¼Œæ•°æ®ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œä½ éœ€è¦æ›´æ”¹è§†å›¾çš„æŸ¥è¯¢è¯­å¥</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><h5 id="demoç¤ºä¾‹è¡¨"><a href="#demoç¤ºä¾‹è¡¨" class="headerlink" title="demoç¤ºä¾‹è¡¨"></a>demoç¤ºä¾‹è¡¨</h5><p><strong>user:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `user` (</span><br><span class="line">  `id` int NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `name` varchar(255) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `demo`.`user` (`id`, `name`) VALUES (1, &#x27;è·¯é¥&#x27;);</span><br><span class="line">INSERT INTO `demo`.`user` (`id`, `name`) VALUES (2, &#x27;åˆ˜æ…ˆæ¬£&#x27;);</span><br></pre></td></tr></table></figure><p><strong>book:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `book` (</span><br><span class="line">  `id` int NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `book_name` varchar(255) DEFAULT NULL,</span><br><span class="line">  `user_id` int DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `demo`.`book` (`id`, `book_name`, `user_id`) VALUES (1, &#x27;å¹³å‡¡çš„ä¸–ç•Œ&#x27;, 1);</span><br><span class="line">INSERT INTO `demo`.`book` (`id`, `book_name`, `user_id`) VALUES (2, &#x27;ä¸‰ä½“&#x27;, 2);</span><br><span class="line">INSERT INTO `demo`.`book` (`id`, `book_name`, `user_id`) VALUES (3, &#x27;äººç”Ÿ&#x27;, 1);</span><br></pre></td></tr></table></figure><h5 id="è§†å›¾åˆ›å»º"><a href="#è§†å›¾åˆ›å»º" class="headerlink" title="è§†å›¾åˆ›å»º"></a>è§†å›¾åˆ›å»º</h5><p><strong>è¯­æ³•ï¼š</strong></p><p>CREATE VIEW &lt;è§†å›¾å&gt; AS &lt;SELECTè¯­å¥&gt;</p><p>CREATE VIEW &lt;è§†å›¾å&gt; ï¼ˆå¯ä»¥è§„å®šè¿”å›çš„å­—æ®µï¼ŒUNIONæŸ¥è¯¢æ—¶å€™ï¼‰ AS &lt;SELECTè¯­å¥&gt;</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW user_book AS SELECT</span><br><span class="line">t1.id,</span><br><span class="line">t1.`name`,</span><br><span class="line">GROUP_CONCAT( t2.book_name ) AS books </span><br><span class="line">FROM</span><br><span class="line">`user` t1</span><br><span class="line">LEFT JOIN book t2 ON t1.id = t2.user_id </span><br><span class="line">GROUP BY</span><br><span class="line">t1.id,</span><br><span class="line">t1.`name`</span><br></pre></td></tr></table></figure><p><strong>æ‰§è¡Œæ•ˆæœ</strong>ï¼š</p><p>ç±»ä¼¼ä¸€å¼ æ–°å»ºçš„è¡¨ï¼Œè¡¨ä¸­æ•°æ®ä¸ºä½ åˆ›å»ºè§†å›¾æ—¶å€™æŸ¥è¯¢è¯­å¥çš„è¿”å›å€¼</p><p><img src="/2022/12/07/mysql%E8%A7%86%E5%9B%BE/image-20221207155802090-0399885.png" alt="image-20221207155802090"></p><h5 id="è§†å›¾æŸ¥è¯¢"><a href="#è§†å›¾æŸ¥è¯¢" class="headerlink" title="è§†å›¾æŸ¥è¯¢"></a>è§†å›¾æŸ¥è¯¢</h5><h6 id="æŸ¥è¯¢è§†å›¾æ•°æ®"><a href="#æŸ¥è¯¢è§†å›¾æ•°æ®" class="headerlink" title="æŸ¥è¯¢è§†å›¾æ•°æ®"></a>æŸ¥è¯¢è§†å›¾æ•°æ®</h6><p><strong>è¯­æ³•</strong></p><p>ä¸æ™®é€šè¡¨æŸ¥è¯¢ä¸€è‡´</p><h6 id="æŸ¥çœ‹è§†å›¾å­—æ®µä¿¡æ¯"><a href="#æŸ¥çœ‹è§†å›¾å­—æ®µä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹è§†å›¾å­—æ®µä¿¡æ¯"></a><strong>æŸ¥çœ‹è§†å›¾å­—æ®µä¿¡æ¯</strong></h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DESCRLBE &lt;è§†å›¾åç§°&gt;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç®€å†™ä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DESC &lt;è§†å›¾åç§°&gt;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹</strong>ï¼š</p><p><img src="/2022/12/07/mysql%E8%A7%86%E5%9B%BE/image-20221207160428279.png" alt="image-20221207160428279"></p><h6 id="æŸ¥çœ‹è§†å›¾å®šä¹‰è¯­å¥"><a href="#æŸ¥çœ‹è§†å›¾å®šä¹‰è¯­å¥" class="headerlink" title="æŸ¥çœ‹è§†å›¾å®šä¹‰è¯­å¥"></a>æŸ¥çœ‹è§†å›¾å®šä¹‰è¯­å¥</h6><p><strong>è¯­æ³•</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE VIEW è§†å›¾åç§°</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><p><img src="/2022/12/07/mysql%E8%A7%86%E5%9B%BE/image-20221207161335662.png" alt="image-20221207161335662"></p><h6 id="è§†å›¾ä¿®æ”¹"><a href="#è§†å›¾ä¿®æ”¹" class="headerlink" title="è§†å›¾ä¿®æ”¹"></a>è§†å›¾ä¿®æ”¹</h6><p><strong>è¯­æ³•</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER VIEW &lt;è§†å›¾å&gt; AS &lt;SELECTè¯­å¥&gt;</span><br></pre></td></tr></table></figure><h6 id="è§†å›¾åˆ é™¤"><a href="#è§†å›¾åˆ é™¤" class="headerlink" title="è§†å›¾åˆ é™¤"></a>è§†å›¾åˆ é™¤</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW &lt;è§†å›¾å1&gt; [ , &lt;è§†å›¾å2&gt; â€¦]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptè¯¦è§£å­¦ä¹ </title>
      <link href="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<p>JavaScriptå…¨è§£</p><span id="more"></span><h4 id="ç¬¬ä¸€ç« -JavaScriptç®€ä»‹"><a href="#ç¬¬ä¸€ç« -JavaScriptç®€ä»‹" class="headerlink" title="ç¬¬ä¸€ç«  JavaScriptç®€ä»‹"></a>ç¬¬ä¸€ç«  JavaScriptç®€ä»‹</h4><p>htmlï¼Œcssï¼Œjsç®—æ˜¯æ¥è§¦çš„æœ€æ—©çš„è¯­è¨€ï¼Œä½†æ˜¯å› ä¸ºåæ¥å·¥ä½œåå‰åç«¯åˆ†ç¦»ï¼Œå„ç§æ¡†æ¶ï¼Œå†åŠ ä¸Šå·¥ä½œå†…å®¹éƒ½æ˜¯javaåç«¯å¼€å‘ï¼Œå¯¼è‡´æœ€è¿‘æƒ³ç”¨jsä½œä¸ºå‰ç«¯è¯­è¨€æ­å»ºè‡ªå·±çš„ä¸€ä¸ªåº”ç”¨æ—¶è¿›åº¦ç¼“æ…¢ï¼Œæ‰€ä»¥é‡æ–°æ¡ä¸€éï¼Œä¹Ÿå¯ä»¥ å½“ä½œå­—å…¸ï¼Œä»¥åæŸ¥é˜…</p><h5 id="1-1ã€JavaScriptçš„èµ·æº"><a href="#1-1ã€JavaScriptçš„èµ·æº" class="headerlink" title="1.1ã€JavaScriptçš„èµ·æº"></a>1.1ã€JavaScriptçš„èµ·æº</h5><p>JavaScriptè¯ç”Ÿäº1995å¹´ï¼Œå®ƒçš„å‡ºç°ä¸»è¦æ˜¯ç”¨äºå¤„ç†ç½‘é¡µä¸­çš„å‰ç«¯éªŒè¯ã€‚æ‰€è°“çš„å‰ç«¯éªŒè¯ï¼Œå°±æ˜¯æŒ‡æ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„å†…å®¹æ˜¯å¦ç¬¦åˆä¸€å®šçš„è§„åˆ™ã€‚æ¯”å¦‚ï¼šç”¨æˆ·åçš„é•¿åº¦ï¼Œå¯†ç çš„é•¿åº¦ï¼Œé‚®ç®±çš„æ ¼å¼ç­‰ã€‚</p><p>å†å²äº‹ä»¶å‘å±•è¡¨ï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/34ceed720299546a8161deab88fe16aa.png" alt="image-20201012142902870"></p><h5 id="1-2ã€JavaScriptçš„ç»„æˆ"><a href="#1-2ã€JavaScriptçš„ç»„æˆ" class="headerlink" title="1.2ã€JavaScriptçš„ç»„æˆ"></a>1.2ã€JavaScriptçš„ç»„æˆ</h5><p>ECMAScriptæ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œè€Œè¿™ä¸ªæ ‡å‡†éœ€è¦ç”±å„ä¸ªå‚å•†å»å®ç°ï¼Œä¸åŒçš„æµè§ˆå™¨å‚å•†å¯¹è¯¥æ ‡å‡†ä¼šæœ‰ä¸åŒçš„å®ç°ã€‚</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/584d9295990909d32b3338dbbbe9c037.png" alt="image-20201012144015831"></p><p>æˆ‘ä»¬å·²ç»çŸ¥é“ECMAScriptæ˜¯JavaScriptæ ‡å‡†ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸¤ä¸ªè¯æˆ‘ä»¬è®¤ä¸ºæ˜¯ä¸€ä¸ªæ„æ€ã€‚ä½†æ˜¯å®é™…ä¸ŠJavaScriptçš„å«ä¹‰å´è¦æ›´å¤§ä¸€äº›ã€‚ä¸€ä¸ªå®Œæ•´çš„JavaScriptå®ç°åº”è¯¥ç”±ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†æ„æˆï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/fafb929ac005ed0e9e2dedb433fe8eab.png" alt="image-20201012144120964"></p><h5 id="1-3ã€JavaScriptçš„ç‰¹ç‚¹å¾ˆ"><a href="#1-3ã€JavaScriptçš„ç‰¹ç‚¹å¾ˆ" class="headerlink" title="1.3ã€JavaScriptçš„ç‰¹ç‚¹å¾ˆ"></a>1.3ã€JavaScriptçš„ç‰¹ç‚¹å¾ˆ</h5><h6 id="è§£é‡Šå‹è¯­è¨€"><a href="#è§£é‡Šå‹è¯­è¨€" class="headerlink" title="è§£é‡Šå‹è¯­è¨€"></a>è§£é‡Šå‹è¯­è¨€</h6><p>JavaScriptæ˜¯ä¸€é—¨è§£é‡Šå‹è¯­è¨€ï¼Œæ‰€è°“è§£é‡Šå‹å€¼è¯­è¨€æ˜¯æŒ‡ä¸éœ€è¦è¢«ç¼–è¯‘ä¸ºæœºå™¨ç åœ¨æ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥æ‰§è¡Œã€‚ç”±äºå°‘äº†ç¼–è¯‘è¿™ä¸€æ­¥éª¤ï¼Œæ‰€ä»¥è§£é‡Šå‹è¯­è¨€å¼€å‘èµ·æ¥å°¤ä¸ºè½»æ¾ï¼Œä½†æ˜¯è§£é‡Šå‹è¯­è¨€è¿è¡Œè¾ƒæ…¢ä¹Ÿæ˜¯å®ƒçš„åŠ£åŠ¿ã€‚ä¸è¿‡è§£é‡Šå‹è¯­è¨€ä¸­ä½¿ç”¨äº†JITæŠ€æœ¯ï¼Œä½¿å¾—è¿è¡Œé€Ÿåº¦å¾—ä»¥æ”¹å–„ã€‚</p><h6 id="åŠ¨æ€è¯­è¨€"><a href="#åŠ¨æ€è¯­è¨€" class="headerlink" title="åŠ¨æ€è¯­è¨€"></a>åŠ¨æ€è¯­è¨€</h6><p>JavaScriptæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œæ‰€è°“çš„åŠ¨æ€è¯­è¨€å¯ä»¥æš‚æ—¶ç†è§£ä¸ºåœ¨è¯­è¨€ä¸­çš„ä¸€åˆ‡å†…å®¹éƒ½æ˜¯ä¸ç¡®å®šçš„ã€‚æ¯”å¦‚ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸€æ—¶åˆ»æ˜¯ä¸ªæ•´å‹ï¼Œä¸‹ä¸€æ—¶åˆ»å¯èƒ½ä¼šå˜æˆå­—ç¬¦ä¸²äº†ã€‚å½“ç„¶è¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä»¥åå†è°ˆã€‚ä¸è¿‡åœ¨è¡¥å……ä¸€å¥åŠ¨æ€è¯­è¨€ç›¸æ¯”é™æ€è¯­è¨€æ€§èƒ½ä¸Šè¦å·®ä¸€äº›ï¼Œä¸è¿‡ç”±äºJavaScriptä¸­åº”ç”¨çš„JITæŠ€æœ¯ï¼Œæ‰€ä»¥JavaScriptå¯èƒ½æ˜¯è¿è¡Œé€Ÿåº¦æœ€å¿«çš„åŠ¨æ€è¯­è¨€äº†ã€‚</p><h6 id="ç±»ä¼¼äº-C-å’Œ-Java-çš„è¯­æ³•ç»“æ„"><a href="#ç±»ä¼¼äº-C-å’Œ-Java-çš„è¯­æ³•ç»“æ„" class="headerlink" title="ç±»ä¼¼äº C å’Œ Java çš„è¯­æ³•ç»“æ„"></a>ç±»ä¼¼äº C å’Œ Java çš„è¯­æ³•ç»“æ„</h6><p>JavaScriptçš„è¯­æ³•ç»“æ„ä¸Cå’ŒJavaå¾ˆåƒï¼Œå‘forã€ifã€whileç­‰è¯­å¥å’ŒJavaçš„åŸºæœ¬ä¸Šæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚æ‰€ä»¥æœ‰è¿‡Cå’ŒJavaåŸºç¡€çš„åŒå­¦å­¦ä¹ èµ·æ¥ä¼šè½»æ¾å¾ˆå¤šã€‚ä¸è¿‡JavaScriptå’Œä¸Javaçš„å…³ç³»ä¹Ÿä»…ä»…æ˜¯çœ‹èµ·æ¥åƒè€Œå·²ã€‚</p><h6 id="åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡"><a href="#åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡" class="headerlink" title="åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡"></a>åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡</h6><p>JavaScriptæ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€ã€‚å•¥æ˜¯å¯¹è±¡ï¼Ÿä¸‹æ¬¡èŠã€‚</p><p>Javaä¹Ÿæ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯ä¸Javaä¸åŒJavaScriptæ˜¯åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡ã€‚å•¥æ˜¯åŸå‹ï¼Ÿä¸‹æ¬¡èŠã€‚</p><h6 id="ä¸¥æ ¼åŒºåˆ†å¤§å°å†™"><a href="#ä¸¥æ ¼åŒºåˆ†å¤§å°å†™" class="headerlink" title="ä¸¥æ ¼åŒºåˆ†å¤§å°å†™"></a>ä¸¥æ ¼åŒºåˆ†å¤§å°å†™</h6><p><strong>JavaScriptæ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„</strong>ï¼Œä¹Ÿå°±æ˜¯abcå’ŒAbcä¼šè¢«è§£æå™¨è®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ã€‚</p><h5 id="1-4ã€JavaScriptçš„ä½¿ç”¨"><a href="#1-4ã€JavaScriptçš„ä½¿ç”¨" class="headerlink" title="1.4ã€JavaScriptçš„ä½¿ç”¨"></a>1.4ã€JavaScriptçš„ä½¿ç”¨</h5><h6 id="1-4-1ã€æ ‡ç­¾å¼•ç”¨"><a href="#1-4-1ã€æ ‡ç­¾å¼•ç”¨" class="headerlink" title="1.4.1ã€æ ‡ç­¾å¼•ç”¨"></a>1.4.1ã€æ ‡ç­¾å¼•ç”¨</h6><p>åœ¨HTMLä¸­åœ¨scriptæ ‡ç­¾ä¸­å°±å¯ä»¥ç¼–å†™JavaScriptä»£ç ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•æ¼”ç¤ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;å¼¹çª—Hello,World!&quot;</span>);</span><br></pre></td></tr></table></figure><h6 id="1-4-2ã€æ–‡ä»¶å¼•ç”¨"><a href="#1-4-2ã€æ–‡ä»¶å¼•ç”¨" class="headerlink" title="1.4.2ã€æ–‡ä»¶å¼•ç”¨"></a>1.4.2ã€æ–‡ä»¶å¼•ç”¨</h6><p>åœ¨ä¸€ä¸ªå•ç‹¬çš„jsæ–‡ä»¶ä¸­ä¹Ÿå¯ä»¥ç¼–å†™JavaScriptä»£ç ï¼Œç„¶ååœ¨HTMLæ–‡ä»¶ä¸­ä½¿ç”¨scriptæ ‡ç­¾è¿›è¡Œå¼•ç”¨ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•æ¼”ç¤ºã€‚</p><p>main.html</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;main.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(&quot;å¼•ç”¨å¼¹çª—Hello,222222!&quot;);</span><br></pre></td></tr></table></figure><h5 id="1-5ã€JavaScriptçš„è¾“å‡º"><a href="#1-5ã€JavaScriptçš„è¾“å‡º" class="headerlink" title="1.5ã€JavaScriptçš„è¾“å‡º"></a>1.5ã€JavaScriptçš„è¾“å‡º</h5><h6 id="1-5-1ã€é¡µé¢è¾“å‡º"><a href="#1-5-1ã€é¡µé¢è¾“å‡º" class="headerlink" title="1.5.1ã€é¡µé¢è¾“å‡º"></a>1.5.1ã€é¡µé¢è¾“å‡º</h6><p>å¦‚ä½•ä½¿ç”¨JavaScriptå‘é¡µé¢è¾“å‡ºä¸€å¥è¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;é¡µé¢Hello,World!&quot;</span>)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="1-5-2ã€æ§åˆ¶å°è¾“å‡º"><a href="#1-5-2ã€æ§åˆ¶å°è¾“å‡º" class="headerlink" title="1.5.2ã€æ§åˆ¶å°è¾“å‡º"></a>1.5.2ã€æ§åˆ¶å°è¾“å‡º</h6><p>å¦‚ä½•ä½¿ç”¨JavaScriptå‘æ§åˆ¶å°è¾“å‡ºä¸€å¥è¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä»£ç ã€‚</p><script>    console.log("è¾“å‡ºä¸€æ¡æ—¥å¿—");//æœ€å¸¸ç”¨    console.info("è¾“å‡ºä¸€æ¡ä¿¡æ¯");    console.warn("è¾“å‡ºä¸€æ¡è­¦å‘Š");    console.error("è¾“å‡ºä¸€æ¡é”™è¯¯");</script><h5 id="1-6ã€JavaScriptçš„æ³¨é‡Š"><a href="#1-6ã€JavaScriptçš„æ³¨é‡Š" class="headerlink" title="1.6ã€JavaScriptçš„æ³¨é‡Š"></a>1.6ã€JavaScriptçš„æ³¨é‡Š</h5><p>æ³¨é‡Šä¸­çš„å†…å®¹ä¸ä¼šè¢«è§£æå™¨è§£ææ‰§è¡Œï¼Œä½†æ˜¯ä¼šåœ¨æºç ä¸­æ˜¾ç¤ºï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨æ³¨é‡Šå¯¹ç¨‹åºä¸­çš„å†…å®¹è¿›è¡Œè§£é‡Šã€‚</p><p>JSä¸­çš„æ³¨é‡Šå’ŒJavaçš„çš„ä¸€è‡´ï¼Œåˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li><p>å•è¡Œæ³¨é‡Šï¼š<code>// æ³¨é‡Šå†…å®¹</code></p></li><li><p>å¤šè¡Œæ³¨é‡Šï¼š<code>/* æ³¨é‡Šå†…å®¹ */</code></p></li></ul><h6 id="1-6-1ã€å•è¡Œæ³¨é‡Š"><a href="#1-6-1ã€å•è¡Œæ³¨é‡Š" class="headerlink" title="1.6.1ã€å•è¡Œæ³¨é‡Š"></a>1.6.1ã€å•è¡Œæ³¨é‡Š</h6><script>    // è¿™æ˜¯æ³¨é‡Šå†…å®¹    console.log("Hello,World!");</script><h6 id="1-6-2ã€å¤šè¡Œæ³¨é‡Š"><a href="#1-6-2ã€å¤šè¡Œæ³¨é‡Š" class="headerlink" title="1.6.2ã€å¤šè¡Œæ³¨é‡Š"></a>1.6.2ã€å¤šè¡Œæ³¨é‡Š</h6><script>    /**     * è¿™æ˜¯æ³¨é‡Šå†…å®¹     */    console.log("Hello,World!");</script><h4 id="ç¬¬äºŒç« -JavaScriptåŸºç¡€è¯­æ³•"><a href="#ç¬¬äºŒç« -JavaScriptåŸºç¡€è¯­æ³•" class="headerlink" title="ç¬¬äºŒç«  JavaScriptåŸºç¡€è¯­æ³•"></a>ç¬¬äºŒç«  JavaScriptåŸºç¡€è¯­æ³•</h4><h5 id="2-1ã€æ ‡è¯†ç¬¦"><a href="#2-1ã€æ ‡è¯†ç¬¦" class="headerlink" title="2.1ã€æ ‡è¯†ç¬¦"></a>2.1ã€æ ‡è¯†ç¬¦</h5><p>æ‰€è°“æ ‡è¯†ç¬¦ï¼Œå°±æ˜¯æŒ‡ç»™å˜é‡ã€å‡½æ•°ã€å±æ€§æˆ–å‡½æ•°çš„å‚æ•°èµ·åå­—ã€‚</p><p>æ ‡è¯†ç¬¦å¯ä»¥æ˜¯æŒ‰ç…§ä¸‹åˆ—æ ¼å¼è§„åˆ™ç»„åˆèµ·æ¥çš„ä¸€æˆ–å¤šä¸ªå­—ç¬¦ï¼š</p><p>ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯ä¸€ä¸ªå­—æ¯ã€ä¸‹åˆ’çº¿ï¼ˆ _ ï¼‰æˆ–ä¸€ä¸ªç¾å…ƒç¬¦å·ï¼ˆ $ ï¼‰ã€‚<br>å…¶å®ƒå­—ç¬¦å¯ä»¥æ˜¯å­—æ¯ã€ä¸‹åˆ’çº¿ã€ç¾å…ƒç¬¦å·æˆ–æ•°å­—ã€‚<br>æŒ‰ç…§æƒ¯ä¾‹ï¼ŒECMAScript æ ‡è¯†ç¬¦é‡‡ç”¨é©¼å³°å‘½åæ³•ã€‚<br>æ ‡è¯†ç¬¦ä¸èƒ½æ˜¯å…³é”®å­—å’Œä¿ç•™å­—ç¬¦ã€‚</p><p><strong>å…³é”®å­—ï¼š</strong></p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/06bab955dce3d478eb0ee1880efdbf13.png" alt="image-20201012215759481"></p><p><strong>ä¿ç•™å­—ç¬¦ï¼š</strong></p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/321c5fb7e148d7fa99e59440083b0a4b.png" alt="image-20201012215835171"></p><p><strong>å…¶å®ƒä¸å»ºè®®ä½¿ç”¨çš„æ ‡è¯†ç¬¦ï¼š</strong></p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/612f0462d3cde3f2fa410ccd8b6da15b.png" alt="image-20201012215902568"></p><p><strong>å•ä¸ªå•è¯çš„æ ‡è¯†ç¬¦ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nameã€ageã€genderã€hobby</span><br></pre></td></tr></table></figure><p><strong>å¤šä¸ªå•è¯çš„æ ‡è¯†ç¬¦ä¸¾ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">studentNameã€studentAgeã€studentGenderã€studentHobby</span><br></pre></td></tr></table></figure><h5 id="2-2ã€å­—é¢é‡å’Œå˜é‡"><a href="#2-2ã€å­—é¢é‡å’Œå˜é‡" class="headerlink" title="2.2ã€å­—é¢é‡å’Œå˜é‡"></a>2.2ã€å­—é¢é‡å’Œå˜é‡</h5><h6 id="2-2-1ã€å­—é¢é‡"><a href="#2-2-1ã€å­—é¢é‡" class="headerlink" title="2.2.1ã€å­—é¢é‡"></a>2.2.1ã€å­—é¢é‡</h6><p>å­—é¢é‡å®é™…ä¸Šå°±æ˜¯ä¸€äº›å›ºå®šçš„å€¼ï¼Œæ¯”å¦‚ï¼š1ã€2 ã€3ã€trueã€falseã€nullã€NaNã€â€œhelloâ€ï¼Œå­—é¢é‡éƒ½æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼Œç”±äºå­—é¢é‡ä¸æ˜¯å¾ˆæ–¹ä¾¿ä½¿ç”¨ï¼Œæ‰€ä»¥åœ¨JavaScriptä¸­å¾ˆå°‘ç›´æ¥ä½¿ç”¨å­—é¢é‡ï¼Œä½¿ç”¨çš„è€Œæ˜¯å˜é‡ã€‚</p><h6 id="2-2-2ã€å˜é‡"><a href="#2-2-2ã€å˜é‡" class="headerlink" title="2.2.2ã€å˜é‡"></a>2.2.2ã€å˜é‡</h6><p>å˜é‡çš„ä½œç”¨æ˜¯ç»™æŸä¸€ä¸ªå€¼æˆ–å¯¹è±¡æ ‡æ³¨åç§°ã€‚æ¯”å¦‚æˆ‘ä»¬çš„ç¨‹åºä¸­æœ‰ä¸€ä¸ªå€¼123ï¼Œè¿™ä¸ªå€¼æˆ‘ä»¬æ˜¯éœ€è¦åå¤ä½¿ç”¨çš„ï¼Œè¿™ä¸ªæ—¶å€™ æˆ‘ä»¬æœ€å¥½å°†123è¿™ä¸ªå€¼èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åé€šè¿‡å˜é‡å»ä½¿ç”¨123è¿™ä¸ªå€¼ã€‚</p><p>å˜é‡çš„å£°æ˜ï¼š ä½¿ç”¨varå…³é”®å­—å£°æ˜ä¸€ä¸ªå˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br></pre></td></tr></table></figure><p><strong>å˜é‡çš„èµ‹å€¼ï¼š</strong> ä½¿ç”¨&#x3D;ä¸ºå˜é‡èµ‹å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = 123;</span><br></pre></td></tr></table></figure><h5 id="2-3ã€æ•°æ®ç±»å‹"><a href="#2-3ã€æ•°æ®ç±»å‹" class="headerlink" title="2.3ã€æ•°æ®ç±»å‹"></a>2.3ã€æ•°æ®ç±»å‹</h5><h6 id="2-3-1ã€ç±»å‹åˆ†ç±»"><a href="#2-3-1ã€ç±»å‹åˆ†ç±»" class="headerlink" title="2.3.1ã€ç±»å‹åˆ†ç±»"></a>2.3.1ã€ç±»å‹åˆ†ç±»</h6><p>æ•°æ®ç±»å‹å†³å®šäº†ä¸€ä¸ªæ•°æ®çš„ç‰¹å¾ï¼Œæ¯”å¦‚ï¼š123å’Œâ€123â€ï¼Œç›´è§‚ä¸Šçœ‹è¿™ä¸¤ä¸ªæ•°æ®éƒ½æ˜¯123ï¼Œä½†å®é™…ä¸Šå‰è€…æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè€Œåè€…æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>å¯¹äºä¸åŒçš„æ•°æ®ç±»å‹æˆ‘ä»¬åœ¨è¿›è¡Œæ“ä½œæ—¶ä¼šæœ‰å¾ˆå¤§çš„ä¸åŒã€‚</p><p>JavaScriptä¸­ä¸€å…±æœ‰5ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><p>å­—ç¬¦ä¸²å‹ï¼ˆStringï¼‰<br>æ•°å€¼å‹ï¼ˆNumberï¼‰<br>å¸ƒå°”å‹ï¼ˆBooleanï¼‰<br>undefinedå‹ï¼ˆUndefinedï¼‰<br>nullå‹ï¼ˆNullï¼‰</p><p><font color="red"> è¿™5ç§ä¹‹å¤–çš„ç±»å‹éƒ½ç§°ä¸ºObjectï¼Œæ‰€ä»¥æ€»çš„æ¥çœ‹JavaScriptä¸­å…±æœ‰å…­ç§æ•°æ®ç±»å‹ã€‚</font></p><h6 id="2-3-2ã€typeofè¿ç®—ç¬¦"><a href="#2-3-2ã€typeofè¿ç®—ç¬¦" class="headerlink" title="2.3.2ã€typeofè¿ç®—ç¬¦"></a>2.3.2ã€typeofè¿ç®—ç¬¦</h6><p>ä½¿ç”¨typeofæ“ä½œç¬¦å¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå˜é‡çš„æ•°æ®ç±»å‹ã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> æ•°æ®</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="number">123</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="string">&quot;Hello,World!&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">true</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">undefined</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h6 id="2-3-3ã€String"><a href="#2-3-3ã€String" class="headerlink" title="2.3.3ã€String"></a>2.3.3ã€String</h6><p>Stringç”¨äºè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦åºåˆ—ï¼Œå³å­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²éœ€è¦ä½¿ç”¨ <strong>å•å¼•å·</strong> æˆ– <strong>åŒå¼•å·</strong> æ‹¬èµ·æ¥ã€‚</p><p><strong>è½¬ä¹‰å­—ç¬¦ï¼š</strong></p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/8cd27bded82d24387ae42b8444f0d25e.png" alt="image-20201013085608008"></p><h6 id="2-3-4ã€Number"><a href="#2-3-4ã€Number" class="headerlink" title="2.3.4ã€Number"></a>2.3.4ã€Number</h6><p>Number ç±»å‹ç”¨æ¥è¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œæœ€å¸¸ç”¨çš„åŠŸèƒ½å°±æ˜¯ç”¨æ¥è¡¨ç¤º10è¿›åˆ¶çš„æ•´æ•°å’Œæµ®ç‚¹æ•°ã€‚</p><p>Numberè¡¨ç¤ºçš„æ•°å­—å¤§å°æ˜¯æœ‰é™çš„ï¼Œå¦‚æœè¶…è¿‡äº†è¿™ä¸ªèŒƒå›´ï¼Œåˆ™ä¼šè¿”å› Â±Infinityã€‚</p><p>æœ€å¤§å€¼ï¼š+1.7976931348623157e+308<br>æœ€å°å€¼ï¼š-1.7976931348623157e+308<br>0ä»¥ä¸Šçš„æœ€å°å€¼ï¼š5e-324</p><p><strong>ç‰¹æ®Šçš„æ•°å­—ï¼š</strong></p><ul><li>Infinityï¼šæ­£æ— ç©·</li><li>-Infinityï¼šè´Ÿæ— ç©·</li><li>NaNï¼šéæ³•æ•°å­—ï¼ˆNot A Numberï¼‰</li></ul><p><strong>å…¶å®ƒçš„è¿›åˆ¶ï¼š</strong></p><ul><li>äºŒè¿›åˆ¶ï¼š0b å¼€å¤´è¡¨ç¤ºäºŒè¿›åˆ¶ï¼Œä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ</li><li>å…«è¿›åˆ¶ï¼š0 å¼€å¤´è¡¨ç¤ºå…«è¿›åˆ¶</li><li>åå…­è¿›åˆ¶ï¼š0x å¼€å¤´è¡¨ç¤ºåå…­è¿›åˆ¶</li><li></li></ul><h6 id="2-3-5ã€Boolean"><a href="#2-3-5ã€Boolean" class="headerlink" title="2.3.5ã€Boolean"></a>2.3.5ã€Boolean</h6><p>å¸ƒå°”å‹ä¹Ÿè¢«ç§°ä¸ºé€»è¾‘å€¼ç±»å‹æˆ–è€…çœŸå‡å€¼ç±»å‹ã€‚</p><p>å¸ƒå°”å‹åªèƒ½å¤Ÿå–çœŸï¼ˆtrueï¼‰å’Œå‡ï¼ˆfalseï¼‰ä¸¤ç§æ•°å€¼ã€‚é™¤æ­¤ä»¥å¤–ï¼Œ å…¶å®ƒçš„å€¼éƒ½ä¸è¢«æ”¯æŒã€‚</p><h6 id="2-3-6ã€Undefined"><a href="#2-3-6ã€Undefined" class="headerlink" title="2.3.6ã€Undefined"></a>2.3.6ã€Undefined</h6><p>Undefined ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ç‰¹æ®Šçš„ undefinedã€‚</p><p>åœ¨ä½¿ç”¨ var å£°æ˜å˜é‡ä½†æœªå¯¹å…¶åŠ ä»¥åˆå§‹åŒ–æ—¶ï¼Œè¿™ä¸ªå˜é‡çš„å€¼å°±æ˜¯ undefinedã€‚</p><h6 id="2-3-7ã€Null"><a href="#2-3-7ã€Null" class="headerlink" title="2.3.7ã€Null"></a>2.3.7ã€Null</h6><p>Null ç±»å‹æ˜¯ç¬¬äºŒä¸ªåªæœ‰ä¸€ä¸ªå€¼çš„æ•°æ®ç±»å‹ï¼Œè¿™ä¸ªç‰¹æ®Šçš„å€¼æ˜¯ nullã€‚</p><p>undefinedå€¼å®é™…ä¸Šæ˜¯ç”±nullå€¼è¡ç”Ÿå‡ºæ¥çš„ï¼Œæ‰€ä»¥å¦‚æœæ¯”è¾ƒundefinedå’Œnullæ˜¯å¦ç›¸ç­‰ï¼Œä¼šè¿”å›trueã€‚</p><h5 id="2-4ã€å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#2-4ã€å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="2.4ã€å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>2.4ã€å¼ºåˆ¶ç±»å‹è½¬æ¢</h5><p>å¼ºåˆ¶ç±»å‹è½¬æ¢æŒ‡å°†ä¸€ä¸ªæ•°æ®ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸ºå…¶å®ƒçš„æ•°æ®ç±»å‹ã€‚ä¸€èˆ¬æ˜¯æŒ‡ï¼Œå°†å…¶å®ƒçš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºStringã€Numberã€Booleanã€‚</p><h6 id="2-4-1ã€è½¬æ¢ä¸ºStringç±»å‹"><a href="#2-4-1ã€è½¬æ¢ä¸ºStringç±»å‹" class="headerlink" title="2.4.1ã€è½¬æ¢ä¸ºStringç±»å‹"></a>2.4.1ã€è½¬æ¢ä¸ºStringç±»å‹</h6><p>å°†å…¶å®ƒæ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æœ‰ä¸‰ç§æ–¹å¼ï¼štoString()ã€String()ã€ æ‹¼ä¸²ã€‚</p><p>æ–¹å¼ä¸€ï¼šè°ƒç”¨è¢«è½¬æ¢æ•°æ®ç±»å‹çš„toString()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸ä¼šå½±å“åˆ°åŸå˜é‡ï¼Œå®ƒä¼šå°†è½¬æ¢çš„ç»“æœè¿”å›ï¼Œä½†æ˜¯æ³¨æ„ï¼šnullå’Œundefinedè¿™ä¸¤ä¸ªå€¼æ²¡æœ‰toString()æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨å®ƒä»¬çš„æ–¹æ³•ï¼Œä¼šæŠ¥é”™ã€‚</p><p>æ–¹å¼äºŒï¼šè°ƒç”¨String()å‡½æ•°ï¼Œå¹¶å°†è¢«è½¬æ¢çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œä½¿ç”¨String()å‡½æ•°åšå¼ºåˆ¶ç±»å‹è½¬æ¢æ—¶ï¼Œå¯¹äºNumberå’ŒBooleanå®é™…ä¸Šå°±æ˜¯è°ƒç”¨çš„toString()æ–¹æ³•ï¼Œä½†æ˜¯å¯¹äºnullå’Œundefinedï¼Œå°±ä¸ä¼šè°ƒç”¨toString()æ–¹æ³•ï¼Œå®ƒä¼šå°† null ç›´æ¥è½¬æ¢ä¸º â€œnullâ€ï¼Œå°† undefined ç›´æ¥è½¬æ¢ä¸º â€œundefinedâ€ã€‚</p><p>æ–¹å¼ä¸‰ï¼šä¸ºä»»æ„çš„æ•°æ®ç±»å‹ <code>+&quot;&quot;</code></p><p>ä»£ç ç¤ºä¾‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a = <span class="number">123</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a2 = <span class="number">456</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a3 = <span class="number">678</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a)</span></span><br><span class="line"><span class="language-javascript">        a = <span class="title class_">String</span>(a);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;String()æ–¹æ³•&quot;</span>+<span class="keyword">typeof</span> a)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a2 = a2.<span class="title function_">toString</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;toString()æ–¹æ³•&quot;</span>+<span class="keyword">typeof</span> a2)</span></span><br><span class="line"><span class="language-javascript">        a2 = a2 + <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­—ç¬¦æ‹¼æ¥&quot;</span>+<span class="keyword">typeof</span> a)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20220724150125776-8646087.png" alt="image-20220724150125776"></p><h6 id="2-4-2ã€è½¬æ¢ä¸ºNumberç±»å‹"><a href="#2-4-2ã€è½¬æ¢ä¸ºNumberç±»å‹" class="headerlink" title="2.4.2ã€è½¬æ¢ä¸ºNumberç±»å‹"></a>2.4.2ã€è½¬æ¢ä¸ºNumberç±»å‹</h6><p>æœ‰ä¸‰ä¸ªå‡½æ•°å¯ä»¥æŠŠéæ•°å€¼è½¬æ¢ä¸ºæ•°å€¼ï¼šNumber()ã€parseInt() å’ŒparseFloat()ã€‚Number()å¯ä»¥ç”¨æ¥è½¬æ¢ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œè€Œåä¸¤è€…åªèƒ½ç”¨äºè½¬æ¢å­—ç¬¦ä¸²ã€‚parseInt()åªä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œè€ŒparseFloat()å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚</p><p>æ–¹å¼ä¸€ï¼šä½¿ç”¨Number()å‡½æ•°</p><p>å­—ç¬¦ä¸² â€“&gt; æ•°å­—<br>å¦‚æœæ˜¯çº¯æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œåˆ™ç›´æ¥å°†å…¶è½¬æ¢ä¸ºæ•°å­—<br>å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰éæ•°å­—çš„å†…å®¹ï¼Œåˆ™è½¬æ¢ä¸ºNaN<br>å¦‚æœå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç©ºä¸²æˆ–è€…æ˜¯ä¸€ä¸ªå…¨æ˜¯ç©ºæ ¼çš„å­—ç¬¦ä¸²ï¼Œåˆ™è½¬æ¢ä¸º0<br>å¸ƒå°” â€“&gt; æ•°å­—<br>true è½¬æˆ 1<br>false è½¬æˆ 0<br>null â€“&gt; æ•°å­—<br>null è½¬æˆ 0<br>undefined â€“&gt; æ•°å­—<br>undefined è½¬æˆ NaN<br>æ–¹å¼äºŒï¼šè¿™ç§æ–¹å¼ä¸“é—¨ç”¨æ¥å¯¹ä»˜å­—ç¬¦ä¸²ï¼ŒparseInt() æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°</p><h6 id="2-4-3è½¬æ¢ä¸ºBooleanç±»å‹"><a href="#2-4-3è½¬æ¢ä¸ºBooleanç±»å‹" class="headerlink" title="2.4.3è½¬æ¢ä¸ºBooleanç±»å‹"></a>2.4.3è½¬æ¢ä¸ºBooleanç±»å‹</h6><p>æ•°å­—-&gt;å¸ƒå°”</p><p>é™¤äº†0å’ŒNaNï¼Œå…¶ä½™çš„éƒ½æ˜¯true</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">var</span> a1 = <span class="number">100</span></span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title class_">Boolean</span>(a))</span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title class_">Boolean</span>(a1))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124102900805-9256942.png" alt="image-20221124102900805"></p><p>å­—ç¬¦ä¸²-&gt;å¸ƒå°”</p><p>åªæœ‰ç©ºå­—ç¬¦ä¸²éƒ½æ˜¯trueï¼Œ<font color="red">åŒ…æ‹¬å­—ç¬¦ä¸²false</font></p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> a1 = <span class="string">&quot;false&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> a2 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title class_">Boolean</span>(a));</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title class_">Boolean</span>(a1));</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title class_">Boolean</span>(a2));</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124103434725.png" alt="image-20221124103434725"></p><p><strong>å…¶ä»–</strong></p><p>nullå’Œundefinedéƒ½ä¼šè½¬æ¢ä¸ºfalse</p><p>å¯¹è±¡ä¼šè½¬æ¢ä¸ºtrue</p><h5 id="2-5ä»£ç å—"><a href="#2-5ä»£ç å—" class="headerlink" title="2.5ä»£ç å—"></a>2.5ä»£ç å—</h5><h6 id="2-5-1è¯­å¥"><a href="#2-5-1è¯­å¥" class="headerlink" title="2.5.1è¯­å¥"></a>2.5.1è¯­å¥</h6><p>ä»£ç å—æ˜¯åœ¨å¤§æ‹¬å· {} ä¸­æ‰€å†™çš„è¯­å¥ï¼Œä»¥æ­¤å°†å¤šæ¡è¯­å¥çš„é›†åˆè§†ä¸ºä¸€æ¡è¯­å¥æ¥ä½¿ç”¨ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">        a++;</span><br><span class="line">        <span class="title function_">alert</span>(a);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="2-6æ¡ä»¶è¯­å¥"><a href="#2-6æ¡ä»¶è¯­å¥" class="headerlink" title="2.6æ¡ä»¶è¯­å¥"></a>2.6æ¡ä»¶è¯­å¥</h5><h6 id="2-6-1-ifâ€¦else"><a href="#2-6-1-ifâ€¦else" class="headerlink" title="2.6.1 ifâ€¦else"></a>2.6.1 ifâ€¦else</h6><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line">        <span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å°äº18å²äº†&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (age == <span class="number">18</span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å·²ç»18å²äº†&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å¤§äº18å²äº†&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><h5 id="2-6-2ã€switchâ€¦case"><a href="#2-6-2ã€switchâ€¦case" class="headerlink" title="2.6.2ã€switchâ€¦case"></a>2.6.2ã€switchâ€¦case</h5><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸€æ—¦ç¬¦åˆcaseçš„æ¡ä»¶ç¨‹åºä¼šä¸€ç›´è¿è¡Œåˆ°ç»“æŸï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨caseä¸­æ·»åŠ breakä½œä¸ºè¯­å¥çš„ç»“æŸã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line">        <span class="keyword">switch</span> (age) &#123;</span><br><span class="line">            <span class="keyword">case</span> age &lt; <span class="number">18</span>:</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å°äº18å²äº†&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> age = <span class="number">18</span>:</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å°äº18å²äº†&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> age &gt; <span class="number">18</span>:</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å°äº18å²äº†&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="attr">default</span>:</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124105148042.png" alt="image-20221124105148042"></p><h5 id="2-7å¾ªç¯"><a href="#2-7å¾ªç¯" class="headerlink" title="2.7å¾ªç¯"></a>2.7å¾ªç¯</h5><h6 id="2-7-1ã€while"><a href="#2-7-1ã€while" class="headerlink" title="2.7.1ã€while"></a>2.7.1ã€while</h6><p>è¯­æ³•ï¼š</p><p>while ï¼ˆå¾ªç¯æ¡ä»¶ï¼‰{</p><p>æ“ä½œ</p><p>}</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(i);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124105720027-9258641.png" alt="image-20221124105720027"></p><h6 id="2-7-2-doâ€¦while"><a href="#2-7-2-doâ€¦while" class="headerlink" title="2.7.2 doâ€¦while"></a>2.7.2 doâ€¦while</h6><p>doâ€¦whileå’Œwhileéå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒä¼šåœ¨å¾ªç¯çš„å°¾éƒ¨è€Œä¸æ˜¯é¡¶éƒ¨æ£€æŸ¥è¡¨è¾¾å¼çš„å€¼ï¼Œå› æ­¤ï¼Œdoâ€¦whileå¾ªç¯ä¼šè‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚ç›¸æ¯”äºwhileï¼Œdoâ€¦whileçš„ä½¿ç”¨æƒ…å†µå¹¶ä¸ æ˜¯å¾ˆå¤šã€‚</p><p>è¯­æ³•ï¼š</p><p>do{<br>    è¯­å¥â€¦<br>}while(æ¡ä»¶è¡¨è¾¾å¼);</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(i);</span><br><span class="line">        &#125; <span class="keyword">while</span> (i == <span class="number">2</span>); </span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p>i &#x3D; 2 æ˜¯ä¸æˆç«‹çš„  ä½†æ˜¯ä¾æ—§åªè¡Œäº†ä¸€æ¬¡</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124110141159.png" alt="image-20221124110141159"></p><h6 id="2-7-3ã€for"><a href="#2-7-3ã€for" class="headerlink" title="2.7.3ã€for"></a>2.7.3ã€for</h6><p>è¯­æ³•ï¼š</p><p>for(åˆå§‹åŒ–è¡¨è¾¾å¼ ; æ¡ä»¶è¡¨è¾¾å¼ ; æ›´æ–°è¡¨è¾¾å¼){<br>    è¯­å¥â€¦<br>}</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (i; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124110625152.png" alt="image-20221124110625152"></p><h5 id="2-7-4ã€è·³è½¬æ§åˆ¶"><a href="#2-7-4ã€è·³è½¬æ§åˆ¶" class="headerlink" title="2.7.4ã€è·³è½¬æ§åˆ¶"></a>2.7.4ã€è·³è½¬æ§åˆ¶</h5><ul><li>breakï¼šç»“æŸæœ€è¿‘çš„ä¸€æ¬¡å¾ªç¯ï¼Œå¯ä»¥åœ¨å¾ªç¯å’Œswitchè¯­å¥ä¸­ä½¿ç”¨ã€‚</li><li>continueï¼šç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œæ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œåªèƒ½åœ¨å¾ªç¯ä¸­ä½¿ç”¨ã€‚</li></ul><h5 id="2-8-JSå¯¹è±¡"><a href="#2-8-JSå¯¹è±¡" class="headerlink" title="2.8 JSå¯¹è±¡"></a>2.8 JSå¯¹è±¡</h5><h6 id="2-8-1ç®€ä»‹"><a href="#2-8-1ç®€ä»‹" class="headerlink" title="2.8.1ç®€ä»‹"></a>2.8.1ç®€ä»‹</h6><p>Objectç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿç§°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯JavaScriptä¸­çš„å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p><h6 id="2-8-2å¯¹è±¡åˆ›å»º"><a href="#2-8-2å¯¹è±¡åˆ›å»º" class="headerlink" title="2.8.2å¯¹è±¡åˆ›å»º"></a>2.8.2å¯¹è±¡åˆ›å»º</h6><p>æ–¹å¼ä¸€ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> user = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">       user.<span class="property">name</span> = <span class="string">&quot;æç™½&quot;</span>;</span><br><span class="line">       user.<span class="property">age</span> = <span class="number">32</span>;</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">write</span>(user.<span class="property">name</span>);</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">write</span>(user.<span class="property">age</span>);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> user = &#123;</span><br><span class="line">        name : <span class="string">&quot;æç™½&quot;</span>,</span><br><span class="line">        age : <span class="number">32</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">write</span>(user.<span class="property">name</span>);</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">write</span>(user.<span class="property">age</span>);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="2-8-3è®¿é—®å±æ€§"><a href="#2-8-3è®¿é—®å±æ€§" class="headerlink" title="2.8.3è®¿é—®å±æ€§"></a>2.8.3è®¿é—®å±æ€§</h6><p>æ–¹å¼ä¸€ï¼šå¯¹è±¡.å±æ€§</p><p>æ–¹å¼äºŒï¼šå¯¹è±¡[â€˜å±æ€§â€™]</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> user = &#123;</span><br><span class="line">        name : <span class="string">&quot;æç™½&quot;</span>,</span><br><span class="line">        age : <span class="number">32</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="property">name</span>);</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(user[<span class="string">&#x27;age&#x27;</span>]);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124114420802.png" alt="image-20221124114420802"></p><h6 id="2-8-4åˆ é™¤å¯¹è±¡å±æ€§"><a href="#2-8-4åˆ é™¤å¯¹è±¡å±æ€§" class="headerlink" title="2.8.4åˆ é™¤å¯¹è±¡å±æ€§"></a>2.8.4åˆ é™¤å¯¹è±¡å±æ€§</h6><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> user = &#123;</span><br><span class="line">        name : <span class="string">&quot;æç™½&quot;</span>,</span><br><span class="line">        age : <span class="number">32</span></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">delete</span> user.<span class="property">age</span>;</span><br><span class="line"></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(user);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p>è¾“å‡ºå¯¹è±¡åªå‰©nameå­—æ®µ</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124113938477.png" alt="image-20221124113938477"></p><h6 id="2-8-5-éå†å¯¹è±¡"><a href="#2-8-5-éå†å¯¹è±¡" class="headerlink" title="2.8.5 éå†å¯¹è±¡"></a>2.8.5 éå†å¯¹è±¡</h6><p>è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> å˜é‡ <span class="keyword">in</span> å¯¹è±¡) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> user = &#123;</span><br><span class="line">        name : <span class="string">&quot;æç™½&quot;</span>,</span><br><span class="line">        age : <span class="number">32</span></span><br><span class="line">       &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> user) &#123;</span><br><span class="line">        <span class="keyword">var</span> val = user[key];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(key+<span class="string">&quot;=&quot;</span>+val)</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124155024190.png" alt="image-20221124155024190"></p><h6 id="2-8-6-å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡"><a href="#2-8-6-å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡" class="headerlink" title="2.8.6 å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡"></a>2.8.6 å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡</h6><p>ä½¿ç”¨å‡½æ•°çš„æ–¹å¼åˆ›å»ºå¯¹è±¡</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">createUser</span> (name, age) &#123;</span><br><span class="line">            <span class="comment">//åˆ›å»ºä¸€ä¸ªobjectå¯¹è±¡</span></span><br><span class="line">            <span class="keyword">var</span> user = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">            <span class="comment">//è®¾ç½®å¯¹è±¡å±æ€§</span></span><br><span class="line">            user.<span class="property">name</span> = name;</span><br><span class="line">            user.<span class="property">age</span> = age ;</span><br><span class="line">            <span class="comment">//è¿”å›å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">return</span> user;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> user1 = <span class="title function_">createUser</span>(<span class="string">&quot;æç™½&quot;</span>,<span class="number">12</span>);</span><br><span class="line">        <span class="keyword">var</span> user2 = <span class="title function_">createUser</span>(<span class="string">&quot;èŠ±æœ¨å…°&quot;</span>,<span class="number">32</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(user1);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(user2);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="2-8-7-æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼ˆæ¨èï¼‰"><a href="#2-8-7-æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼ˆæ¨èï¼‰" class="headerlink" title="2.8.7 æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼ˆæ¨èï¼‰"></a>2.8.7 æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼ˆæ¨èï¼‰</h6><p>ä¸Šé¢æ–¹å¼æ–¹å¼å·²ç»å¯ä»¥å¤ç”¨åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯å‘ç°åˆ›å»ºçš„å¯¹è±¡å…¶å®å®é™…æ˜¯ä¸ºObjectçš„å¯¹è±¡ï¼Œæˆ‘ä»¬æƒ³è¦çš„å…¶å®æ˜¯Userï¼Œæ”¹è¿›ä¸€ä¸‹</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">User</span> (name, age) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">age</span> = age ;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> user1 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æç™½&quot;</span>,<span class="number">12</span>);</span><br><span class="line">      <span class="keyword">var</span> user2 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;èŠ±æœ¨å…°&quot;</span>,<span class="number">32</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(user1);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(user2);</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><h5 id="2-9å‡½æ•°"><a href="#2-9å‡½æ•°" class="headerlink" title="2.9å‡½æ•°"></a>2.9å‡½æ•°</h5><p>å‡½æ•°æ˜¯ç”±ä¸€è¿ä¸²çš„å­ç¨‹åºï¼ˆè¯­å¥çš„é›†åˆï¼‰æ‰€ç»„æˆçš„ï¼Œå¯ä»¥è¢«å¤–éƒ¨ç¨‹åºè°ƒç”¨ï¼Œå‘å‡½æ•°ä¼ é€’å‚æ•°ä¹‹åï¼Œå‡½æ•°å¯ä»¥è¿”å›ä¸€å®šçš„å€¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒJavaScriptä»£ç æ˜¯è‡ªä¸Šè€Œä¸‹æ‰§è¡Œçš„ï¼Œä¸è¿‡å‡½æ•°ä½“å†…éƒ¨çš„ä»£ç åˆ™ä¸æ˜¯è¿™æ ·ã€‚å¦‚æœåªæ˜¯å¯¹å‡½æ•°è¿›è¡Œäº†å£°æ˜ï¼Œå…¶ä¸­çš„ä»£ç å¹¶ä¸ä¼šæ‰§è¡Œï¼Œåªæœ‰åœ¨è°ƒç”¨å‡½æ•°æ—¶æ‰ä¼šæ‰§è¡Œå‡½æ•°ä½“å†…éƒ¨çš„ä»£ç ã€‚</p><h6 id="2-9-1å‡½æ•°åˆ›å»º"><a href="#2-9-1å‡½æ•°åˆ›å»º" class="headerlink" title="2.9.1å‡½æ•°åˆ›å»º"></a>2.9.1å‡½æ•°åˆ›å»º</h6><p><strong>è¯­æ³•ï¼š</strong></p><p><strong>æ–¹å¼ä¸€</strong> <strong>ä½¿ç”¨å‡½æ•°å¯¹è±¡åˆ›å»ºå‡½æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">js <span class="keyword">var</span> å‡½æ•°å = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&quot;æ‰§è¡Œè¯­å¥&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>æ–¹å¼äºŒ</strong> <strong>å‡½æ•°å£°æ˜</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> å‡½æ•°å ï¼ˆå‚æ•°ï¼‰&#123;</span><br><span class="line">  å‡½æ•°ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–¹å¼ä¸‰</strong> <strong>å‡½æ•°è¡¨è¾¾å¼</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> å‡½æ•°å = <span class="keyword">function</span> (<span class="params">å‚æ•°</span>) &#123;</span><br><span class="line">  æ–¹æ³•ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> fun1 = <span class="keyword">new</span> <span class="title class_">Function</span> (<span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å‡½æ•°å¯¹è±¡åˆ›å»ºå‡½æ•°&quot;</span>));</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fun2</span> (name) &#123;</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å‡½æ•°å£°æ˜åˆ›å»ºçš„å‡½æ•°:name=&quot;</span>+name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> fun3 = <span class="keyword">function</span> (<span class="params">name, age</span>) &#123;</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºå‡½æ•°:name=&quot;</span>+name)</span><br><span class="line">    &#125;</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="2-9-2å‡½æ•°è°ƒç”¨"><a href="#2-9-2å‡½æ•°è°ƒç”¨" class="headerlink" title="2.9.2å‡½æ•°è°ƒç”¨"></a>2.9.2å‡½æ•°è°ƒç”¨</h6><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‡½æ•°åï¼ˆå‚æ•°ï¼‰;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹</strong>ï¼š****</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">var</span> fun1 = <span class="keyword">new</span> <span class="title class_">Function</span> (<span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å‡½æ•°å¯¹è±¡åˆ›å»ºå‡½æ•°&quot;</span>));</span><br><span class="line">     <span class="keyword">function</span> <span class="title function_">fun2</span> (name) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å‡½æ•°å£°æ˜åˆ›å»ºçš„å‡½æ•°:name=&quot;</span>+name)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> fun3 = <span class="keyword">function</span> (<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºå‡½æ•°:name=&quot;</span>+name)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="title function_">fun1</span>();</span><br><span class="line">     <span class="title function_">fun2</span>(<span class="string">&quot;æç™½&quot;</span>);</span><br><span class="line">     <span class="title function_">fun3</span>(<span class="string">&quot;æœç”«&quot;</span>);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœ</strong>ï¼š****</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124170703109-9280824.png" alt="image-20221124170703109"></p><h6 id="2-9-3-å‡½æ•°å‚æ•°"><a href="#2-9-3-å‡½æ•°å‚æ•°" class="headerlink" title="2.9.3 å‡½æ•°å‚æ•°"></a>2.9.3 å‡½æ•°å‚æ•°</h6><p><font color="red">æ³¨ï¼š</font></p><p>jsåœ¨è°ƒç”¨å‡½æ•°æ—¶ä¸ä¼šæ£€æŸ¥å‚æ•°çš„æ•°é‡,å¤šä½™å®å‚ä¸ä¼šè¢«èµ‹å€¼ï¼Œå¦‚æœå®å‚çš„æ•°é‡å°‘äºå½¢å‚çš„æ•°é‡ï¼Œåˆ™æ²¡æœ‰å¯¹åº”å®å‚çš„å½¢å‚å°†æ˜¯undefined</p><h6 id="2-9-4-å‡½æ•°è¿”å›å€¼"><a href="#2-9-4-å‡½æ•°è¿”å›å€¼" class="headerlink" title="2.9.4 å‡½æ•°è¿”å›å€¼"></a>2.9.4 å‡½æ•°è¿”å›å€¼</h6><p>å¯ä»¥ä½¿ç”¨ return æ¥è®¾ç½®å‡½æ•°çš„è¿”å›å€¼ï¼Œreturnåçš„å€¼å°†ä¼šä½œä¸ºå‡½æ•°çš„æ‰§è¡Œç»“æœè¿”å›ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œæ¥æ¥æ”¶è¯¥ç»“æœã€‚</p><blockquote><p>æ³¨æ„ï¼šåœ¨å‡½æ•°ä¸­returnåçš„è¯­å¥éƒ½ä¸ä¼šæ‰§è¡Œï¼Œå¦‚æœreturnè¯­å¥åä¸è·Ÿä»»ä½•å€¼å°±ç›¸å½“äºè¿”å›ä¸€ä¸ªundefinedï¼Œå¦‚æœå‡½æ•°ä¸­ä¸å†™returnï¼Œåˆ™ä¹Ÿä¼šè¿”å›undefinedï¼Œreturnåå¯ä»¥è·Ÿä»»æ„ç±»å‹çš„å€¼</p></blockquote><p><strong>ç¤ºä¾‹ï¼š</strong>****</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">function</span> <span class="title function_">fun</span> (a,b) &#123;</span><br><span class="line">           <span class="keyword">return</span> a+b;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> c = <span class="title function_">fun</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">       <span class="title function_">alert</span>(c);</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221124173156771.png" alt="image-20221124173156771"></p><h6 id="2-9-5-å‡½æ•°åµŒå¥—"><a href="#2-9-5-å‡½æ•°åµŒå¥—" class="headerlink" title="2.9.5 å‡½æ•°åµŒå¥—"></a>2.9.5 å‡½æ•°åµŒå¥—</h6><p>åµŒå¥—çš„å‡½æ•°åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fu</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">zi</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆ‘æ˜¯å„¿å­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">zi</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fu</span>();</span><br></pre></td></tr></table></figure><h6 id="2-9-6-åŒ¿åå‡½æ•°"><a href="#2-9-6-åŒ¿åå‡½æ•°" class="headerlink" title="2.9.6 åŒ¿åå‡½æ•°"></a>2.9.6 åŒ¿åå‡½æ•°</h6><p>åŒ¿åå‡½æ•°ï¼šæ²¡æœ‰åå­—çš„å‡½æ•°å°±æ˜¯åŒ¿åå‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä¸€ä¸ªå˜é‡æ¥æ¥æ”¶ï¼Œä¹Ÿå°±æ˜¯ç”¨ â€œå‡½æ•°è¡¨è¾¾å¼â€ æ–¹å¼åˆ›å»ºå’Œæ¥æ”¶</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="2-9-7-ç«‹å³æ‰§è¡Œå‡½æ•°"><a href="#2-9-7-ç«‹å³æ‰§è¡Œå‡½æ•°" class="headerlink" title="2.9.7 ç«‹å³æ‰§è¡Œå‡½æ•°"></a>2.9.7 ç«‹å³æ‰§è¡Œå‡½æ•°</h6><p>è¿›å…¥é¡µé¢ç«‹å³æ‰§è¡Œä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">           <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;ç«‹å³æ‰§è¡Œå‡½æ•°&quot;</span>)</span><br><span class="line"></span><br><span class="line">       &#125;) ()</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="2-9-8-å¯¹è±¡ä¸­çš„å‡½æ•°"><a href="#2-9-8-å¯¹è±¡ä¸­çš„å‡½æ•°" class="headerlink" title="2.9.8 å¯¹è±¡ä¸­çš„å‡½æ•°"></a>2.9.8 å¯¹è±¡ä¸­çš„å‡½æ•°</h6><p>å¯¹è±¡ä¸­çš„å±æ€§å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ªå‡½æ•°</p><p>å¦‚æœä¸€ä¸ªå‡½æ•°ä½œä¸ºå¯¹è±¡çš„å±æ€§ä¿å­˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸ªå‡½æ•°æ˜¯è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•</p><p>ç¤ºä¾‹ï¼š****</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> user = &#123;</span><br><span class="line">        name : <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">        age : <span class="number">12</span>,</span><br><span class="line">        thisDate : <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">writeln</span>(<span class="string">&quot;æ—¶é—´ï¼š&quot;</span>+date )</span><br><span class="line">        &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="property">log</span> (user.<span class="property">name</span>);</span><br><span class="line">       user.<span class="title function_">thisDate</span>();      </span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="2-9-10-thiså¯¹è±¡"><a href="#2-9-10-thiså¯¹è±¡" class="headerlink" title="2.9.10 thiså¯¹è±¡"></a>2.9.10 thiså¯¹è±¡</h6><p><font color="blue">å‡½æ•°å¼è°ƒç”¨ï¼Œthisä¸ºå½“å‰windowå¯¹è±¡</font></p><p><font color="blue">æ–¹æ³•è°ƒç”¨æ—¶ï¼Œå°±æ˜¯å½“å‰æ–¹æ³•</font></p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="keyword">var</span> name = <span class="string">&quot;å…¨å±€åç§°name&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> user = &#123;</span><br><span class="line">       name : <span class="string">&quot;userå¯¹è±¡åç§°&quot;</span>,</span><br><span class="line">       subNmae : fun</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">fun</span> () &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">fun</span>();</span><br><span class="line">      user.<span class="title function_">subNmae</span>();</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><p><img src="/2022/11/22/JavaScript%E8%AF%A6%E8%A7%A3%E5%AD%A6%E4%B9%A0/image-20221230155119465.png" alt="image-20221230155119465"></p><h6 id="2-10-toStringæ–¹æ³•"><a href="#2-10-toStringæ–¹æ³•" class="headerlink" title="2.10 toStringæ–¹æ³•"></a>2.10 toStringæ–¹æ³•</h6><p>ç±»ä¼¼äºjavaçš„toStringæ–¹æ³•ï¼Œå°†å½“å‰å¯¹è±¡æˆ–è€…æ•°ç»„ç­‰æ•°æ®ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œè¯¥æ–¹æ³•æ˜¯Objectçš„æ–¹æ³•ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡éƒ½ç»§æ‰¿äº†Objectç±»ï¼Œæ‰€ä»¥å‡ ä¹æ‰€æœ‰çš„ç¤ºä¾‹å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°å­—</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">15.26540</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸ƒå°”</span></span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bool.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="string">&quot;CodePlayer&quot;</span>, <span class="literal">true</span>, <span class="number">12</span>, -<span class="number">5</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¥æœŸ</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">2013</span>, <span class="number">7</span>, <span class="number">18</span>, <span class="number">23</span>, <span class="number">11</span>, <span class="number">59</span>, <span class="number">230</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯</span></span><br><span class="line"><span class="keyword">var</span> error = <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Function</span>.<span class="title function_">toString</span>());</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸‰ç« -JavaScriptå¸¸ç”¨å¯¹è±¡"><a href="#ç¬¬ä¸‰ç« -JavaScriptå¸¸ç”¨å¯¹è±¡" class="headerlink" title="ç¬¬ä¸‰ç«  JavaScriptå¸¸ç”¨å¯¹è±¡"></a>ç¬¬ä¸‰ç«  JavaScriptå¸¸ç”¨å¯¹è±¡</h4><h5 id="3-1æ•°ç»„å¯¹è±¡"><a href="#3-1æ•°ç»„å¯¹è±¡" class="headerlink" title="3.1æ•°ç»„å¯¹è±¡"></a>3.1æ•°ç»„å¯¹è±¡</h5><p>â€‹                                                   </p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>23ç§è®¾è®¡æ¨¡å¼</title>
      <link href="/2022/11/18/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>/2022/11/18/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>è®¾è®¡æ¨¡å¼å­¦ä¹ </p><span id="more"></span><h3 id="23ç§è®¾è®¡æ¨¡å¼"><a href="#23ç§è®¾è®¡æ¨¡å¼" class="headerlink" title="23ç§è®¾è®¡æ¨¡å¼"></a>23ç§è®¾è®¡æ¨¡å¼</h3><h4 id="åˆ›å»ºå‹æ¨¡å¼"><a href="#åˆ›å»ºå‹æ¨¡å¼" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼"></a>åˆ›å»ºå‹æ¨¡å¼</h4><h5 id="1-ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple-Factory-Patternï¼‰"><a href="#1-ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple-Factory-Patternï¼‰" class="headerlink" title="1. ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factory Patternï¼‰"></a>1. ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factory Patternï¼‰</h5><p>ç®€å•å·¥å‚æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºå’Œæœ¬èº«çš„ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œé™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œä½¿å¾—ä¸¤ä¸ªä¿®æ”¹èµ·æ¥ç›¸å¯¹å®¹æ˜“äº›ï¼Œå½“ä»¥åå®ç°æ”¹å˜æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹å·¥å‚ç±»å³å¯ã€‚åœ¨ç®€å•å·¥å‚æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå‘å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„æ¥å£æ¥åˆ›å»ºå¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">demo2</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getGoods</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">Factory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Factory</span>();</span><br><span class="line">            <span class="type">Mose</span> <span class="variable">mose</span> <span class="operator">=</span> (Mose) factory.createEntity(EntityEnum.MOSE);</span><br><span class="line">            <span class="type">KeyBoard</span> <span class="variable">keyboard</span> <span class="operator">=</span> (KeyBoard) factory.createEntity(EntityEnum.KEYBOARD);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">EntityEnum</span> &#123;</span><br><span class="line">        MOSE,KEYBOARD</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Factory</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> Object <span class="title function_">createEntity</span> <span class="params">(EntityEnum entityEnum)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (EntityEnum.MOSE == entityEnum) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Mose</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EntityEnum.KEYBOARD == entityEnum) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">KeyBoard</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mose</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Mose</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§å‡ºä¸€ä¸ªé¼ æ ‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KeyBoard</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">KeyBoard</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§å‡ºä¸€ä¸ªé”®ç›˜&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a><strong>ä¼˜ç‚¹</strong></h6><p>ç®€å•å·¥å‚æ¨¡å¼ä½¿ç”¨å·¥å‚ç±»æ¥ç»Ÿä¸€åˆ›å»ºå¯¹è±¡ï¼Œå®ç°äº†ä½¿ç”¨å’Œåˆ›å»ºçš„åˆ†ç¦»ã€‚åªéœ€çŸ¥é“å…·ä½“äº§å“ç±»æ‰€å¯¹åº”çš„å‚æ•°å³å¯ï¼Œé€šè¿‡å¼•å…¥é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹ä»»ä½•å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹æ›´æ¢å’Œå¢åŠ æ–°çš„å…·ä½“äº§å“ç±»ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚</p><h6 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a><strong>ç¼ºç‚¹</strong></h6><p> ä½†ç¼ºç‚¹åœ¨äºä¸ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ï¼Œæ¯æ¬¡æ·»åŠ æ–°äº§å“å°±éœ€è¦ä¿®æ”¹å·¥å‚ç±»ã€‚åœ¨äº§å“ç±»å‹è¾ƒå¤šæ—¶ï¼Œæœ‰å¯èƒ½é€ æˆå·¥å‚é€»è¾‘è¿‡äºå¤æ‚ï¼Œä¸åˆ©äºç³»ç»Ÿçš„æ‰©å±•ç»´æŠ¤ï¼Œå¹¶ä¸”å·¥å‚ç±»é›†ä¸­äº†æ‰€æœ‰äº§å“åˆ›å»ºé€»è¾‘ï¼Œä¸€æ—¦ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½è¦å—åˆ°å½±å“ã€‚</p><h5 id="2-å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory-Method-Patternï¼‰"><a href="#2-å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory-Method-Patternï¼‰" class="headerlink" title="2. å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Method Patternï¼‰"></a>2. å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Method Patternï¼‰</h5><p>å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯å°†å·¥å‚ç±»çš„åˆ›å»ºè¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼Œæ¯ä¸ªå…·ä½“çš„äº§å“ç±»éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡ã€‚å®¢æˆ·ç«¯ä»£ç åªéœ€è¦è°ƒç”¨ç›¸åº”çš„å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">demo3</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mose</span> <span class="keyword">extends</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Mose</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§å‡ºä¸€ä¸ªé¼ æ ‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KeyBoard</span> <span class="keyword">extends</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">KeyBoard</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§å‡ºä¸€ä¸ªé”®ç›˜&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">FactoryProduct</span> &#123;</span><br><span class="line">        Product <span class="title function_">creatProduct</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MoseFactory</span> <span class="keyword">implements</span> <span class="title class_">FactoryProduct</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Mose <span class="title function_">creatProduct</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Mose</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KeyBoardFactory</span> <span class="keyword">implements</span> <span class="title class_">FactoryProduct</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> KeyBoard <span class="title function_">creatProduct</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">KeyBoard</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">mian</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MoseFactory</span> <span class="variable">moseFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MoseFactory</span>();</span><br><span class="line">        <span class="type">Mose</span> <span class="variable">mose</span> <span class="operator">=</span> moseFactory.creatProduct();</span><br><span class="line">        <span class="type">KeyBoardFactory</span> <span class="variable">keyBoardFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">KeyBoardFactory</span>();</span><br><span class="line">        <span class="type">KeyBoard</span> <span class="variable">keyBoard</span> <span class="operator">=</span> keyBoardFactory.creatProduct();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">demo3</span> <span class="variable">demo3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">demo3</span>();</span><br><span class="line">        demo3.mian();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a><strong>ä¼˜ç‚¹ï¼š</strong></h6><p>å·¥å‚æ–¹æ³•æ¨¡å¼å°†å·¥å‚æŠ½è±¡åŒ–ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ã€‚æ¯æ¬¡å¢åŠ æ–°çš„äº§å“åªéœ€è¦å¢åŠ è¯¥äº§å“è·Ÿè¯¥äº§å“çš„å·¥å‚ç±»ç”±å…·ä½“å·¥å‚ç±»å†³å®šè¦å®ä¾‹åŒ–çš„äº§å“æ˜¯å“ªä¸ªï¼Œå°†å¯¹è±¡çš„åˆ›å»ºä¸å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å­ç±»ï¼Œè¿™æ ·å·¥å‚çš„è®¾è®¡å°±ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€äº†ï¼Œæ‰©å±•æ—¶ä¸å¿…å»ä¿®æ”¹åŸæ¥çš„ä»£ç ã€‚</p><h6 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a><strong>ç¼ºç‚¹ï¼š</strong></h6><p>ä½†ç¼ºç‚¹åœ¨äºï¼Œæ¯å¢åŠ ä¸€ä¸ªäº§å“éƒ½éœ€è¦å¢åŠ ä¸€ä¸ªå…·ä½“äº§å“ç±»å’Œå®ç°å·¥å‚ç±»ï¼Œä½¿å¾—ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°æˆå€å¢åŠ ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼ŒåŒæ—¶ä¹Ÿå¢åŠ äº†ç³»ç»Ÿå…·ä½“ç±»çš„ä¾èµ–ã€‚</p><p>ç¼ºç‚¹ï¼š</p><h5 id="3-æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract-Factory-Patternï¼‰"><a href="#3-æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract-Factory-Patternï¼‰" class="headerlink" title="3. æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰"></a>3. æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰</h5><p>æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯åœ¨å·¥å‚æ–¹æ³•æ¨¡å¼çš„åŸºç¡€ä¸Šï¼Œå°†å·¥å‚ç±»çš„æŠ½è±¡åŒ–ç¨‹åº¦å†æé«˜ä¸€å±‚ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼ç”¨äºåˆ›å»ºä¸€ç»„ç›¸å…³çš„å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºä¸€ç³»åˆ—çš„äº§å“ã€‚å®¢æˆ·ç«¯ä»£ç ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„äº§å“ç±»ï¼Œåªéœ€è¦çŸ¥é“æŠ½è±¡å·¥å‚å’ŒæŠ½è±¡äº§å“ç±»å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">demo4</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äº§å“æŠ½è±¡ç±»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é¼ æ ‡æŠ½è±¡å®ç°ç±»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mose</span> <span class="keyword">extends</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Mose</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§å‡ºä¸€ä¸ªé¼ æ ‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é”®ç›˜æŠ½è±¡å®ç°ç±»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KeyBoard</span> <span class="keyword">extends</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">KeyBoard</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”Ÿäº§å‡ºä¸€ä¸ªé”®ç›˜&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç»´ä¿®æŠ½è±¡ç±»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Maintain</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MaintainMose</span> <span class="keyword">extends</span> <span class="title class_">Maintain</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MaintainMose</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç»´ä¿®ä¸€ä¸ªé¼ æ ‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MaintainKeyBoard</span> <span class="keyword">extends</span> <span class="title class_">Maintain</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MaintainKeyBoard</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç»´ä¿®ä¸€ä¸ªé”®ç›˜&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŠ½è±¡å·¥å‚ç±»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">abstract</span> Product <span class="title function_">createProduct</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">abstract</span> Maintain <span class="title function_">createMaintain</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MoseFactory</span> <span class="keyword">extends</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Mose <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Mose</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> MaintainMose <span class="title function_">createMaintain</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MaintainMose</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KeyBoardFactory</span> <span class="keyword">extends</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> KeyBoard <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">KeyBoard</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> MaintainKeyBoard <span class="title function_">createMaintain</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MaintainKeyBoard</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">mian</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MoseFactory</span> <span class="variable">moseFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MoseFactory</span>();</span><br><span class="line">        moseFactory.createProduct();</span><br><span class="line">        moseFactory.createMaintain();</span><br><span class="line">        <span class="type">KeyBoardFactory</span> <span class="variable">keyBoardFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">KeyBoardFactory</span>();</span><br><span class="line">        keyBoardFactory.createProduct();</span><br><span class="line">        keyBoardFactory.createMaintain();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">demo4</span> <span class="variable">demo3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">demo4</span>();</span><br><span class="line">        demo3.mian();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ç¼ºç‚¹ï¼š-1"><a href="#ç¼ºç‚¹ï¼š-1" class="headerlink" title="ç¼ºç‚¹ï¼š"></a><strong>ç¼ºç‚¹ï¼š</strong></h6><p> ä½†è¯¥æ¨¡å¼çš„ç¼ºç‚¹åœ¨äºæ·»åŠ æ–°çš„è¡Œä¸ºæ—¶æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœéœ€è¦æ·»åŠ ä¸€ä¸ªæ–°äº§å“æ—å¯¹è±¡æ—¶ï¼Œéœ€è¦æ›´æ”¹æ¥å£åŠå…¶ä¸‹æ‰€æœ‰å­ç±»ï¼Œè¿™å¿…ç„¶ä¼šå¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ã€‚</p><h5 id="4-å•ä¾‹æ¨¡å¼ï¼ˆSingleton-Patternï¼‰"><a href="#4-å•ä¾‹æ¨¡å¼ï¼ˆSingleton-Patternï¼‰" class="headerlink" title="4. å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰"></a>4. å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰</h5><p>å•ä¾‹æ¨¡å¼æ˜¯æœ€ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚åœ¨å•ä¾‹æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä»¥ç¡®ä¿å®ƒæ‰€æœ‰çš„å®ä¾‹éƒ½è®¿é—®ç›¸åŒçš„çŠ¶æ€ã€‚</p><h5 id="ç®€å•æ‡’æ±‰æ¨¡å¼"><a href="#ç®€å•æ‡’æ±‰æ¨¡å¼" class="headerlink" title="ç®€å•æ‡’æ±‰æ¨¡å¼"></a>ç®€å•æ‡’æ±‰æ¨¡å¼</h5><p>åœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å»åˆ›å»ºå¯¹è±¡ï¼Œä½¿ç”¨staticä¿è¯åªä¼šå®ä¾‹åŒ–ä¸€æ¬¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Demo5</span> <span class="variable">demo5</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Demo5</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Demo5 <span class="title function_">getDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == demo5) &#123;</span><br><span class="line">            demo5 = <span class="keyword">new</span> <span class="title class_">Demo5</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> demo5;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Demo5</span> <span class="variable">demo</span> <span class="operator">=</span> Demo5.getDemo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ç¼ºç‚¹ï¼š-2"><a href="#ç¼ºç‚¹ï¼š-2" class="headerlink" title="ç¼ºç‚¹ï¼š"></a><strong>ç¼ºç‚¹ï¼š</strong></h6><p>æ‡’æ±‰å¼å•ä¾‹çš„å®ç°æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œåœ¨å¹¶å‘ç¯å¢ƒä¸‹å¯èƒ½å‡ºç°å¤šä¸ª Singleton å®ä¾‹çš„é—®é¢˜ã€‚è¦å®ç°çº¿ç¨‹å®‰å…¨ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼</p><h6 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h6><p>åœ¨æ–¹æ³•è°ƒç”¨ä¸ŠåŠ äº†åŒæ­¥ï¼Œè™½ç„¶çº¿ç¨‹å®‰å…¨äº†ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è¦åŒæ­¥ï¼Œä¼šå½±å“æ€§èƒ½ï¼Œæ¯•ç«Ÿ99%çš„æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦åŒæ­¥çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> Demo5 <span class="title function_">getDemo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">null</span> == demo5) &#123;</span><br><span class="line">        demo5 = <span class="keyword">new</span> <span class="title class_">Demo5</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> demo5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h6><p>åŒé‡æ£€æŸ¥é”å®š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo6</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> <span class="type">Demo6</span> <span class="variable">demo5</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Demo6</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span> Demo6 <span class="title function_">getDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == demo5) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Demo6.class)&#123;</span><br><span class="line">                <span class="comment">//åˆ¤æ–­ä¸¤æ¬¡ç©ºæ˜¯é¿å…ä¸¤ä¸ªçº¿ç¨‹éƒ½é€šè¿‡äº†ç¬¬ä¸€ä¸ª&quot;null == demo5&quot;æ ¡éªŒï¼Œä»è€Œåˆ›å»ºå¤šæ¬¡å¯¹è±¡</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="literal">null</span> == demo5) &#123;</span><br><span class="line">                    demo5 = <span class="keyword">new</span> <span class="title class_">Demo6</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> demo5;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="æ–¹å¼ä¸‰ï¼šé™æ€å†…éƒ¨ç±»"><a href="#æ–¹å¼ä¸‰ï¼šé™æ€å†…éƒ¨ç±»" class="headerlink" title="æ–¹å¼ä¸‰ï¼šé™æ€å†…éƒ¨ç±»"></a>æ–¹å¼ä¸‰ï¼šé™æ€å†…éƒ¨ç±»</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Demo7 &#123;</span><br><span class="line"></span><br><span class="line">    //é™æ€å†…éƒ¨ç±»åªä¼šåŠ è½½ä¸€æ¬¡</span><br><span class="line">    public static class Demo7a &#123;</span><br><span class="line">        private static final Demo7 dmo = null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static Demo7 getDemo() &#123;</span><br><span class="line">        return Demo7a.dmo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç®€å•é¥¿æ±‰æ¨¡å¼"><a href="#ç®€å•é¥¿æ±‰æ¨¡å¼" class="headerlink" title="ç®€å•é¥¿æ±‰æ¨¡å¼"></a>ç®€å•é¥¿æ±‰æ¨¡å¼</h5><p>é¥¿æ±‰å¼åœ¨ç±»åˆ›å»ºçš„åŒæ—¶å°±å·²ç»åˆ›å»ºå¥½ä¸€ä¸ªé™æ€çš„å¯¹è±¡ä¾›ç³»ç»Ÿä½¿ç”¨ï¼Œä»¥åä¸å†æ”¹å˜ï¼Œæ‰€ä»¥å¤©ç”Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo8</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span> <span class="type">Demo8</span> <span class="variable">demo5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo8</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Demo8</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span> Demo8 <span class="title function_">getDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> demo5;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><p>å› ä¸ºå£°æ˜çš„å¯¹è±¡æ˜¯æå‰åˆ›å»ºå¥½ï¼Œä¸”ç”³æ˜æ˜¯é™æ€çš„ï¼Œä¼šåœ¨ç±»åˆå§‹åŒ–æ—¶å€™åˆ›å»ºï¼Œåœ¨ç±»å¸è½½æ—¶å€™æ‰é‡Šæ”¾ï¼Œç”Ÿå‘½å‘¨æœŸè¿‡é•¿</p><h4 id="5-åŸå‹æ¨¡å¼ï¼ˆPrototype-Patternï¼‰"><a href="#5-åŸå‹æ¨¡å¼ï¼ˆPrototype-Patternï¼‰" class="headerlink" title="5. åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰"></a>5. åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰</h4><p>åŸå‹æ¨¡å¼æ˜¯æŒ‡åˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ã€‚å®ƒé€šå¸¸éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œç„¶åé€šè¿‡å¤åˆ¶è¯¥å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><h5 id="å¼•ç”¨æ‹·è´"><a href="#å¼•ç”¨æ‹·è´" class="headerlink" title="å¼•ç”¨æ‹·è´"></a>å¼•ç”¨æ‹·è´</h5><p>å…¶å®å°±æ˜¯èµ‹å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="type">Date</span> <span class="variable">date2</span> <span class="operator">=</span> date;</span><br></pre></td></tr></table></figure><h5 id="æµ…æ‹·è´çš„å®ç°æ–¹å¼"><a href="#æµ…æ‹·è´çš„å®ç°æ–¹å¼" class="headerlink" title="æµ…æ‹·è´çš„å®ç°æ–¹å¼"></a>æµ…æ‹·è´çš„å®ç°æ–¹å¼</h5><p>æµ…æ‹·è´ä»…å¤åˆ¶å¯¹è±¡çš„<strong>ç¬¬ä¸€å±‚</strong>æ•°æ®ï¼Œå¯¹äºå¤šå±‚åµŒå¥—ç»“æ„çš„å¯¹è±¡ï¼Œæµ…æ‹·è´åçš„æ–°å¯¹è±¡ä¼šå’ŒåŸå¯¹è±¡<strong>å…±äº«å¼•ç”¨</strong>ã€‚è¿™æ„å‘³ç€å¦‚æœåµŒå¥—å±‚çº§ä¸­çš„å­å¯¹è±¡å‘ç”Ÿäº†æ”¹å˜ï¼Œæµ…æ‹·è´çš„å¯¹è±¡å’ŒåŸå¯¹è±¡éƒ½å°†å—å½±å“ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JeepCar</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String mode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createDate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Engine engine;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> JeepCar <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> copy mutable state here, so the clone can&#x27;t change the internals of the original</span></span><br><span class="line">            <span class="keyword">return</span> (JeepCar) <span class="built_in">super</span>.clone();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AssertionError</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Engine</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> speed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è¿™é‡Œåªä¼šå¤åˆ¶äº†ç¬¬ä¸€å±‚å¯¹è±¡è·Ÿä»–çš„å¼•ç”¨</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="type">Engine</span> <span class="variable">engine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Engine</span>(<span class="string">&quot;ä¸­å›½&quot;</span>, <span class="number">1500</span>);</span><br><span class="line">       <span class="type">JeepCar</span> <span class="variable">t300</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JeepCar</span>(<span class="string">&quot;T300&quot;</span>, LocalDateTime.now(), <span class="number">300000.999</span>, engine);</span><br><span class="line">       <span class="type">JeepCar</span> <span class="variable">clone1</span> <span class="operator">=</span> t300.clone();</span><br><span class="line">       clone1.setMode(<span class="string">&quot;T500&quot;</span>);</span><br><span class="line">       engine.setName(<span class="string">&quot;æ—¥æœ¬&quot;</span>);</span><br><span class="line">       System.out.println(t300);</span><br><span class="line">       System.out.println(clone1);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h5 id="æ·±æ‹·è´çš„å®ç°æ–¹å¼"><a href="#æ·±æ‹·è´çš„å®ç°æ–¹å¼" class="headerlink" title="æ·±æ‹·è´çš„å®ç°æ–¹å¼"></a>æ·±æ‹·è´çš„å®ç°æ–¹å¼</h5><h6 id="æ‰‹åŠ¨æ‹·è´ï¼ˆéå¸¸éº»çƒ¦ä¸æ¨èï¼‰"><a href="#æ‰‹åŠ¨æ‹·è´ï¼ˆéå¸¸éº»çƒ¦ä¸æ¨èï¼‰" class="headerlink" title="æ‰‹åŠ¨æ‹·è´ï¼ˆéå¸¸éº»çƒ¦ä¸æ¨èï¼‰"></a>æ‰‹åŠ¨æ‹·è´ï¼ˆéå¸¸éº»çƒ¦ä¸æ¨èï¼‰</h6><p>å…¶å®å°±æ˜¯æ‰‹åŠ¨å»å¤„ç†å¼•ç”¨çš„æ•°æ®ç±»å‹ï¼Œæ³¨æ„çš„æ˜¯å¯¹äºä¸å¯å˜çš„ä¹Ÿå°±æ˜¯finalä¿®é¥°çš„ç±»ï¼ˆæ¯”å¦‚Stringç­‰ï¼‰éœ€è¦æ‰‹åŠ¨å»å¤„ç†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JeepCar1</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String mode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createDate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Engine1 engine;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> JeepCar1 <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">JeepCar1</span> <span class="variable">clone</span> <span class="operator">=</span> (JeepCar1) <span class="built_in">super</span>.clone();</span><br><span class="line">            clone.engine = <span class="built_in">this</span>.engine.clone();</span><br><span class="line">            <span class="keyword">return</span> clone;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AssertionError</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Engine1</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> speed;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Engine1 <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Engine1</span> <span class="variable">clone</span> <span class="operator">=</span> (Engine1) <span class="built_in">super</span>.clone();</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> copy mutable state here, so the clone can&#x27;t change the internals of the original</span></span><br><span class="line">            <span class="keyword">return</span> clone;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AssertionError</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åºåˆ—åŒ–æ‹·è´"><a href="#åºåˆ—åŒ–æ‹·è´" class="headerlink" title="åºåˆ—åŒ–æ‹·è´"></a>åºåˆ—åŒ–æ‹·è´</h6><p>éœ€è¦æ¯ä¸ªåº”ç”¨å¯¹è±¡éƒ½åºåˆ—åŒ–ï¼Œç›¸å¯¹æ¥è¯´åœ¨å¤§æ•°æ®é‡çš„æ—¶å€™æ¯”è¾ƒç®€å•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JeepCar2</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String mode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createDate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Engine2 engine;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> JeepCar2 <span class="title function_">deepCopy</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">byteOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(byteOut);</span><br><span class="line">        out.writeObject(<span class="built_in">this</span>);</span><br><span class="line">        <span class="type">ByteArrayInputStream</span> <span class="variable">byteIn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(byteOut.toByteArray());</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(byteIn);</span><br><span class="line">        <span class="keyword">return</span> (JeepCar2) in.readObject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Engine2</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> speed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line">        <span class="type">Engine2</span> <span class="variable">engine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Engine2</span>(<span class="string">&quot;ä¸­å›½&quot;</span>, <span class="number">1500</span>);</span><br><span class="line">        <span class="type">JeepCar2</span> <span class="variable">t300</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JeepCar2</span>(<span class="string">&quot;T300&quot;</span>, LocalDateTime.now(), <span class="number">300000.999</span>, engine);</span><br><span class="line">        <span class="type">JeepCar2</span> <span class="variable">jeepCar2</span> <span class="operator">=</span> t300.deepCopy();</span><br><span class="line">        jeepCar2.setMode(<span class="string">&quot;T500&quot;</span>);</span><br><span class="line">        engine.setName(<span class="string">&quot;æ—¥æœ¬&quot;</span>);</span><br><span class="line">        System.out.println(t300);</span><br><span class="line">        System.out.println(jeepCar2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»“æ„å‹æ¨¡å¼"><a href="#ç»“æ„å‹æ¨¡å¼" class="headerlink" title="ç»“æ„å‹æ¨¡å¼"></a>ç»“æ„å‹æ¨¡å¼</h3><h4 id="6-é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰"><a href="#6-é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰" class="headerlink" title="6. é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰"></a>6. é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰</h4><p>é€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»çš„æ¥å£ä¸å¦ä¸€ä¸ªæ¥å£ä¸å…¼å®¹çš„ç±»è¿›è¡Œåˆä½œã€‚é€‚é…å™¨æ¨¡å¼ä¸»è¦åˆ†æˆä¸‰ç±»ï¼šç±»çš„é€‚é…å™¨æ¨¡å¼ã€å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼ã€æ¥å£çš„é€‚é…å™¨æ¨¡å¼ã€‚</p><p><strong>åœºæ™¯</strong></p><p>ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯ï¼Œæˆ‘ä»¬åŠå…¬å¤§å¤šä½¿ç”¨ç¬”è®°æœ¬ï¼Œè¿™ä¸ªæ—¶å€™å¾ˆå¤šåŒäº‹éƒ½å–œæ¬¢æ¥ä¸€ä¸ªæ˜¾ç¤ºå™¨ï¼Œçœ‹èµ·æ¥æ›´å¤§æ›´èˆ’æœä¸€äº›ã€‚</p><p>ç°åœ¨å¾ˆå¤šè½»è–„æœ¬ä¸ºäº†å‡è½»é‡é‡ï¼Œåªé…å¤‡äº†typecæ¥å£.æ˜¾ç¤ºå™¨å¸¸ç”¨çš„æ¥å£æ˜¯hemlè·Ÿdpï¼Œä¸é€‚é…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªæ‰©å±•åæ¥ä½¿æ˜¾ç¤ºå™¨çš„æ¥å£æ¥å…¥ç¬”è®°æœ¬ã€‚   </p><p>æ˜¾ç¤ºå™¨ï¼ˆ<strong>æºå¯¹è±¡</strong>ï¼‰ -&gt; æ‰©å±•åï¼ˆ<strong>é€‚é…å™¨å¯¹è±¡</strong>ï¼‰-&gt; macBook(<strong>ç›®æ ‡æ¥å£</strong>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DisplayHdml</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hdml</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DisplayHdmlImpl</span> <span class="keyword">implements</span> <span class="title class_">DisplayHdml</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hdml</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ˜¾ç¤ºå™¨hdmlæ¥å£&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MacBook</span> &#123;</span><br><span class="line">    String <span class="title function_">typec</span><span class="params">(String use)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MacBookImpl</span> <span class="keyword">implements</span> <span class="title class_">MacBook</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">typec</span><span class="params">(String use)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ¥å…¥mac typecæ¥å£ ç”¨äº&quot;</span> + use;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼ˆä¸æ¨èï¼‰"><a href="#ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼ˆä¸æ¨èï¼‰" class="headerlink" title="ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼ˆä¸æ¨èï¼‰"></a>ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼ˆä¸æ¨èï¼‰</h5><p>ä¸ç®¡ä»€ä¹ˆæ‰©å±•åï¼Œè¾“å…¥ç«¯éƒ½è¦å»æ¥åˆ°ç¬”è®°æœ¬ã€‚ä¹Ÿå°±æ˜¯å…¶å®è¦æ¥å…¥ç¬”è®°æœ¬å…¶å®æ˜¯è¦æ¥å…¥æ‰©å±•åã€‚é‚£ä¹ˆæ‰©å±•åç»§æ‰¿macBookç±»è·å¾—typecæ¥å£çš„è¾“å…¥çš„èƒ½åŠ›ï¼Œä¸ºäº†å¯ä»¥ä½¿ç”¨hdmlæˆ‘ä»¬å†å®ç°æ‰©å±•åæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç±»çš„é€‚é…å™¨æ¨¡å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DockingAdapterClass</span> <span class="keyword">extends</span> <span class="title class_">MacBookImpl</span> <span class="keyword">implements</span> <span class="title class_">DisplayHdml</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hdml</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.typec(<span class="string">&quot;æ˜¾ç¤ºå™¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">DisplayHdml</span> <span class="variable">displayHdml</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DockingAdapterClass</span>();</span><br><span class="line">    System.out.println(displayHdml.hdml());</span><br><span class="line"></span><br><span class="line">    <span class="type">DisplayHdml</span> <span class="variable">displayHdml2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DockingAdapterObject</span>();</span><br><span class="line">    System.out.println(displayHdml2.hdml());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ–¹æ³•çš„é€‚é…å™¨"><a href="#æ–¹æ³•çš„é€‚é…å™¨" class="headerlink" title="æ–¹æ³•çš„é€‚é…å™¨"></a>æ–¹æ³•çš„é€‚é…å™¨</h5><p>javaä½œä¸ºå•ç»§æ‰¿çš„è¯­è¨€ï¼Œç»§æ‰¿æ–¹é¢æ‰©å±•æ€§è¾ƒå·®ã€‚å¦‚æœç±»å·²ç»ç»§æ‰¿äº†åˆ«çš„ç±»ï¼Œä¸‹é¢è¿™ç§æ–¹å¼æ‰©å±•æ€§æ›´é«˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹è±¡é€‚é…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DockingAdapterObject</span> <span class="keyword">implements</span> <span class="title class_">DisplayHdml</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">MacBook</span> <span class="variable">macBook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MacBookImpl</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hdml</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> macBook.typec(<span class="string">&quot;æ˜¾ç¤ºå™¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ¥å£çš„é€‚é…å™¨æ¨¡å¼"><a href="#æ¥å£çš„é€‚é…å™¨æ¨¡å¼" class="headerlink" title="æ¥å£çš„é€‚é…å™¨æ¨¡å¼"></a>æ¥å£çš„é€‚é…å™¨æ¨¡å¼</h5><p>æœ‰æ—¶æˆ‘ä»¬å†™çš„ä¸€ä¸ªæ¥å£ä¸­æœ‰å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå½“æˆ‘ä»¬å†™è¯¥æ¥å£çš„å®ç°ç±»æ—¶ï¼Œå¿…é¡»å®ç°è¯¥æ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œè¿™æ˜æ˜¾æœ‰æ—¶æ¯”è¾ƒæµªè´¹ï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œæœ‰æ—¶åªéœ€è¦æŸä¸€äº›ï¼Œæ­¤å¤„ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ¥å£çš„é€‚é…å™¨æ¨¡å¼ï¼Œå€ŸåŠ©äºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œè¯¥æŠ½è±¡ç±»å®ç°äº†è¯¥æ¥å£ï¼Œå®ç°äº†æ‰€æœ‰çš„æ–¹æ³•ï¼Œè€Œæˆ‘ä»¬ä¸å’ŒåŸå§‹çš„æ¥å£æ‰“äº¤é“ï¼Œåªå’Œè¯¥æŠ½è±¡ç±»å–å¾—è”ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™ä¸€ä¸ªç±»ï¼Œç»§æ‰¿è¯¥æŠ½è±¡ç±»ï¼Œé‡å†™æˆ‘ä»¬éœ€è¦çš„æ–¹æ³•å°±è¡Œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">sub1</span> <span class="variable">sub1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">sub1</span>();</span><br><span class="line">        <span class="type">sub2</span> <span class="variable">sub2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">sub2</span>();</span><br><span class="line">        sub2.method2();</span><br><span class="line">        sub1.method1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">a</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">As</span> <span class="keyword">implements</span> <span class="title class_">a</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sub1</span> <span class="keyword">extends</span> <span class="title class_">As</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sub2</span> <span class="keyword">extends</span> <span class="title class_">As</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-æ¡¥æ¥æ¨¡å¼ï¼ˆBridge-Patternï¼‰"><a href="#7-æ¡¥æ¥æ¨¡å¼ï¼ˆBridge-Patternï¼‰" class="headerlink" title="7. æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰"></a>7. æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰</h4><p>æ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ï¼Œå®ƒå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</p><h5 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h5><p>å’–å•¡åº—ï¼Œæœ‰ä¸¤ç§å’–å•¡åŠ ç³–æˆ–è€…åŠ å¥¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ ç³–å’–å•¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CoffeeSugaring</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åŠ ç³–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å¥¶å’–å•¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MilkSugaring</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åŠ å¥¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨å‡†å¤‡åŠ ä¸¤ä¸ªå®¹é‡è§„æ ¼çš„å’–å•¡ï¼Œå¤§æ¯å’Œå°æ¯ï¼Œå½“ç„¶ä½ å¯ä»¥å¯¹åº”åŠ å‡ ä¸ªå®ç°ç±»ä¸å°±å¾—äº†ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ ç³–å’–å•¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MaxCoffeeSugaring</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤§æ¯åŠ ç³–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ ç³–å’–å•¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MinCoffeeSugaring</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°æ¯åŠ ç³–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å¥¶å’–å•¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MaxCoffeeMilk</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤§æ¯åŠ å¥¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å¥¶å’–å•¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MinCoffeeMilk</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°æ¯åŠ å¥¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†è¿‡å‡ å¤©ï¼Œä½ ä»¬è¦ä¸Šæ¶è¶…å¤§æ¯å¾ˆä¸­æ¯å­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚è¿™æ—¶å€™ä½ çš„å®ç°ç±»å°†æ˜¯M*Næ‰€æœ‰ç»´åº¦çš„ä¹˜é›†ï¼Œè¿™ä¸ªä½ éœ€è¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ ä»£ç é™ä½è€¦åˆ</p><h5 id="é‡æ–°è®¾è®¡åä»£ç "><a href="#é‡æ–°è®¾è®¡åä»£ç " class="headerlink" title="é‡æ–°è®¾è®¡åä»£ç "></a>é‡æ–°è®¾è®¡åä»£ç </h5><p>M*N ä¼˜åŒ–åä¸º M+N</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CoffeeAbstract</span> <span class="variable">coffeeAbstract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Max</span>();</span><br><span class="line">        <span class="comment">//åŠ å¥¶</span></span><br><span class="line">        coffeeAbstract.setCoffeeService(<span class="keyword">new</span> <span class="title class_">MilkSugaring</span>());</span><br><span class="line">        coffeeAbstract.draw();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è´­ä¹°å’–å•¡æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">CoffeeService</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CoffeeSugaring</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--åŠ ç³–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CoffeeMilk</span> <span class="keyword">implements</span> <span class="title class_">CoffeeService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyCoffee</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åŠ å¥¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠŠåŠ ææ–™çš„æŠ½è±¡å‡ºæ¥</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">CoffeeAbstract</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> CoffeeService coffeeService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> CoffeeService <span class="title function_">getCoffeeService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> coffeeService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCoffeeService</span><span class="params">(CoffeeService coffeeService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.coffeeService = coffeeService;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Max</span> <span class="keyword">extends</span> <span class="title class_">CoffeeAbstract</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;å¤§æ¯&quot;</span>);</span><br><span class="line">        coffeeService.buyCoffee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Min</span> <span class="keyword">extends</span> <span class="title class_">CoffeeAbstract</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;å°æ¯&quot;</span>);</span><br><span class="line">        coffeeService.buyCoffee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ æƒ³å¢åŠ è¶…å¤§æ¯è·Ÿä¸­æ¯åªéœ€è¦å¢åŠ ä¸¤ä¸ªå®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Centre</span> <span class="keyword">extends</span> <span class="title class_">CoffeeAbstract</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;ä¸­æ¯&quot;</span>);</span><br><span class="line">        coffeeService.buyCoffee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Huge</span> <span class="keyword">extends</span> <span class="title class_">CoffeeAbstract</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¶…æ¯&quot;</span>);</span><br><span class="line">        coffeeService.buyCoffee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MaxCoffee</span> <span class="variable">maxCoffee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MaxCoffee</span>();</span><br><span class="line">        maxCoffee.setCoffeeService(<span class="keyword">new</span> <span class="title class_">CoffeeSugaring</span>());</span><br><span class="line">        maxCoffee.draw();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¼ºç‚¹ï¼š</strong></p><p>æ¡¥æ¥æ¨¡å¼çš„å¼•å…¥ä¼šå¢åŠ ç³»ç»Ÿçš„ç†è§£ä¸è®¾è®¡éš¾åº¦ï¼Œç”±äºèšåˆå…³è”å…³ç³»å»ºç«‹åœ¨æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…é’ˆå¯¹æŠ½è±¡è¿›è¡Œè®¾è®¡ä¸ç¼–ç¨‹ã€‚<br>æ¡¥æ¥æ¨¡å¼è¦æ±‚æ­£ç¡®è¯†åˆ«å‡ºç³»ç»Ÿä¸­ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´å…·æœ‰ä¸€å®šçš„å±€é™æ€§ã€‚</p><h4 id="8-è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator-Patternï¼‰"><a href="#8-è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator-Patternï¼‰" class="headerlink" title="8. è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰"></a>8. è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰</h4><p>è£…é¥°å™¨æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡åŒ…è£…åœ¨ä¸€ä¸ªè£…é¥°å™¨ç±»ä¸­æ¥æ‰©å±•å…¶è¡Œä¸ºï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å…¶ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">HuaMuLan</span> <span class="variable">huaMuLan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HuaMuLan</span>();</span><br><span class="line">        System.out.println(huaMuLan.getAttack());</span><br><span class="line">        <span class="type">Pifu</span> <span class="variable">pifu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pifu</span>(huaMuLan);</span><br><span class="line">        System.out.println(pifu.getAttack());</span><br><span class="line">        <span class="type">ZhuangBei</span> <span class="variable">zhuangBei</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ZhuangBei</span>(pifu);</span><br><span class="line">        System.out.println(zhuangBei.getAttack());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">YingXiong</span>&#123;</span><br><span class="line">    <span class="comment">//åŠ æˆæ </span></span><br><span class="line">    <span class="keyword">private</span> String incident;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”»å‡»åŠ›</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> attack;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">int</span> <span class="title function_">getAttack</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">getIncident</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//é€‰æ‹©è‹±é›„</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HuaMuLan</span> <span class="keyword">extends</span> <span class="title class_">YingXiong</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAttack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">60</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getIncident</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;é€‰æ‹©èŠ±æœ¨å…°\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸€å±‚è£…é¥°è€… ä¹°äº†çš®è‚¤</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pifu</span> <span class="keyword">extends</span> <span class="title class_">HuaMuLan</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> HuaMuLan huaMuLan;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pifu</span><span class="params">(HuaMuLan huaMuLan)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.huaMuLan = huaMuLan;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAttack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> huaMuLan.getAttack() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getIncident</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> huaMuLan.getIncident()  + <span class="string">&quot;è´­ä¹°çš®è‚¤æ°´æ™¶çŒé¾™è€…\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒå±‚è£…é¥° ä¹°äº†è£…å¤‡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ZhuangBei</span> <span class="keyword">extends</span> <span class="title class_">HuaMuLan</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> HuaMuLan huaMuLan;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ZhuangBei</span><span class="params">(HuaMuLan huaMuLan)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.huaMuLan = huaMuLan;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAttack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> huaMuLan.getAttack() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getIncident</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> huaMuLan.getIncident()  + <span class="string">&quot;è´­ä¹°é“å‰‘\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="9-ç»„åˆæ¨¡å¼ï¼ˆComposite-Patternï¼‰"><a href="#9-ç»„åˆæ¨¡å¼ï¼ˆComposite-Patternï¼‰" class="headerlink" title="9. ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰"></a>9. ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰</h5><p>ç»„åˆæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„æ¥è¡¨ç°â€œæ•´ä½“&#x2F;éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ã€‚</p><p>ç¤ºä¾‹ï¼šæ–‡ä»¶å¤¹æµè§ˆï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸åŒç±»å‹çš„æ–‡ä»¶å…¼å®¹åˆ°ä¸€ä¸ªçª—å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Folders</span> <span class="variable">zwjj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Folders</span>(<span class="string">&quot;æ€»æ–‡ä»¶å¤¹&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">TextFile</span> <span class="variable">aText</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextFile</span>(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        <span class="type">ImagerFile</span> <span class="variable">bImager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImagerFile</span>(<span class="string">&quot;b.jpg&quot;</span>);</span><br><span class="line">        <span class="type">Folders</span> <span class="variable">cFolders</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Folders</span>(<span class="string">&quot;Cæ–‡ä»¶å¤¹&quot;</span>);</span><br><span class="line">        zwjj.add(aText);</span><br><span class="line">        zwjj.add(bImager);</span><br><span class="line">        zwjj.add(cFolders);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘Cæ–‡ä»¶å¤¹ä¸­æ·»åŠ æ–‡ä»¶ï¼šc.txtã€c.jpg </span></span><br><span class="line">        <span class="type">TextFile</span> <span class="variable">cText</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextFile</span>(<span class="string">&quot;c.txt&quot;</span>);</span><br><span class="line">        <span class="type">ImagerFile</span> <span class="variable">cImage</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImagerFile</span>(<span class="string">&quot;c.jpg&quot;</span>);</span><br><span class="line">        cFolders.add(cText);</span><br><span class="line">        cFolders.add(cImage);</span><br><span class="line"></span><br><span class="line">         <span class="comment">//éå†ä¸€çº§æ–‡ä»¶å¤¹</span></span><br><span class="line">        zwjj.getAll();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------&quot;</span>);</span><br><span class="line">        <span class="comment">//éå†Cæ–‡ä»¶å¤¹</span></span><br><span class="line">        cFolders.getAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">File</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">File</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">getAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;File&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡ä»¶å¤¹ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Folders</span> <span class="keyword">extends</span> <span class="title class_">File</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;File&gt; files;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Folders</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.files = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Boolean <span class="title function_">add</span><span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> files.add(file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Boolean <span class="title function_">del</span><span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> files.remove(file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAll</span><span class="params">()</span> &#123;</span><br><span class="line">        Iterator&lt;File&gt; iterator = files.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TextFile</span> <span class="keyword">extends</span> <span class="title class_">File</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextFile</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAll</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶åï¼š&quot;</span> + <span class="built_in">super</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ImagerFile</span> <span class="keyword">extends</span> <span class="title class_">File</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ImagerFile</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAll</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™æ˜¯å›¾åƒæ–‡ä»¶ï¼Œæ–‡ä»¶åï¼š&quot;</span> + <span class="built_in">super</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="10-å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰"><a href="#10-å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰" class="headerlink" title="10. å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰"></a>10. å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰</h5><p>å¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œéšè—äº†ä¸€ä¸ªå¤æ‚çš„å­ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Service1</span> <span class="variable">service1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Service1Impl</span>();</span><br><span class="line">        service1.all();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Service1</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">all</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Service1Impl</span> <span class="keyword">implements</span> <span class="title class_">Service1</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">all</span><span class="params">()</span> &#123;</span><br><span class="line">        a();</span><br><span class="line">        b();</span><br><span class="line">        c();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">a</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">b</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">c</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="11-äº«å…ƒæ¨¡å¼ï¼ˆFlyweight-Patternï¼‰"><a href="#11-äº«å…ƒæ¨¡å¼ï¼ˆFlyweight-Patternï¼‰" class="headerlink" title="11. äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰"></a>11. äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰</h5><p>Javaä¸­çš„äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯ä»¥åœ¨å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡ä¹‹é—´å…±äº«å°½å¯èƒ½å¤šçš„æ•°æ®ï¼Œä»è€Œå‡å°‘å†…å­˜çš„ä½¿ç”¨é‡å’Œæé«˜æ€§èƒ½ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ClassFactory</span> <span class="variable">classFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassFactory</span>();</span><br><span class="line">        <span class="type">a</span> <span class="variable">f1</span> <span class="operator">=</span> classFactory.getFlyweight(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line">        <span class="type">a</span> <span class="variable">f2</span> <span class="operator">=</span> classFactory.getFlyweight(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line">        <span class="type">a</span> <span class="variable">f3</span> <span class="operator">=</span> classFactory.getFlyweight(<span class="string">&quot;key2&quot;</span>);</span><br><span class="line">        System.out.println(f1);</span><br><span class="line">        System.out.println(f2);</span><br><span class="line">        System.out.println(f3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">a</span> &#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">getThisclass</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">b</span> <span class="keyword">extends</span> <span class="title class_">a</span> &#123;</span><br><span class="line">    String className;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">b</span><span class="params">(String className)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.className = className;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getThisclass</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰ç±»æ˜¯&quot;</span> + className);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassFactory</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> HashMap&lt;String, a&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line"></span><br><span class="line">    a <span class="title function_">getFlyweight</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="type">a</span> <span class="variable">a</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == a) &#123;</span><br><span class="line">            a = <span class="keyword">new</span> <span class="title class_">b</span>(key);</span><br><span class="line">            map.put(key, a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="12-ä»£ç†æ¨¡å¼ï¼ˆProxy-Patternï¼‰"><a href="#12-ä»£ç†æ¨¡å¼ï¼ˆProxy-Patternï¼‰" class="headerlink" title="12. ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰"></a>12. ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰</h4><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ï¼Œå®ƒä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</p><h5 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h5><p>é™æ€ä»£ç†ï¼šç”±ç¨‹åºå‘˜åˆ›å»ºæˆ–ç‰¹å®šå·¥å…·è‡ªåŠ¨ç”Ÿæˆæºä»£ç ï¼Œä¹Ÿå°±æ˜¯<strong>åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å°†æ¥å£ã€è¢«ä»£ç†ç±»ã€ä»£ç†ç±»ç­‰ç¡®å®šä¸‹æ¥</strong>ã€‚åœ¨ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œä»£ç†ç±»çš„.classæ–‡ä»¶å°±å·²ç»ç”Ÿæˆã€‚</p><p>ç¤ºä¾‹ï¼šæˆ¿ä¸œç§Ÿæˆ¿ï¼Œä½†æ˜¯æˆ¿ä¸œæˆ¿å­å¤ªå¤šï¼Œè‡ªå·±å¤„ç†ä¸è¿‡æ¥ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šé€‰æ‹©æ‰¾ä¸­ä»‹ï¼Œä¸­ä»‹è´Ÿè´£æŠŠæˆ¿å­ç§Ÿå‡ºå»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æˆ¿ä¸œæ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">LandlordService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‡ºç§Ÿ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> money ç§Ÿé‡‘</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">(Integer money)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç§Ÿå®¢å®ç°ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TenantImpl</span> <span class="keyword">implements</span> <span class="title class_">LandlordService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">(Integer money)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç§Ÿä¸‹&quot;</span> + money + <span class="string">&quot;å…ƒä¸€ä¸ªæœˆçš„æˆ¿å­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntermediaryImpl</span> <span class="keyword">implements</span> <span class="title class_">LandlordService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LandlordService target;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">(Integer money)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[é™æ€ä»£ç†]äº¤ä¸­ä»‹è´¹&quot;</span>);</span><br><span class="line">        target.rent(money);</span><br><span class="line">        System.out.println(<span class="string">&quot;[é™æ€ä»£ç†]ä¸­ä»‹è´Ÿè´£ç»´ä¿®ç®¡ç†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">IntermediaryImpl</span><span class="params">(LandlordService target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ä»£ç†ç±»ä¸­ä»‹å»ç§Ÿæˆ¿</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//è¦ç§Ÿæˆ¿çš„æˆ¿å®¢</span></span><br><span class="line">    <span class="type">TenantImpl</span> <span class="variable">tenant</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TenantImpl</span>();</span><br><span class="line">    <span class="comment">//é€šè¿‡ä¸­ä»‹å»ç§Ÿæˆ¿</span></span><br><span class="line">    <span class="type">IntermediaryImpl</span> <span class="variable">intermediary</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IntermediaryImpl</span>(tenant);</span><br><span class="line">    intermediary.rent(<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="JDK-åŠ¨æ€ä»£ç†"><a href="#JDK-åŠ¨æ€ä»£ç†" class="headerlink" title="JDK åŠ¨æ€ä»£ç†"></a><strong>JDK åŠ¨æ€ä»£ç†</strong></h6><ul><li>å¿…é¡»æœ‰æ¥å£ã€‚</li><li>åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»ä¼šå®ç°ç›®æ ‡å¯¹è±¡çš„æ¥å£ã€‚</li><li>åªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»ã€‚</li></ul><p>è¿˜æ˜¯ç§Ÿæˆ¿çš„é—®é¢˜ï¼Œæˆ‘ä»¬å†è€ƒè™‘ä¸€ç§åœºæ™¯ï¼Œæˆ‘ä»¬æˆ¿å­é™¤äº†ç§Ÿç»™æˆ¿å®¢ï¼Œè¿˜å¯èƒ½ä¼šæœ‰ä¸€äº›è¿è¥çš„æˆ¿ç®¡æˆ–è€…æ˜¯äºŒæˆ¿ä¸œï¼Œå¸®æˆ¿ä¸œå»æ‰“ç†ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¹‹å‰çš„é™æ€ä»£ç†æ˜¯ä¸æ˜¯ä¸èƒ½ç”¨äº†ï¼Ÿæˆ‘ä»¬éœ€è¦å†å»å†™ä¸€ä¸ªä¸­ä»‹ç»™æˆ¿ç®¡æˆ–è€…äºŒæˆ¿ä¸œç­‰ç­‰çš„ä»£ç†ç±»ã€‚</p><p><strong>æ¦‚å¿µ</strong></p><ul><li>åŠ¨æ€ä»£ç†æ˜¯é€šè¿‡è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä»£ç†ç±»å®ç°çš„ï¼Œä»£ç†ç±»åœ¨ç¼–è¯‘æœŸå¹¶ä¸å­˜åœ¨ã€‚</li><li>å¯ä»¥å®ç°æ‹¦æˆªç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼Œå¹¶åœ¨æ–¹æ³•æ‰§è¡Œå‰åæ·»åŠ è‡ªå®šä¹‰é€»è¾‘ã€‚</li><li>javaæœ€å¸¸è§çš„æ–¹å¼æ˜¯jdkä»£ç†è·Ÿcglibä»£ç†</li><li>JDKè‡ªå¸¦ï¼Œç›´æ¥ä¾èµ–<code>java.lang.reflect</code>ï¼Œæ— éœ€é¢å¤–å¼•å…¥åº“ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æˆ¿ç®¡å®ç°ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StewardImpl</span> <span class="keyword">implements</span> <span class="title class_">LandlordService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">(Integer money)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ¿ç®¡å®¶ç§Ÿä¸‹&quot;</span> + money + <span class="string">&quot;å…ƒä¸€ä¸ªæœˆçš„æˆ¿å­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">ä»£ç†ç±»</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentProxy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object target; <span class="comment">// ä»£ç†çš„ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RentProxy</span><span class="params">(Object target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸­ä»‹å»ä»£ç†æˆ¿å­&quot;</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯æˆ¿ç®¡å®¶éœ€è¦æ”¯ä»˜ä»£ç†è´¹</span></span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> StewardImpl) &#123;</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">money</span> <span class="operator">=</span> (Integer) args[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">fee</span> <span class="operator">=</span> (<span class="type">int</span>) (money * <span class="number">0.1</span>); <span class="comment">// 10%çš„ç®¡ç†è´¹</span></span><br><span class="line">            System.out.println(<span class="string">&quot;æˆ¿ç®¡å®¶æŠ½å–ç®¡ç†è´¹ï¼š&quot;</span> + fee + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆ¿ä¸œå®é™…åˆ°æ‰‹çš„æˆ¿ç§Ÿ&quot;</span> + (money - fee));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> TenantImpl) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆ¿ä¸œå®é™…åˆ°æ‰‹çš„æˆ¿ç§Ÿ&quot;</span> + args[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> method.invoke(target, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// ç§Ÿå®¢çš„åœºæ™¯</span></span><br><span class="line">        <span class="type">LandlordService</span> <span class="variable">tenant</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TenantImpl</span>();</span><br><span class="line">        <span class="type">LandlordService</span> <span class="variable">tenantProxy</span> <span class="operator">=</span> (LandlordService) Proxy.newProxyInstance(</span><br><span class="line">                tenant.getClass().getClassLoader(),</span><br><span class="line">                tenant.getClass().getInterfaces(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">RentProxy</span>(tenant)</span><br><span class="line">        );</span><br><span class="line">        tenantProxy.rent(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æˆ¿ç®¡å®¶ æˆ–è€…äºŒæˆ¿ä¸œçš„åœºæ™¯</span></span><br><span class="line">        <span class="type">LandlordService</span> <span class="variable">steward</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StewardImpl</span>();</span><br><span class="line">        <span class="type">LandlordService</span> <span class="variable">stewardProxy</span> <span class="operator">=</span> (LandlordService) Proxy.newProxyInstance(</span><br><span class="line">                steward.getClass().getClassLoader(),</span><br><span class="line">                steward.getClass().getInterfaces(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">RentProxy</span>(steward)</span><br><span class="line">        );</span><br><span class="line">        stewardProxy.rent(<span class="number">3000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>CGLIB åŠ¨æ€ä»£ç†</strong></p><ul><li>ä¸éœ€è¦æ¥å£ã€‚</li><li>é€šè¿‡ç»§æ‰¿ç›®æ ‡ç±»æ¥ç”Ÿæˆä»£ç†ç±»ã€‚</li><li>å¯ä»¥ä»£ç†æ™®é€šç±»å’Œæ¥å£ï¼Œä½†å¦‚æœç›®æ ‡ç±»æ˜¯ <code>final</code> æˆ–ç›®æ ‡æ–¹æ³•æ˜¯ <code>final</code>ï¼Œåˆ™æ— æ³•ä»£ç†ï¼ˆå› ä¸ºæ— æ³•ç»§æ‰¿å’Œè¦†ç›–ï¼‰ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æˆ¿ç®¡å®ç°ç±»  ä¸éœ€è¦å»å®ç°æ¥å£äº†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Steward2Impl</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">(Integer money)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ¿ç®¡å®¶ç§Ÿä¸‹&quot;</span> + money + <span class="string">&quot;å…ƒä¸€ä¸ªæœˆçš„æˆ¿å­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentProxy</span> <span class="keyword">implements</span> <span class="title class_">MethodInterceptor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RentProxy</span><span class="params">(Object target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object obj, Method method, Object[] args, MethodProxy proxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯æˆ¿ç®¡å®¶ä»£ç†é€»è¾‘</span></span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> Steward2Impl) &#123;</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">money</span> <span class="operator">=</span> (Integer) args[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">fee</span> <span class="operator">=</span> (<span class="type">int</span>) (money * <span class="number">0.1</span>); <span class="comment">// 10%çš„ç®¡ç†è´¹</span></span><br><span class="line">            System.out.println(<span class="string">&quot;æˆ¿ç®¡å®¶æŠ½å–ç®¡ç†è´¹ï¼š&quot;</span> + fee + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">            args[<span class="number">0</span>] = money - fee; <span class="comment">// ä¿®æ”¹ç§Ÿé‡‘</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ç›®æ ‡æ–¹æ³•</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> proxy.invoke(target, args);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åç½®é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä»£ç†é€»è¾‘ï¼šç§Ÿèµå®Œæˆ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">createProxy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">        enhancer.setSuperclass(target.getClass()); <span class="comment">// è®¾ç½®ç›®æ ‡ç±»ä¸ºçˆ¶ç±»</span></span><br><span class="line">        enhancer.setCallback(<span class="built_in">this</span>); <span class="comment">// è®¾ç½®å›è°ƒæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> enhancer.create(); <span class="comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Steward2Impl</span> <span class="variable">landlord</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Steward2Impl</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="type">RentProxy</span> <span class="variable">proxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RentProxy</span>(landlord);</span><br><span class="line">        <span class="type">Steward2Impl</span> <span class="variable">proxyLandlord</span> <span class="operator">=</span> (Steward2Impl) proxy.createProxy();  <span class="comment">// ç›´æ¥åˆ›å»ºç›®æ ‡ç±»çš„ä»£ç†ï¼Œä¸éœ€è¦æ¥å£</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä»£ç†æ–¹æ³•</span></span><br><span class="line">        proxyLandlord.rent(<span class="number">5000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>jdk17-cglib<strong>åšåŠ¨æ€ä»£ç†å¼‚å¸¸</strong></p><p>å½“å‰ç‰ˆæœ¬çš„jdkçš„åå°„ç›¸å…³åŠŸèƒ½è¢«é™åˆ¶ï¼Œå¯¼è‡´äº†å¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--add-opens java.base/java.lang=ALL-UNNAMED</span><br><span class="line">--add-opens java.base/sun.net.util=ALL-UNNAMED</span><br></pre></td></tr></table></figure><p><img src="/2022/11/18/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20241126095157512.png" alt="image-20241126095157512"></p><h4 id="è¡Œä¸ºå‹æ¨¡å¼"><a href="#è¡Œä¸ºå‹æ¨¡å¼" class="headerlink" title="è¡Œä¸ºå‹æ¨¡å¼"></a>è¡Œä¸ºå‹æ¨¡å¼</h4><h5 id="13-è´£ä»»é“¾æ¨¡å¼ï¼ˆChain-of-Responsibility-Patternï¼‰"><a href="#13-è´£ä»»é“¾æ¨¡å¼ï¼ˆChain-of-Responsibility-Patternï¼‰" class="headerlink" title="13. è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰"></a>13. è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</h5><p>è´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†é“¾è¿›è¡Œä¼ é€’ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†ä¸ºæ­¢ã€‚</p><h5 id="è´£ä»»é“¾æ¨¡å¼çš„ç‰¹ç‚¹ï¼š"><a href="#è´£ä»»é“¾æ¨¡å¼çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="è´£ä»»é“¾æ¨¡å¼çš„ç‰¹ç‚¹ï¼š"></a>è´£ä»»é“¾æ¨¡å¼çš„ç‰¹ç‚¹ï¼š</h5><ol><li><strong>è¯·æ±‚è§£è€¦</strong>ï¼šè¯·æ±‚çš„å‘é€è€…ä¸éœ€è¦æŒ‡å®šå…·ä½“çš„æ¥æ”¶è€…ï¼Œæ¥æ”¶è€…åŠ¨æ€åœ°å¤„ç†è¯·æ±‚ã€‚</li><li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥åŠ¨æ€åœ°æ›´æ”¹é“¾ä¸­çš„æˆå‘˜ï¼Œå¢åŠ æˆ–åˆ é™¤è´£ä»»å¯¹è±¡ã€‚</li><li><strong>å»¶è¿Ÿå¤„ç†</strong>ï¼šè¯·æ±‚æ²¿é“¾ä¼ é€’ï¼Œç›´åˆ°æŸä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚ã€‚</li></ol><hr><h5 id="è´£ä»»é“¾æ¨¡å¼çš„ç»“æ„"><a href="#è´£ä»»é“¾æ¨¡å¼çš„ç»“æ„" class="headerlink" title="è´£ä»»é“¾æ¨¡å¼çš„ç»“æ„"></a><strong>è´£ä»»é“¾æ¨¡å¼çš„ç»“æ„</strong></h5><ol><li><strong>æŠ½è±¡å¤„ç†è€…ï¼ˆHandlerï¼‰</strong>ï¼š å®šä¹‰ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ¥å£ï¼ŒåŒ…å«å¤„ç†è¯·æ±‚çš„æ–¹æ³•å’Œè®¾ç½®ä¸‹ä¸€ä¸ªå¤„ç†è€…çš„æ–¹æ³•ã€‚</li><li><strong>å…·ä½“å¤„ç†è€…ï¼ˆConcreteHandlerï¼‰</strong>ï¼š å®ç°æŠ½è±¡å¤„ç†è€…ï¼Œå¤„ç†è¯·æ±‚æˆ–å°†å…¶è½¬å‘ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…ã€‚</li><li><strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong>ï¼š å‘å‡ºè¯·æ±‚å¹¶å°†å…¶ä¼ é€’ç»™é“¾çš„èµ·å§‹å¤„ç†è€…ã€‚</li></ol><p><strong>ç¤ºä¾‹åœºæ™¯ï¼šå‘˜å·¥çš„æŠ¥é”€ç”³è¯·éœ€è¦é€çº§å®¡æ‰¹ï¼Œç›´åˆ°æ»¡è¶³æƒé™è¦æ±‚ã€‚</strong></p><h6 id="æŠ½è±¡å¤„ç†è€…"><a href="#æŠ½è±¡å¤„ç†è€…" class="headerlink" title="æŠ½è±¡å¤„ç†è€…"></a>æŠ½è±¡å¤„ç†è€…</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŠ½è±¡å¤„ç†è€…  ç”¨äºå¤„ç†å®¡æ‰¹çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> Handler nextHandler;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNextHandler</span><span class="params">(Handler nextHandler)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nextHandler = nextHandler;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(<span class="type">int</span> amount)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="å…·ä½“å¤„ç†è€…"><a href="#å…·ä½“å¤„ç†è€…" class="headerlink" title="å…·ä½“å¤„ç†è€…"></a>å…·ä½“å¤„ç†è€…</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…·ä½“å¤„ç†è€…1ï¼šç»ç†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Manager</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &lt;= <span class="number">1000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç»ç†å®¡æ‰¹é€šè¿‡é‡‘é¢: &quot;</span> + amount + <span class="string">&quot; å…ƒ&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nextHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">            nextHandler.handleRequest(amount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…·ä½“å¤„ç†è€…2ï¼šæ€»ç›‘</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Director</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &lt;= <span class="number">5000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ€»ç›‘å®¡æ‰¹é€šè¿‡é‡‘é¢: &quot;</span> + amount + <span class="string">&quot; å…ƒ&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nextHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">            nextHandler.handleRequest(amount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VicePresident</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &lt;= <span class="number">10000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‰¯æ€»è£å®¡æ‰¹é€šè¿‡é‡‘é¢: &quot;</span> + amount + <span class="string">&quot; å…ƒ&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nextHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">            nextHandler.handleRequest(amount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="å®¢æˆ·ç«¯æµ‹è¯•"><a href="#å®¢æˆ·ç«¯æµ‹è¯•" class="headerlink" title="å®¢æˆ·ç«¯æµ‹è¯•"></a>å®¢æˆ·ç«¯æµ‹è¯•</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>  &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ‹Ÿå®šä¸‰çº§å¤„ç†äºº   ç»ç†å¤„ç†1000å†…çš„å®¡æ‰¹ å¤§äº1000äº¤ç»™ä¸‹ä¸€çº§ æ€»ç›‘5000å†….......</span></span><br><span class="line">        <span class="type">Handler</span> <span class="variable">manager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Manager</span>();</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">director</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Director</span>();</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">vicePresident</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VicePresident</span>();</span><br><span class="line"></span><br><span class="line">        manager.setNextHandler(director);</span><br><span class="line">        director.setNextHandler(vicePresident);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] requests = &#123;<span class="number">500</span>, <span class="number">2000</span>, <span class="number">7000</span>, <span class="number">15000</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> amount : requests) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ±‚é‡‘é¢: &quot;</span> + amount + <span class="string">&quot; å…ƒ&quot;</span>);</span><br><span class="line">            manager.handleRequest(amount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="14-å‘½ä»¤æ¨¡å¼ï¼ˆCommand-Patternï¼‰"><a href="#14-å‘½ä»¤æ¨¡å¼ï¼ˆCommand-Patternï¼‰" class="headerlink" title="14. å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰"></a>14. å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰</h5><p>å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå°†è¯·æ±‚å°è£…ä¸ºå¯¹è±¡ï¼Œä»è€Œå…è®¸ä½ ä½¿ç”¨ä¸åŒçš„è¯·æ±‚ã€é˜Ÿåˆ—æˆ–æ—¥å¿—æ¥å‚æ•°åŒ–å®¢æˆ·ç«¯è¯·æ±‚ã€‚</p><h6 id="æ¥å£ç±»"><a href="#æ¥å£ç±»" class="headerlink" title="æ¥å£ç±»"></a>æ¥å£ç±»</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¼€å…³æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Switch</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">off</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">on</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="å‘½ä»¤æ¥æ”¶è€…"><a href="#å‘½ä»¤æ¥æ”¶è€…" class="headerlink" title="å‘½ä»¤æ¥æ”¶è€…"></a>å‘½ä»¤æ¥æ”¶è€…</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”µè§†ç±» æœ‰å¼€å…³çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TV</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">open</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰“å¼€ç”µè§†æœº&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”µè§†æœºå…³é—­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”µè§†æœºå¼€å…³çš„å®ç°ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TVSwitchImpl</span> <span class="keyword">implements</span> <span class="title class_">Switch</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TV tv;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TVSwitchImpl</span><span class="params">(TV tv)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tv = tv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">off</span><span class="params">()</span> &#123;</span><br><span class="line">        tv.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">on</span><span class="params">()</span> &#123;</span><br><span class="line">        tv.open();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¥æ§å™¨  ä¹Ÿå°±æ˜¯è°ƒç”¨è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RemoteControl</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Switch sw;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RemoteControl</span><span class="params">(Switch sw)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sw = sw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">openTV</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¥æ”¶åˆ°ä¸»äººçš„æ‰“å¼€è¯·æ±‚&quot;</span>);</span><br><span class="line">        sw.on();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">closeTV</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¥æ”¶åˆ°ä¸»äººçš„æ‰“å¼€è¯·æ±‚&quot;</span>);</span><br><span class="line">        sw.off();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//ç”µè§†  å‘½ä»¤æ¥æ”¶è€…</span></span><br><span class="line">        <span class="type">TV</span> <span class="variable">tv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TV</span>();</span><br><span class="line">        <span class="comment">// å‘½ä»¤çš„å®ç°</span></span><br><span class="line">        <span class="type">Switch</span> <span class="variable">sw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TVSwitchImpl</span>(tv);</span><br><span class="line">        <span class="comment">// é¥æ§å™¨  ä¹Ÿå°±æ˜¯è°ƒç”¨è€…</span></span><br><span class="line">        <span class="type">RemoteControl</span> <span class="variable">remoteControl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RemoteControl</span>(sw);</span><br><span class="line">        remoteControl.closeTV();</span><br><span class="line">        remoteControl.openTV();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="15-è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter-Patternï¼‰"><a href="#15-è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter-Patternï¼‰" class="headerlink" title="15. è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰"></a>15. è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰</h5><p>è§£é‡Šå™¨æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§è¯­è¨€ï¼Œç„¶åé€šè¿‡è¯¥è¯­è¨€æ¥è§£é‡Šè¡¨è¾¾å¼ã€‚</p><p>éå¸¸å¤æ‚  ğŸ‘æ²¡ç”¨ä¸”</p><h5 id="16-è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator-Patternï¼‰"><a href="#16-è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator-Patternï¼‰" class="headerlink" title="16. è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰"></a>16. è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</h5><p>è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç¤ºçš„æƒ…å†µä¸‹éå†é›†åˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorPatternDemo</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºä¸€ä¸ªé›†åˆ</span></span><br><span class="line">            Integer[] numbers = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">            <span class="type">NumberCollection</span> <span class="variable">collection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumberCollection</span>(numbers);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–è¿­ä»£å™¨</span></span><br><span class="line">            Iterator&lt;Integer&gt; iterator = collection.createIterator();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// éå†é›†åˆ</span></span><br><span class="line">            <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å½“å‰å…ƒç´ : &quot;</span> + iterator.next());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿­ä»£å™¨æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Iterator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;  <span class="comment">// æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line">    T <span class="title function_">next</span><span class="params">()</span>;           <span class="comment">// è·å–ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èšåˆæ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Aggregate</span>&lt;T&gt; &#123;</span><br><span class="line">    Iterator&lt;T&gt; <span class="title function_">createIterator</span><span class="params">()</span>; <span class="comment">// åˆ›å»ºè¿­ä»£å™¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“èšåˆç±»ï¼šæ•°å­—é›†åˆ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberCollection</span> <span class="keyword">implements</span> <span class="title class_">Aggregate</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer[] numbers;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumberCollection</span><span class="params">(Integer[] numbers)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.numbers = numbers;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Iterator&lt;Integer&gt; <span class="title function_">createIterator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">NumberIterator</span>(numbers);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è¿­ä»£å™¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer[] numbers;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">position</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumberIterator</span><span class="params">(Integer[] numbers)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.numbers = numbers;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> position &lt; numbers.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (hasNext()) &#123;</span><br><span class="line">            <span class="keyword">return</span> numbers[position++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;æ²¡æœ‰æ›´å¤šå…ƒç´ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="17-ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator-Patternï¼‰"><a href="#17-ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator-Patternï¼‰" class="headerlink" title="17. ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰"></a>17. ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰</h5><p>ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å‡å°‘å¯¹è±¡ä¹‹é—´çš„ç›´æ¥è€¦åˆï¼Œé€šè¿‡å°†å®ƒä»¬çš„é€šä¿¡å§”æ‰˜ç»™ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å®ç°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.guo.mediator;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MediatorPatternSimple</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Mediator</span> <span class="variable">controlTower</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ControlTower</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Flight</span> <span class="variable">flight1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Flight</span>(controlTower, <span class="string">&quot;èˆªç­A&quot;</span>);</span><br><span class="line">        <span class="type">Flight</span> <span class="variable">flight2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Flight</span>(controlTower, <span class="string">&quot;èˆªç­B&quot;</span>);</span><br><span class="line"></span><br><span class="line">        flight1.requestLanding(); <span class="comment">// èˆªç­A è¯·æ±‚é™è½</span></span><br><span class="line">        flight2.requestLanding(); <span class="comment">// èˆªç­B è¯·æ±‚é™è½ï¼ˆç­‰å¾…è·‘é“ç©ºé—²ï¼‰</span></span><br><span class="line"></span><br><span class="line">        flight1.freeRunway(); <span class="comment">// èˆªç­A é‡Šæ”¾è·‘é“</span></span><br><span class="line">        flight2.requestLanding(); <span class="comment">// èˆªç­B ç°åœ¨å¯ä»¥é™è½</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­ä»‹è€…æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Mediator</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">notify</span><span class="params">(String event, Flight flight)</span>; <span class="comment">// é€šçŸ¥ä¸­ä»‹è€…äº‹ä»¶</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ä¸­ä»‹è€…ï¼šæ§åˆ¶å¡”</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ControlTower</span> <span class="keyword">implements</span> <span class="title class_">Mediator</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">runwayAvailable</span> <span class="operator">=</span> <span class="literal">true</span>; <span class="comment">// è·‘é“æ˜¯å¦å¯ç”¨</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notify</span><span class="params">(String event, Flight flight)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;requestLanding&quot;</span>.equals(event)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (runwayAvailable) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ§åˆ¶å¡”ï¼šå…è®¸ &quot;</span> + flight.getName() + <span class="string">&quot; é™è½&quot;</span>);</span><br><span class="line">                runwayAvailable = <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ§åˆ¶å¡”ï¼šè·‘é“è¢«å ç”¨ï¼Œè¯·ç­‰å¾…ï¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;freeRunway&quot;</span>.equals(event)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ§åˆ¶å¡”ï¼šè·‘é“å·²ç©ºé—²&quot;</span>);</span><br><span class="line">            runwayAvailable = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒäº‹ç±»ï¼šèˆªç­</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Flight</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Mediator mediator;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Flight</span><span class="params">(Mediator mediator, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.mediator = mediator;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestLanding</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot; è¯·æ±‚é™è½&quot;</span>);</span><br><span class="line">        mediator.notify(<span class="string">&quot;requestLanding&quot;</span>, <span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">freeRunway</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot; å·²å®Œæˆé™è½ï¼Œé‡Šæ”¾è·‘é“&quot;</span>);</span><br><span class="line">        mediator.notify(<span class="string">&quot;freeRunway&quot;</span>, <span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="18-å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento-Patternï¼‰"><a href="#18-å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento-Patternï¼‰" class="headerlink" title="18. å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰"></a>18. å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰</h5><p>å¤‡å¿˜å½•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡çš„çŠ¶æ€ã€‚</p><h5 id="19-è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰"><a href="#19-è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰" class="headerlink" title="19. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰"></a>19. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</h5><p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å®šä¹‰ä¸€ç§è®¢é˜…æœºåˆ¶ï¼Œä»¥ä¾¿ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥ä¸€ç»„å¯¹è±¡ã€‚</p><h5 id="20-çŠ¶æ€æ¨¡å¼ï¼ˆState-Patternï¼‰"><a href="#20-çŠ¶æ€æ¨¡å¼ï¼ˆState-Patternï¼‰" class="headerlink" title="20. çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰"></a>20. çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰</h5><p>çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸€ä¸ªå¯¹è±¡å†…éƒ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºã€‚</p><h5 id="21-ç­–ç•¥æ¨¡å¼ï¼ˆStrategy-Patternï¼‰"><a href="#21-ç­–ç•¥æ¨¡å¼ï¼ˆStrategy-Patternï¼‰" class="headerlink" title="21. ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰"></a>21. ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</h5><p>ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œç„¶åå°†å®ƒä»¬å°è£…åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°é€‰æ‹©ç®—æ³•ã€‚</p><h5 id="22-æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate-Method-Patternï¼‰"><a href="#22-æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate-Method-Patternï¼‰" class="headerlink" title="22. æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰"></a>22. æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰</h5><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„æ­¥éª¤ï¼Œå¹¶å…è®¸å­ç±»ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤æä¾›å®ç°ã€‚</p><h5 id="23-è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor-Patternï¼‰"><a href="#23-è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor-Patternï¼‰" class="headerlink" title="23. è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰"></a>23. è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</h5><p>è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ å°†æ“ä½œä»å…ƒç´ çš„ç±»ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå°†å®ƒä»¬å°è£…åœ¨ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡ä¸­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlæŸ¥è¯¢åˆ†ç»„æŠ¥é”™</title>
      <link href="/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/"/>
      <url>/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<p>msyqlåˆ†ç»„æŸ¥è¯¢æŠ¥é”™</p><span id="more"></span><h5 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h5><h6 id="userè¡¨æ•°æ®"><a href="#userè¡¨æ•°æ®" class="headerlink" title="userè¡¨æ•°æ®"></a>userè¡¨æ•°æ®</h6><p><img src="/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/image-20221014150307645.png" alt="image-20221014150307645"></p><h6 id="loveè¡¨æ•°æ®"><a href="#loveè¡¨æ•°æ®" class="headerlink" title="loveè¡¨æ•°æ®"></a>loveè¡¨æ•°æ®</h6><p><img src="/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/image-20221014150407158-5731051.png" alt="image-20221014150407158"></p><p>ä½¿ç”¨åˆ†ç»„æŸ¥è¯¢sqlè¯­å¥æŠ¥é”™</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">u.<span class="operator">*</span>, GROUP_CONCAT(l.like) <span class="keyword">as</span> likeList,l.id</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">`<span class="keyword">user</span>` u</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> love l <span class="keyword">ON</span> u.id <span class="operator">=</span> l.user_id </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">u.id</span><br></pre></td></tr></table></figure><h5 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h5><p>1055 - Expression #4 of SELECT list is not in GROUP BY clause and contains nonaggregated column â€˜group_demo.l.idâ€™ which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode&#x3D;only_full_group_by</p><p>å­˜åœ¨æœªåˆ†ç»„ä¸­çš„æ•°æ®</p><p><strong>ä¸€ç›´æ˜¯è¿™æ ·å†™çš„ï¼Œä¹‹å‰ä¹Ÿæ²¡é‡åˆ°è¿™ä¸ªé—®é¢˜</strong></p><h5 id="æ¢ç´¢åŸå› "><a href="#æ¢ç´¢åŸå› " class="headerlink" title="æ¢ç´¢åŸå› "></a>æ¢ç´¢åŸå› </h5><p>åœ¨ç½‘ä¸Šä¸€é¡¿æœç´¢åå‘ç°è¿™ä¸ªé”™è¯¯ä¿¡æ¯å’Œsql_modeä¸­çš„â€only_full_group_byâ€æœ‰å…³ï¼Œæ˜¯Mysql5.7 group byæ–°ç‰¹æ€§ï¼Œåœ¨5.7ç‰ˆæœ¬ä»¥åä¸­only_full_group_byè¿™ä¸ªæ¨¡å¼æ˜¯é»˜è®¤å¼€å¯çš„</p><h6 id="æŸ¥çœ‹mysqlç‰ˆæœ¬"><a href="#æŸ¥çœ‹mysqlç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹mysqlç‰ˆæœ¬"></a>æŸ¥çœ‹mysqlç‰ˆæœ¬</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select version() from dual;</span><br></pre></td></tr></table></figure><p><img src="/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/image-20221014151321416.png" alt="image-20221014151321416"></p><h6 id="æŸ¥çœ‹sql-modeé…ç½®"><a href="#æŸ¥çœ‹sql-modeé…ç½®" class="headerlink" title="æŸ¥çœ‹sql_modeé…ç½®"></a><strong>æŸ¥çœ‹<code>sql_mode</code>é…ç½®</strong></h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @@global.sql_mode;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/image-20221014151747981.png" alt="image-20221014151747981"></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ONLY<span class="built_in">_</span>FULL<span class="built_in">_</span>GROUP<span class="built_in">_</span>BY,STRICT<span class="built_in">_</span>TRANS<span class="built_in">_</span>TABLES,NO<span class="built_in">_</span>ZERO<span class="built_in">_</span>IN<span class="built_in">_</span>DATE,NO<span class="built_in">_</span>ZERO<span class="built_in">_</span>DATE,ERROR<span class="built_in">_</span>FOR<span class="built_in">_</span>DIVISION<span class="built_in">_</span>BY<span class="built_in">_</span>ZERO,NO<span class="built_in">_</span>ENGINE<span class="built_in">_</span>SUBSTITUTION</span><br></pre></td></tr></table></figure><p><font color="red">ONLY_FULL_GROUP_BY</font>æ˜¯å¼€å¯çš„ï¼Œæ‰€ä»¥åŸå› æ˜¯è¿™ä¸ª</p><h6 id="å…¶ä»–å€¼"><a href="#å…¶ä»–å€¼" class="headerlink" title="å…¶ä»–å€¼"></a>å…¶ä»–å€¼</h6><p>sql_modeå¸¸ç”¨å€¼å¦‚ä¸‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ONLY_FULL_GROUP_BY:</span><br><span class="line"></span><br><span class="line">å¯¹äºGROUP BYèšåˆæ“ä½œ,å¦‚æœåœ¨SELECTä¸­çš„åˆ—,æ²¡æœ‰åœ¨GROUP BYä¸­å‡ºç°,é‚£ä¹ˆè¿™ä¸ªSQLæ˜¯ä¸åˆæ³•çš„,å› ä¸ºåˆ—ä¸åœ¨GROUP BYä»å¥ä¸­</span><br><span class="line">NO_AUTO_VALUE_ON_ZERO:</span><br><span class="line">è¯¥å€¼å½±å“è‡ªå¢é•¿åˆ—çš„æ’å…¥ã€‚é»˜è®¤è®¾ç½®ä¸‹,æ’å…¥0æˆ–NULLä»£è¡¨ç”Ÿæˆä¸‹ä¸€ä¸ªè‡ªå¢é•¿å€¼ã€‚å¦‚æœç”¨æˆ· å¸Œæœ›æ’å…¥çš„å€¼ä¸º0,è€Œè¯¥åˆ—åˆæ˜¯è‡ªå¢é•¿çš„,é‚£ä¹ˆè¿™ä¸ªé€‰é¡¹å°±æœ‰ç”¨äº†ã€‚</span><br><span class="line">STRICT_TRANS_TABLES:</span><br><span class="line">åœ¨è¯¥æ¨¡å¼ä¸‹,å¦‚æœä¸€ä¸ªå€¼ä¸èƒ½æ’å…¥åˆ°ä¸€ä¸ªäº‹åŠ¡è¡¨ä¸­,åˆ™ä¸­æ–­å½“å‰çš„æ“ä½œ,å¯¹éäº‹åŠ¡è¡¨ä¸åšé™åˆ¶</span><br><span class="line">NO_ZERO_IN_DATE:</span><br><span class="line">åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹,ä¸å…è®¸æ—¥æœŸå’Œæœˆä»½ä¸ºé›¶</span><br><span class="line">NO_ZERO_DATE:</span><br><span class="line">è®¾ç½®è¯¥å€¼,mysqlæ•°æ®åº“ä¸å…è®¸æ’å…¥é›¶æ—¥æœŸ,æ’å…¥é›¶æ—¥æœŸä¼šæŠ›å‡ºé”™è¯¯è€Œä¸æ˜¯è­¦å‘Šã€‚</span><br><span class="line">ERROR_FOR_DIVISION_BY_ZERO:</span><br><span class="line">åœ¨INSERTæˆ–UPDATEè¿‡ç¨‹ä¸­,å¦‚æœæ•°æ®è¢«é›¶é™¤,åˆ™äº§ç”Ÿé”™è¯¯è€Œéè­¦å‘Šã€‚å¦‚ æœæœªç»™å‡ºè¯¥æ¨¡å¼,é‚£ä¹ˆæ•°æ®è¢«é›¶é™¤æ—¶MySQLè¿”å›NULL</span><br><span class="line">NO_AUTO_CREATE_USER:</span><br><span class="line">ç¦æ­¢GRANTåˆ›å»ºå¯†ç ä¸ºç©ºçš„ç”¨æˆ·</span><br><span class="line">NO_ENGINE_SUBSTITUTION:</span><br><span class="line">å¦‚æœéœ€è¦çš„å­˜å‚¨å¼•æ“è¢«ç¦ç”¨æˆ–æœªç¼–è¯‘,é‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚ä¸è®¾ç½®æ­¤å€¼æ—¶,ç”¨é»˜è®¤çš„å­˜å‚¨å¼•æ“æ›¿ä»£,å¹¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</span><br><span class="line">PIPES_AS_CONCAT:</span><br><span class="line">å°†&quot;||&quot;è§†ä¸ºå­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œç¬¦è€Œéæˆ–è¿ç®—ç¬¦,è¿™å’ŒOracleæ•°æ®åº“æ˜¯ä¸€æ ·çš„,ä¹Ÿå’Œå­—ç¬¦ä¸²çš„æ‹¼æ¥å‡½æ•°Concatç›¸ç±»ä¼¼</span><br><span class="line">ANSI_QUOTES:</span><br><span class="line">å¯ç”¨ANSI_QUOTESå,ä¸èƒ½ç”¨åŒå¼•å·æ¥å¼•ç”¨å­—ç¬¦ä¸²,å› ä¸ºå®ƒè¢«è§£é‡Šä¸ºè¯†åˆ«ç¬¦</span><br></pre></td></tr></table></figure><h5 id="è§£å†³ï¼š"><a href="#è§£å†³ï¼š" class="headerlink" title="è§£å†³ï¼š"></a>è§£å†³ï¼š</h5><p>å…¶å®æŠ¥é”™åŸå› å®é™…æ˜¯åˆ†ç»„è¯­å¥ä¸è§„èŒƒ</p><p><strong>Group Byæ­£ç¡®çš„ç”¨æ³•</strong><br><strong>myqlçš„group byè¯­æ³•ä¸ºï¼š</strong><br><strong>select é€‰å–åˆ†ç»„ä¸­çš„åˆ— + èšåˆå‡½æ•° from è¡¨åç§° group by åˆ†ç»„çš„åˆ—</strong><br><strong>ä»è¯­æ³•æ ¼å¼æ¥çœ‹ï¼Œæ˜¯ç°æœ‰åˆ†ç»„ï¼Œåœ¨ç¡®å®šæ£€ç´¢çš„åˆ—ï¼Œæ£€ç´¢çš„åˆ—åªèƒ½æ˜¯å‚åŠ åˆ†ç»„äº†çš„åˆ—ã€‚</strong><br><strong>æ‰€ä»¥é—®é¢˜ä¸­ï¼Œgroup by åçš„a,b,cæ˜¯å…ˆç¡®å®šçš„ï¼Œè€Œselect åé¢çš„å­—æ®µæ˜¯å¯å˜çš„</strong></p><p>å…¶ä»–æ–¹å¼ä¸€ï¼š</p><p>åˆ é™¤sql_modeä¸­çš„å€¼ï¼ï¼ï¼ä¿®æ”¹mysqlé…ç½®my.cnf(windowsä¸‹é¢æ˜¯my.ini)</p><p>æ–¹å¼äºŒï¼š</p><p>é€šè¿‡mysqlçš„any_value()å‡½æ•°ï¼Œ<strong>any_value()ä¼šé€‰æ‹©è¢«åˆ†åˆ°åŒä¸€ç»„çš„æ•°æ®é‡Œç¬¬ä¸€æ¡æ•°æ®çš„æŒ‡å®šåˆ—å€¼ä½œä¸ºè¿”å›æ•°æ®</strong></p><p>ä¿®æ”¹sqlé‡æ–°æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">u.*,GROUP_CONCAT(l.like) as likeList,any_value(l.id)</span><br><span class="line">FROM</span><br><span class="line">`user` u</span><br><span class="line">INNER JOIN love l ON u.id = l.user_id </span><br><span class="line">GROUP BY</span><br><span class="line">u.id</span><br></pre></td></tr></table></figure><p><img src="/2022/10/12/mysql%E6%9F%A5%E8%AF%A2%E5%88%86%E7%BB%84%E6%8A%A5%E9%94%99/image-20221025164536698.png" alt="image-20221025164536698"></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>macé…ç½®host</title>
      <link href="/2022/08/22/mac%E9%85%8D%E7%BD%AEhost/"/>
      <url>/2022/08/22/mac%E9%85%8D%E7%BD%AEhost/</url>
      
        <content type="html"><![CDATA[<p>macé…ç½®host</p><span id="more"></span><h5 id="ä¿®æ”¹-hosts"><a href="#ä¿®æ”¹-hosts" class="headerlink" title="ä¿®æ”¹ hosts"></a>ä¿®æ”¹ hosts</h5><p>sudo vi &#x2F;etc&#x2F;hosts</p><h5 id="åˆ·æ–°DNS"><a href="#åˆ·æ–°DNS" class="headerlink" title="åˆ·æ–°DNS"></a>åˆ·æ–°DNS</h5><p>sudo killall -HUP mDNSResponder</p><h5 id="å…¶ä»–ç‰ˆæœ¬"><a href="#å…¶ä»–ç‰ˆæœ¬" class="headerlink" title="å…¶ä»–ç‰ˆæœ¬"></a>å…¶ä»–ç‰ˆæœ¬</h5><p>æˆ‘çš„mac ç³»ç»Ÿç‰ˆæœ¬ 12.2.1</p><p>å„ç‰ˆæœ¬å‘½ä»¤ä»…ä¾›å‚è€ƒ<br>Mac OS X 10.7 â€“ 10.8ï¼šsudo killall -HUP mDNSResponder</p><p>Mac OS X 10.5 â€“ 10.6ï¼šdscacheutil -flushcache</p><p>Mac OS X 10.4ï¼šlookupd -flushcache</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mavenæ ‡ç­¾é‚£äº›äº‹</title>
      <link href="/2022/08/22/maven%E6%A0%87%E7%AD%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/"/>
      <url>/2022/08/22/maven%E6%A0%87%E7%AD%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/</url>
      
        <content type="html"><![CDATA[<p>maven</p><span id="more"></span><h4 id="dependencie"><a href="#dependencie" class="headerlink" title="dependencie"></a>dependencie</h4><h4 id="groupId"><a href="#groupId" class="headerlink" title="groupId*"></a>groupId<font color="red">*</font></h4><p>ä¸€èˆ¬éƒ½æ˜¯å…¬å¸çš„æ ‡è¯†ï¼Œæ¯”å¦‚com.alibaba</p><h4 id="artifactId"><a href="#artifactId" class="headerlink" title="artifactId*"></a>artifactId<font color="red">*</font></h4><p>é¡¹ç›®åç§°ï¼Œæ¯”å¦‚ fastjsonï¼Œmysql</p><h4 id="version"><a href="#version" class="headerlink" title="version*"></a>version<font color="red">*</font></h4><p>ç‰ˆæœ¬å·</p><h4 id="scope"><a href="#scope" class="headerlink" title="scope"></a>scope</h4><p>ç”¨äºæ ‡æ³¨ä¾èµ–çš„èŒƒå›´</p><p><strong>compile</strong></p><p>é»˜è®¤å€¼ï¼›compileè¡¨ç¤ºè¢«ä¾èµ–åŒ…éœ€è¦å‚ä¸å½“å‰é¡¹ç›®çš„ç¼–è¯‘ï¼ŒåŒ…æ‹¬åç»­çš„æµ‹è¯•ï¼Œè¿è¡Œå‘¨æœŸä¹Ÿå‚ä¸å…¶ä¸­ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¼ºçš„ä¾èµ–ï¼›æ‰“åŒ…çš„æ—¶å€™é€šå¸¸éœ€è¦</p><p><strong>provided</strong></p><p>ç±»å‹çš„scopeåªä¼šåœ¨é¡¹ç›®çš„<code>ç¼–è¯‘</code>ã€<code>æµ‹è¯•</code>é˜¶æ®µèµ·ä½œç”¨ï¼›å¯ä»¥è®¤ä¸ºåœ¨ç›®æ ‡å®¹å™¨ä¸­å·²ç»æä¾›äº†è¿™ä¸ªä¾èµ–ï¼Œæ— éœ€åœ¨æä¾›ï¼Œä½†æ˜¯åœ¨ç¼–å†™ä»£ç æˆ–è€…ç¼–è¯‘æ—¶å¯èƒ½ä¼šç”¨åˆ°è¿™ä¸ªä¾èµ–ï¼›<code>ä¾èµ–ä¸ä¼šè¢«æ‰“å…¥åˆ°é¡¹ç›®jaråŒ…ä¸­</code>ã€‚</p><p><strong>runtime</strong></p><p><code>runtime</code>ä¸<code>compile</code>æ¯”è¾ƒç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äº<code>runtime</code> è·³è¿‡äº†<code>ç¼–è¯‘</code>é˜¶æ®µï¼Œæ‰“åŒ…çš„æ—¶å€™é€šå¸¸éœ€è¦åŒ…å«è¿›å»ã€‚</p><p><strong>test</strong></p><p>åœ¨ä¸€èˆ¬çš„ç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¸éœ€è¦ï¼Œå®ƒä»¬åªæœ‰åœ¨æµ‹è¯•ç¼–è¯‘å’Œæµ‹è¯•è¿è¡Œé˜¶æ®µå¯ç”¨ï¼Œ<code>ä¸ä¼šè¢«æ‰“åŒ…åˆ°é¡¹ç›®jaråŒ…ä¸­</code>ï¼ŒåŒæ—¶å¦‚æœé¡¹ç›®Aä¾èµ–äºé¡¹ç›®Bï¼Œé¡¹ç›®Bä¸­çš„<code>test</code>ä½œç”¨åŸŸä¸‹çš„ä¾èµ–ä¸ä¼šè¢«ç»§æ‰¿ã€‚</p><p><strong>system</strong></p><p>è¡¨ç¤ºä½¿ç”¨æœ¬åœ°ç³»ç»Ÿè·¯å¾„ä¸‹çš„jaråŒ…ï¼Œéœ€è¦å’Œä¸€ä¸ªsystemPathä¸€èµ·ä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼•ç”¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xxxx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>$&#123;basedir&#125;/lib/xxxxx.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>import</strong></p><p><code>import</code> åªèƒ½åœ¨pomæ–‡ä»¶çš„<code>&lt;dependencyManagement&gt;</code>ä¸­ä½¿ç”¨,ä»è€Œå¼•å…¥å…¶ä»–çš„pomæ–‡ä»¶ä¸­å¼•å…¥ä¾èµ–</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wireguardä½¿ç”¨è®°å½•</title>
      <link href="/2022/08/19/wireguard%E4%BD%BF%E7%94%A8/"/>
      <url>/2022/08/19/wireguard%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>mac wireguardä½¿ç”¨è®°å½•è¯¦è§£</p><span id="more"></span><h5 id="å®‰è£…ï¼š"><a href="#å®‰è£…ï¼š" class="headerlink" title="å®‰è£…ï¼š"></a>å®‰è£…ï¼š</h5><p>sudo brew install wireguard-tools</p><h5 id="åŸºæœ¬é…ç½®ï¼š"><a href="#åŸºæœ¬é…ç½®ï¼š" class="headerlink" title="åŸºæœ¬é…ç½®ï¼š"></a>åŸºæœ¬é…ç½®ï¼š</h5><h6 id="åˆ›å»ºæ–‡ä»¶å¤¹-ä»¥ç®¡ç†å‘˜èº«ä»½"><a href="#åˆ›å»ºæ–‡ä»¶å¤¹-ä»¥ç®¡ç†å‘˜èº«ä»½" class="headerlink" title="åˆ›å»ºæ–‡ä»¶å¤¹ (ä»¥ç®¡ç†å‘˜èº«ä»½)"></a>åˆ›å»ºæ–‡ä»¶å¤¹ (ä»¥ç®¡ç†å‘˜èº«ä»½)</h6><p>sudo mkdir &#x2F;etc&#x2F;wireguard</p><h6 id="è®¾ç½®æ–‡ä»¶å¤¹æƒé™-ä»¥ç®¡ç†å‘˜èº«ä»½"><a href="#è®¾ç½®æ–‡ä»¶å¤¹æƒé™-ä»¥ç®¡ç†å‘˜èº«ä»½" class="headerlink" title="è®¾ç½®æ–‡ä»¶å¤¹æƒé™ (ä»¥ç®¡ç†å‘˜èº«ä»½)"></a>è®¾ç½®æ–‡ä»¶å¤¹æƒé™ (ä»¥ç®¡ç†å‘˜èº«ä»½)</h6><p>sudo chmod 777  &#x2F;etc&#x2F;wireguard</p><h6 id="åˆ‡å…¥åˆ°åˆ›å»ºçš„ç›®å½•ä¸‹"><a href="#åˆ‡å…¥åˆ°åˆ›å»ºçš„ç›®å½•ä¸‹" class="headerlink" title="åˆ‡å…¥åˆ°åˆ›å»ºçš„ç›®å½•ä¸‹"></a>åˆ‡å…¥åˆ°åˆ›å»ºçš„ç›®å½•ä¸‹</h6><p>cd &#x2F;etc&#x2F;wireguard</p><h6 id="ç”Ÿæˆå…¬é’¥ä¸ç§é’¥"><a href="#ç”Ÿæˆå…¬é’¥ä¸ç§é’¥" class="headerlink" title="ç”Ÿæˆå…¬é’¥ä¸ç§é’¥"></a>ç”Ÿæˆå…¬é’¥ä¸ç§é’¥</h6><p>wg genkey | tee privatekey | wg pubkey &gt; publickey</p><h5 id="vpné…ç½®"><a href="#vpné…ç½®" class="headerlink" title="vpné…ç½®"></a>vpné…ç½®</h5><h6 id="åˆ›å»ºè™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºè™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶"></a>åˆ›å»ºè™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶</h6><p>touch wg0.conf  (åå­—è‡ªå®šä¹‰,æœ€å¥½è·Ÿå…¶ä»–æ–‡ä»¶æ”¾åˆ°ä¸€èµ·)</p><h6 id="æŸ¥çœ‹é…ç½®"><a href="#æŸ¥çœ‹é…ç½®" class="headerlink" title="æŸ¥çœ‹é…ç½®"></a>æŸ¥çœ‹é…ç½®</h6><p>wg-quick strip wg0 </p><h6 id="ç¼–è¾‘è™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶å†…å®¹"><a href="#ç¼–è¾‘è™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶å†…å®¹" class="headerlink" title="ç¼–è¾‘è™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶å†…å®¹"></a>ç¼–è¾‘è™šæ‹Ÿç½‘å¡é…ç½®æ–‡ä»¶å†…å®¹</h6><p>vi wg0.confï¼ˆè¿›å¦‚ä½ é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œæˆ–è€…ç»å¯¹è·¯å¾„ï¼‰</p><p>ç¤ºä¾‹ï¼š</p><p>åœ¨wg0.confæ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œä¿æŒå¯ç”¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">Address = 10.130.222.3/32</span><br><span class="line">PrivateKey = å®¢æˆ·ç«¯çš„ç§é’¥ï¼ˆåˆšåˆšç”Ÿæˆçš„privatekeyæ–‡ä»¶çš„å†…å®¹ï¼‰</span><br><span class="line">DNS = 10.130.222.1</span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = æœåŠ¡å™¨çš„å…¬é’¥(éœ€è¦å»æœåŠ¡å™¨æŸ¥çœ‹æœåŠ¡å™¨çš„å…¬é’¥)</span><br><span class="line">Endpoint = æœåŠ¡å™¨çš„ç‰©ç†ipåœ°å€:41821</span><br><span class="line">AllowedIPs = 0.0.0.0/0</span><br><span class="line">PersistentKeepalive = 21</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="å¯åŠ¨å®¢æˆ·ç«¯çš„ç½‘å¡"><a href="#å¯åŠ¨å®¢æˆ·ç«¯çš„ç½‘å¡" class="headerlink" title="å¯åŠ¨å®¢æˆ·ç«¯çš„ç½‘å¡"></a>å¯åŠ¨å®¢æˆ·ç«¯çš„ç½‘å¡</h5><p>wg-quick up wg0ï¼ˆwg0ä¸ºä½ é…ç½®çš„ç½‘å¡æ–‡ä»¶åï¼‰</p><h5 id="åœæ­¢ç½‘å¡cwg-quick-down-wg0"><a href="#åœæ­¢ç½‘å¡cwg-quick-down-wg0" class="headerlink" title="åœæ­¢ç½‘å¡cwg-quick down wg0"></a>åœæ­¢ç½‘å¡cwg-quick down wg0</h5><p>wg-quick down wg0 </p><h5 id="æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å‘½ä»¤"><a href="#æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å‘½ä»¤"></a>æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„å‘½ä»¤</h5><p> wg-quick </p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> wireguard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå¼‚å¸¸å¤„ç†</title>
      <link href="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"/>
      <url>/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>javaå¼‚å¸¸å¤„ç†è¯¦è§£</p><span id="more"></span><h4 id="ä¸€ã€å¼‚å¸¸ä»‹ç»"><a href="#ä¸€ã€å¼‚å¸¸ä»‹ç»" class="headerlink" title="ä¸€ã€å¼‚å¸¸ä»‹ç»"></a>ä¸€ã€å¼‚å¸¸ä»‹ç»</h4><h5 id="ä»€ä¹ˆæ˜¯å¼‚å¸¸"><a href="#ä»€ä¹ˆæ˜¯å¼‚å¸¸" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼‚å¸¸"></a>ä»€ä¹ˆæ˜¯å¼‚å¸¸</h5><p>å¼‚å¸¸æ˜¯æŒ‡ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„ï¼Œç”±äºå¤–éƒ¨é—®é¢˜å¯¼è‡´çš„ç¨‹åºè¿è¡Œå¼‚å¸¸äº‹ä»¶ï¼Œå¼‚å¸¸çš„å‘ç”Ÿå¾€å¾€ä¼šä¸­æ–­ç¨‹åºçš„è¿è¡Œã€‚åœ¨ Java é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä¸‡ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œå¼‚å¸¸æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç¨‹åºå‘ç”Ÿå¼‚å¸¸å°±ä¼šäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ã€‚</p><h5 id="å¼‚å¸¸å¸¸è§åŸå› "><a href="#å¼‚å¸¸å¸¸è§åŸå› " class="headerlink" title="å¼‚å¸¸å¸¸è§åŸå› "></a>å¼‚å¸¸å¸¸è§åŸå› </h5><p>1.javaå†…éƒ¨å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯javaè™šæ‹Ÿæœºè‡ªèº«äº§ç”Ÿäº†å¼‚å¸¸</p><p>2.ä»£ç ä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼Œä¾‹å¦‚å¸¸è§çš„<font color="red">ç©ºæŒ‡é’ˆï¼Œæ•°ç»„è¶Šç•Œ</font></p><p>3.throwæˆ‘ä»¬æ•è·çš„å¼‚å¸¸ï¼Œå¯ä»¥é’ˆå¯¹æ•è·çš„å¼‚å¸¸ï¼Œåšä¸€äº›è‡ªå®šä¹‰çš„å¤„ç†ï¼Œæ¯”å¦‚å°è£…ä¸€ä¸ªæœ‰å¥½çš„æç¤ºï¼Œæˆ–è€…ä¾‹å¦‚æ•è·ç±»ä¼¼è¶…æ—¶çš„å¼‚å¸¸ä»¥åå»é‡æ–°å°è¯•è°ƒç”¨</p><h5 id="å¼‚å¸¸åˆ†ç±»"><a href="#å¼‚å¸¸åˆ†ç±»" class="headerlink" title="å¼‚å¸¸åˆ†ç±»"></a>å¼‚å¸¸åˆ†ç±»</h5><p><img src="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/image-20220810113511439-0102516.png" alt="image-20220810113511439"></p><h6 id="Throwable"><a href="#Throwable" class="headerlink" title="Throwable"></a>Throwable</h6><p><strong>æ¦‚å¿µï¼š</strong></p><p>1.Throwableæ˜¯javaä¸­æ‰€æœ‰é”™è¯¯è·Ÿå¼‚å¸¸çš„é¡¶å±‚ç±»ï¼Œå…¶ä»–å¼‚å¸¸ç±»ä¹Ÿéƒ½æ˜¯ç»§æ‰¿è‡ªè¯¥ç±»ã€‚ä¹Ÿå°±æ˜¯åªæœ‰å½“å¯¹è±¡æ˜¯æ­¤ç±»æˆ–å…¶å­ç±»çš„å®ä¾‹æ—¶ï¼Œæ‰èƒ½é€šè¿‡ Java è™šæ‹Ÿæœºæˆ–è€… Java throw è¯­å¥æŠ›å‡º</p><p>2.Throwable å¯¹è±¡ä¸­åŒ…å«äº†å…¶çº¿ç¨‹åˆ›å»ºæ—¶çº¿ç¨‹æ‰§è¡Œå †æ ˆçš„å¿«ç…§ï¼Œå®ƒè¿˜åŒ…å«äº†ç»™å‡ºæœ‰å…³é”™è¯¯æ›´å¤šä¿¡æ¯çš„æ¶ˆæ¯å­—ç¬¦ä¸²</p><h6 id="Error"><a href="#Error" class="headerlink" title="Error"></a><strong>Error</strong></h6><p><strong>æ¦‚å¿µï¼š</strong></p><p>Error æ˜¯ Throwable çš„å­ç±»ï¼ŒError æ˜¯ç¨‹åºè¿è¡Œæ—¶æ— æ³•å¤„ç†çš„ä¸¥é‡é”™è¯¯ã€‚</p><p>æŒ‰ç…§è§„èŒƒæ¥è¯´ï¼Œä¸åº”è¯¥å»æ•è·è¯¥å¼‚å¸¸ï¼Œä½ æ•è·äº†ä¹Ÿä»€ä¹ˆéƒ½åšä¸äº†ã€‚ä½ å½“å‰çš„ç³»ç»Ÿå·²ç»æœ‰äº†è‡´å‘½é”™è¯¯ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯ JVM é”™è¯¯ï¼Œå¦‚å †æ ˆæº¢å‡ºã€‚</p><h6 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h6><p><strong>éè¿è¡Œæ—¶å¼‚å¸¸ï¼š</strong></p><p>æ˜¯åœ¨ä½ é¡¹ç›®å¯åŠ¨æˆ–è€…ç¼–è¯‘æ—¶å€™ï¼ŒæŠ›å‡ºã€‚è¯­æ³•é”™è¯¯ï¼Œæˆ–è€…æ˜¯æŸäº›é…ç½®æœ‰é—®é¢˜ï¼Œä¸€èˆ¬æ˜¯æ¯”è¾ƒæ˜ç¡®çš„ï¼Œä½ ä¸å¤„ç†ï¼Œä½ é¡¹ç›®ä¹Ÿè·‘ä¸èµ·æ¥</p><p><strong>è¿è¡Œæ—¶å¼‚å¸¸ï¼š</strong></p><p>æœ€å¸¸è§çš„å¼‚å¸¸ï¼Œä»£ç è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¦‚ NullPointerExceptionã€IndexOutOfBoundsException ç­‰ï¼Œè¿™äº›å¼‚å¸¸æ˜¯ä¸æ£€æŸ¥å¼‚å¸¸ï¼Œç¨‹åºä¸­å¯ä»¥é€‰æ‹©æ•è·å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ã€‚è¿™äº›å¼‚å¸¸ä¸€èˆ¬ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·ï¼Œç¨‹åºåº”è¯¥ä»é€»è¾‘è§’åº¦å°½å¯èƒ½é¿å…è¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿã€‚</p><p>æˆ‘ä»¬ä¸€èˆ¬è¯´çš„å¼‚å¸¸å¤„ç†ã€æ•è·ï¼Œä¸€èˆ¬å°±æ˜¯æŒ‡å°±æ˜¯å¤„ç†è¿™ä¸€å—çš„å¼‚å¸¸</p><h5 id="ä¸€ä¸ªç®€å•çš„å¼‚å¸¸ç¤ºä¾‹"><a href="#ä¸€ä¸ªç®€å•çš„å¼‚å¸¸ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªç®€å•çš„å¼‚å¸¸ç¤ºä¾‹"></a>ä¸€ä¸ªç®€å•çš„å¼‚å¸¸ç¤ºä¾‹</h5><h6 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="type">Test</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        System.out.println(t1.a);</span><br><span class="line">        System.out.println(t2.a);</span><br><span class="line">        System.out.println(t1.c());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">c</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ccc&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h6><p>è¾“å‡ºt1.aä»¥åt2.aå› ä¸ºt2æ˜¯ä¸€ä¸ªnullå®é™…ï¼Œæ‰€ä»¥ç©ºæŒ‡é’ˆæŠ¥é”™ï¼Œè¡Œæ•°12è¡Œï¼Œç¨‹åºä¹Ÿå°±ç»ˆæ­¢äº†</p><p><img src="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/image-20220810140143928.png" alt="image-20220810140143928"></p><h4 id="ä¸‰ã€å¼‚å¸¸å¤„ç†æœºåˆ¶"><a href="#ä¸‰ã€å¼‚å¸¸å¤„ç†æœºåˆ¶" class="headerlink" title="ä¸‰ã€å¼‚å¸¸å¤„ç†æœºåˆ¶"></a>ä¸‰ã€å¼‚å¸¸å¤„ç†æœºåˆ¶</h4><h5 id="1-å¸¸ç”¨æ–¹å¼"><a href="#1-å¸¸ç”¨æ–¹å¼" class="headerlink" title="1.å¸¸ç”¨æ–¹å¼"></a>1.å¸¸ç”¨æ–¹å¼</h5><ul><li>ä½¿ç”¨<strong>tryâ€¦catchâ€¦finallyâ€¦ã€</strong> è¯­å¥å—å¤„ç†</li><li>åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ <strong>ã€Œthrows&#x2F;throwã€</strong> å…³é”®è¯å°†å¼‚å¸¸äº¤ç»™æ–¹æ³•è°ƒç”¨è€…å»å¤„ç†ï¼ˆå°½é‡ä¸è¦åœ¨æœ€å¤–å±‚æŠ›å‡ºï¼‰</li></ul><h5 id="2-tryâ€¦catchâ€¦finallyâ€¦-å…³é”®å­—"><a href="#2-tryâ€¦catchâ€¦finallyâ€¦-å…³é”®å­—" class="headerlink" title="2.tryâ€¦catchâ€¦finallyâ€¦ å…³é”®å­—"></a>2.<strong>tryâ€¦catchâ€¦finallyâ€¦ å…³é”®å­—</strong></h5><h6 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException ioException) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception exception) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="try"><a href="#try" class="headerlink" title="try"></a>try</h6><ul><li><p>æ”¾ä½ è¦æ‰§è¡Œçš„ä»£ç </p></li><li><p>å¦‚æœtryé¡ºåˆ©æ‰§è¡Œå®Œæ²¡æœ‰å¼‚å¸¸ï¼Œä»–ä¼šæ‰§è¡Œä½ <code>try</code>åé¢<code>finally</code>ä¸­çš„and<code>finally</code>åé¢çš„ä»£ç ã€‚</p></li><li><p>å¦‚æœæ‰§è¡ŒæŠ›å‡ºå¼‚å¸¸ï¼Œä»–ä¼šå»åŒ¹é…<code>catch</code>ï¼Œæ‰§è¡Œå®Œ<code>catch</code>ç¨‹åºæ‰§è¡Œ<code>finally</code>å—</p></li></ul><h6 id="catch"><a href="#catch" class="headerlink" title="catch"></a>catch</h6><ul><li>è·Ÿåœ¨<code>try</code>å—çš„åé¢ï¼Œå¯ä»¥æœ‰å¤šä¸ª<code>catch</code>å—ä¸”å•ä¸ª<code>catch</code>å¯ä»¥æŒ‡å®šæ•è·å¤šç§ç±»å¼‚å¸¸</li><li>ä½ åº”è¯¥åœ¨è¿™é‡Œæˆªæ­¢ç¨‹åºï¼Œé¿å…ç¨‹åºå‡ºç°æ›´å¤šé—®é¢˜</li><li>å¦‚æœ<code>try</code>è¿è¡Œæ²¡æœ‰å¼‚å¸¸ï¼Œæ‰€æœ‰çš„<code>catch</code>å—éƒ½ä¼šè¢«è·³è¿‡</li><li>å„ä¸ª<code>catch</code>å—æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œé‡Œé¢å˜é‡éƒ½æ˜¯å±€éƒ¨å˜é‡ï¼Œä¸å¯å…±äº«</li><li>åŒ¹é…æ–¹å¼æ˜¯é¡ºåºçš„ï¼Œè‡ªä¸Šè€Œä¸‹</li><li>å‘ç”Ÿçš„å¼‚å¸¸<code>catch</code>åŒ¹é…ä¸åˆ°çš„è¯ï¼Œåˆ™ä¼šç›´æ¥æ‰§è¡Œ<code>finally</code>,å¼‚å¸¸ä¼šæŠ›ç»™å¤–å±‚è°ƒç”¨æ–¹</li><li>æ³¨æ„ï¼šä¸€èˆ¬å¤–å±‚ä¾‹å¦‚Controllerå±‚ï¼Œcatchæœ€åä¸€å±‚å»ºè®®ç›´æ¥å¤šæ•è·ä¸€å±‚ï¼Œç›´æ¥æ•è·è¶…ç±»<code>Exception</code>æˆ–è€…<code>RuntimeException</code>(è¿è¡Œæ—¶å¼‚å¸¸)ç”¨æ¥å…œåº•ã€‚</li></ul><h6 id="finally"><a href="#finally" class="headerlink" title="**finally **"></a>**finally **</h6><ul><li>finallyå—ä¸æ˜¯å¿…é¡»çš„ï¼Œé€šå¸¸æ˜¯å¯é€‰çš„</li><li>æ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œå¼‚å¸¸æ˜¯å¦åŒ¹é…è¢«å¤„ç†ï¼Œfinallyä¸­çš„ä»£ç éƒ½ä¼šæ‰§è¡Œã€‚</li><li>inallyå—ä¸ç®¡å¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œåªè¦å¯¹åº”çš„tryæ‰§è¡Œäº†ï¼Œåˆ™å®ƒä¸€å®šä¹Ÿæ‰§è¡Œã€‚åªæœ‰ä¸€ç§æ–¹æ³•è®©finallyå—ä¸æ‰§è¡Œï¼š<strong>ã€ŒSystem.exit()ã€</strong></li></ul><h5 id="3-tryâ€¦catchç¤ºä¾‹"><a href="#3-tryâ€¦catchç¤ºä¾‹" class="headerlink" title="3.tryâ€¦catchç¤ºä¾‹"></a>3.tryâ€¦catchç¤ºä¾‹</h5><h6 id="ç¤ºä¾‹1ä»£ç æ­£å¸¸æ‰§è¡Œæ— å¼‚å¸¸"><a href="#ç¤ºä¾‹1ä»£ç æ­£å¸¸æ‰§è¡Œæ— å¼‚å¸¸" class="headerlink" title="ç¤ºä¾‹1ä»£ç æ­£å¸¸æ‰§è¡Œæ— å¼‚å¸¸"></a>ç¤ºä¾‹1ä»£ç æ­£å¸¸æ‰§è¡Œæ— å¼‚å¸¸</h6><p>æ‰§è¡Œé¡ºåºï¼š</p><p>try&gt;finally&gt;å¤–å±‚ä»£ç </p><p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;tryä¸­ä»£ç &quot;</span>);</span><br><span class="line">            <span class="type">Test</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">            <span class="type">Test</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            System.out.println(t1.a);</span><br><span class="line"><span class="comment">//            System.out.println(t2.a);</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;catchç©ºæŒ‡é’ˆå¼‚å¸¸æ•è·&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ•è·æ‰€æœ‰è¿è¡Œæ—¶Exception&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;finallyæ‰§è¡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆåŠŸæ‰§è¡Œ&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/image-20220810144809934.png" alt="image-20220810144809934"></p><h6 id="ç¤ºä¾‹2ä»£ç æ­£å¸¸æ‰§è¡Œè¢«æ•è·"><a href="#ç¤ºä¾‹2ä»£ç æ­£å¸¸æ‰§è¡Œè¢«æ•è·" class="headerlink" title="ç¤ºä¾‹2ä»£ç æ­£å¸¸æ‰§è¡Œè¢«æ•è·"></a>ç¤ºä¾‹2ä»£ç æ­£å¸¸æ‰§è¡Œè¢«æ•è·</h6><p>æ‰§è¡Œé¡ºåºï¼š</p><p>try&gt;catch&gt;finally</p><p>ç¤ºä¾‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;tryä¸­ä»£ç &quot;</span>);</span><br><span class="line">            <span class="type">Test</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            System.out.println(t2.a);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;catchç©ºæŒ‡é’ˆå¼‚å¸¸æ•è·&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ•è·æ‰€æœ‰è¿è¡Œæ—¶Exception&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;finallyæ‰§è¡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/image-20220810145525658.png" alt="image-20220810145525658"></p><h6 id="ç¤ºä¾‹3ä»£ç è°ƒç”¨å¤–å±‚æ•è·"><a href="#ç¤ºä¾‹3ä»£ç è°ƒç”¨å¤–å±‚æ•è·" class="headerlink" title="ç¤ºä¾‹3ä»£ç è°ƒç”¨å¤–å±‚æ•è·"></a>ç¤ºä¾‹3<strong>ä»£ç è°ƒç”¨å¤–å±‚æ•è·</strong></h6><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            c();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;catchç©ºæŒ‡é’ˆå¼‚å¸¸æ•è·&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IndexOutOfBoundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;catchæ•°ç»„è¶Šç•Œå¼‚å¸¸æ•è·&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ•è·æ‰€æœ‰è¿è¡Œæ—¶Exception&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å…¥å£ç±»finallyæ‰§è¡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">c</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            list.add(<span class="string">&quot;ä¸€&quot;</span>);</span><br><span class="line">            System.out.println(list.get(<span class="number">1</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;catchç©ºæŒ‡é’ˆå¼‚å¸¸æ•è·&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ–¹æ³•cï¼ˆï¼‰finallyæ‰§è¡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;c&quot;</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/image-20220810151043622.png" alt="image-20220810151043622"></p><p>åˆ†æï¼š</p><p>mainå…¥å£è°ƒç”¨çš„<code>c()</code>è¿™ä¸ªæ–¹æ³•ï¼Œå¾ˆæ˜æ˜¾ä¼šæŠ›å‡ºæ•°æ®è¶Šç•Œå¼‚å¸¸ã€‚ä½†æ˜¯æ–¹æ³•<code>cï¼ˆï¼‰</code>ä¸­çš„<code>catch</code>å—åŒ¹é…ä¸åˆ°æŠ¥é”™çš„å¼‚å¸¸ï¼Œæ‰€ä»¥åªæ‰§è¡Œäº†<code>finally</code>å—ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸ç”±è°ƒç”¨å…¥å£åŒ¹é…</p><h5 id="4-throws-throw-å…³é”®å­—"><a href="#4-throws-throw-å…³é”®å­—" class="headerlink" title="4.throws&#x2F;throw å…³é”®å­—"></a>4.<strong>throws&#x2F;throw å…³é”®å­—</strong></h5><h6 id="throws"><a href="#throws" class="headerlink" title="throws"></a><strong>throws</strong></h6><ul><li>å‘å¤–æŠ›å‡ºå¼‚å¸¸ï¼ŒæŠ›å‘è°ƒç”¨æ–¹</li><li>å†™åœ¨æ¥å£ç±»å‚æ•°çš„åé¢ï¼Œåé¢éœ€è¦æŒ‡å®šæŠ›å‡ºçš„å¼‚å¸¸å¯ä»¥æ˜¯å¤šä¸ª</li><li>throws ä¹Ÿæ˜¯ä¸€ç§å¤„ç†å¼‚å¸¸çš„æ–¹å¼ï¼Œå®ƒä¸åŒäºtryâ€¦catchâ€¦finallyâ€¦ï¼Œthrows å…³é”®å­—ä»…ä»…æ˜¯å°†æ–¹æ³•ä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸å‘è°ƒç”¨è€…æŠ›å‡ºï¼Œè€Œè‡ªå·±åˆ™ä¸å…·ä½“å¤„ç†ã€‚</li><li>ä½ æŠ›å‡ºçš„å¼‚å¸¸ï¼Œä½ çš„è°ƒç”¨æ–¹å¿…é¡»è¦å¤„ç†ä½ æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå½“ç„¶ä»–ä¹Ÿå¯ä»¥æŠ›å‡ºå»ï¼Œç»™ä»–çš„è°ƒç”¨æ–¹ã€‚ä½ ä¸å¤„ç†ç¼–è¯‘æ˜¯ä¸é€šè¿‡çš„ï¼Œç›´åˆ°æœ€å¤–å±‚ã€‚æ²¡å…¶ä»–æ¥å£è°ƒç”¨ï¼Œå‰ç«¯è°ƒç”¨çš„è¯ï¼ŒæŠ›ç»™å‰ç«¯ï¼Œå†åˆ°ç”¨æˆ·ã€‚</li></ul><p>è¯­æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">c</span><span class="params">()</span> <span class="keyword">throws</span> NullPointerException, IOException &#123;&#125;</span><br></pre></td></tr></table></figure><h6 id="throw"><a href="#throw" class="headerlink" title="throw"></a><strong>throw</strong></h6><ul><li>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ throw è¯­å¥æ‰‹åŠ¨æ˜¾å¼çš„æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œthrowè¯­å¥çš„åé¢å¿…é¡»æ˜¯ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡</li></ul><p>è¯­æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;æŠ›å‡ºå¼‚å¸¸&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å››ã€è‡ªå®šä¹‰å¼‚å¸¸"><a href="#å››ã€è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="å››ã€è‡ªå®šä¹‰å¼‚å¸¸"></a>å››ã€è‡ªå®šä¹‰å¼‚å¸¸</h4><p>Java çš„å¼‚å¸¸æœºåˆ¶ä¸­æ‰€å®šä¹‰çš„æ‰€æœ‰å¼‚å¸¸ä¸å¯èƒ½é¢„è§æ‰€æœ‰å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼ŒæŸäº›ç‰¹å®šçš„æƒ…å¢ƒä¸‹ï¼Œåˆ™éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹æ¥å‘ä¸ŠæŠ¥å‘ŠæŸäº›é”™è¯¯ä¿¡æ¯ã€‚</p><h5 id="ç»§æ‰¿æ–¹å¼"><a href="#ç»§æ‰¿æ–¹å¼" class="headerlink" title="ç»§æ‰¿æ–¹å¼"></a>ç»§æ‰¿æ–¹å¼</h5><p>å¼‚å¸¸æœ¬èº«å°±æ˜¯ä¸€ä¸ªç±»ï¼Œä½ å¯ä»¥é€‰æ‹©ç»§æ‰¿ Throwableï¼ŒException æˆ–å®ƒä»¬çš„å­ç±»ã€‚</p><p><strong>æŒ‰ç…§è§„èŒƒï¼Œè‡ªå®šä¹‰çš„å¼‚å¸¸åº”è¯¥æ€»æ˜¯åŒ…å«å¦‚ä¸‹çš„æ„é€ å‡½æ•°ï¼š</strong></p><ul><li>ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°</li><li>ä¸€ä¸ªå¸¦æœ‰Stringå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¼ é€’ç»™çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚</li><li>ä¸€ä¸ªå¸¦æœ‰Stringå‚æ•°å’ŒThrowableå‚æ•°ï¼Œå¹¶éƒ½ä¼ é€’ç»™çˆ¶ç±»æ„é€ å‡½æ•°</li><li>ä¸€ä¸ªå¸¦æœ‰Throwable å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¼ é€’ç»™çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚</li></ul><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyError</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyError</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyError</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyError</span><span class="params">(String message, Throwable cause)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message, cause);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyError</span><span class="params">(Throwable cause)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(cause);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> MyError &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MyError</span>(<span class="string">&quot;é•¿å¾—å¤ªä¸‘äº†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src="/2022/08/10/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/image-20220810160136986.png" alt="image-20220810160136986"></p><h4 id="äº”ã€å¼‚å¸¸çš„æ³¨æ„äº‹é¡¹"><a href="#äº”ã€å¼‚å¸¸çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="äº”ã€å¼‚å¸¸çš„æ³¨æ„äº‹é¡¹"></a>äº”ã€<strong>å¼‚å¸¸çš„æ³¨æ„äº‹é¡¹</strong></h4><p>1.å½“å­ç±»é‡å†™çˆ¶ç±»å¸¦æœ‰<code>throws</code>å£°æ˜çš„å‡½æ•°çš„æ—¶å€™ï¼Œä¸å¯å¤§äºçˆ¶ç±»å¯å¤„ç†çš„å¼‚å¸¸</p><p>2.Javaç¨‹åºå¯ä»¥æ˜¯å¤šçº¿ç¨‹çš„ã€‚æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ‰§è¡Œæµï¼Œç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨æ ˆã€‚å¦‚æœç¨‹åºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆæ²¡æœ‰è¢«ä»»ä½•ä»£ç å¤„ç†çš„å¼‚å¸¸ ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚å¦‚æœæ˜¯å¤šçº¿ç¨‹çš„ï¼Œé‚£ä¹ˆæ²¡æœ‰è¢«ä»»ä½•ä»£ç å¤„ç†çš„å¼‚å¸¸ä»…ä»…ä¼šå¯¼è‡´å¼‚å¸¸æ‰€åœ¨çš„çº¿ç¨‹ç»“æŸã€‚</p><p>3.ä¸åº”è¯¥æŠŠå¼‚å¸¸åç»™ç”¨æˆ·ï¼Œè¿™æ˜¯æ— æ„ä¹‰çš„ã€‚å…œåº•æ•è·å¼‚å¸¸è¿”å›ä¸€ä¸ªå‹å¥½æç¤ºæ‰æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springäº‹åŠ¡@Transactionalè¯¦è§£</title>
      <link href="/2022/08/09/spring%E4%BA%8B%E5%8A%A1-Transactional-%E8%AF%A6%E8%A7%A3/"/>
      <url>/2022/08/09/spring%E4%BA%8B%E5%8A%A1-Transactional-%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>æœ¬åœ°äº‹åŠ¡ä¹‹Transactionalè¯¦è§£</p><span id="more"></span><h5 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="&#x3D;&#x3D;å‰è¨€&#x3D;&#x3D;"></a><strong>&#x3D;&#x3D;å‰è¨€&#x3D;&#x3D;</strong></h5><p><font color="blue">1.springæœ¬åœ°äº‹åŠ¡æ˜¯ä½œç”¨äºæœ¬åœ°çš„ï¼Œä¸æ”¯æŒè·¨åº“è·¨ç³»ç»Ÿ</font></p><p><font color="red">2.å¼€å§‹ä¹‹å‰ï¼Œå»ºè®®å…ˆå­¦ä¹ mysqläº‹åŠ¡</font><br>ç‚¹å‡»è·³è½¬-&gt;<a href="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/" title="mysqläº‹åŠ¡">mysqläº‹åŠ¡</a></p><h5 id="Transactionaläº‹åŠ¡"><a href="#Transactionaläº‹åŠ¡" class="headerlink" title="Transactionaläº‹åŠ¡"></a>Transactionaläº‹åŠ¡</h5><p>1.@Transactionalæ˜¯å£°æ˜å¼äº‹åŠ¡ç®¡ç† ç¼–ç¨‹ä¸­ä½¿ç”¨çš„æ³¨è§£</p><p>2.@Transactional å®è´¨æ˜¯ä½¿ç”¨äº† JDBC çš„äº‹åŠ¡æ¥è¿›è¡Œäº‹åŠ¡æ§åˆ¶çš„</p><p>3.@Transactional åŸºäº Spring çš„åŠ¨æ€ä»£ç†çš„æœºåˆ¶</p><h5 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h5><p>Transactionalå®ç°æ˜¯é€šè¿‡<code>AOP</code>å®ç°çš„</p><h6 id="äº‹åŠ¡å¼€å§‹æ—¶ï¼š"><a href="#äº‹åŠ¡å¼€å§‹æ—¶ï¼š" class="headerlink" title="äº‹åŠ¡å¼€å§‹æ—¶ï¼š"></a>äº‹åŠ¡å¼€å§‹æ—¶ï¼š</h6><p>äº‹åŠ¡å¼€å§‹æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªä»£ç†çš„connectionå¯¹è±¡ï¼Œå¹¶å°†å…¶æ”¾å…¥ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œå®¢æˆ·ä»£ç éƒ½åº”è¯¥ä½¿ç”¨è¯¥ connection è¿æ¥æ•°æ®åº“</p><h5 id="æ·»åŠ ä½ç½®"><a href="#æ·»åŠ ä½ç½®" class="headerlink" title="æ·»åŠ ä½ç½®"></a>æ·»åŠ ä½ç½®</h5><p>1.æ¥å£å®ç°ç±»</p><p>2.publicä¿®é¥°çš„æ–¹æ³•ä¸Š</p><h5 id="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡çš„éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"></a><strong>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</strong></h5><p>è§£é‡Šï¼šæ˜¯æŒ‡è‹¥å¹²ä¸ªå¹¶å‘çš„äº‹åŠ¡ä¹‹é—´çš„éš”ç¦»ç¨‹åº¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. @Transactional(isolation = Isolation.READ_UNCOMMITTED)ï¼šè¯»å–æœªæäº¤æ•°æ®(ä¼šå‡ºç°è„è¯»,</span><br><span class="line"> ä¸å¯é‡å¤è¯») åŸºæœ¬ä¸ä½¿ç”¨</span><br><span class="line"> </span><br><span class="line">2. @Transactional(isolation = Isolation.READ_COMMITTED)ï¼šè¯»å–å·²æäº¤æ•°æ®(ä¼šå‡ºç°ä¸å¯é‡å¤è¯»å’Œå¹»è¯»)</span><br><span class="line"> </span><br><span class="line">3. @Transactional(isolation = Isolation.REPEATABLE_READ)ï¼šå¯é‡å¤è¯»(ä¼šå‡ºç°å¹»è¯»)</span><br><span class="line"> </span><br><span class="line">4. @Transactional(isolation = Isolation.SERIALIZABLE)ï¼šä¸²è¡ŒåŒ–</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> Transactional </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>excalå¯¼å‡ºå­—ä½“é—®é¢˜å¤§å‘</title>
      <link href="/2022/08/05/excal%E5%AF%BC%E5%87%BA%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98%E5%A4%A7%E5%9D%91/"/>
      <url>/2022/08/05/excal%E5%AF%BC%E5%87%BA%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98%E5%A4%A7%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>easyExcalå¯¼å‡ºæ— å­—ä½“å¤§å‘</p><span id="more"></span><p>ä½¿ç”¨easyExcalåšäº†ä¸€ä¸ªå¯¼å‡ºï¼Œè¿”å›æµçš„æ–¹å¼ä¸‹è½½</p><p>åœ¨æœ¬åœ°æµ‹è¯•è¿”å›æ˜¯okçš„å‘å¸ƒäº†çº¿ä¸Šå°±æŒ‚äº†ï¼Œæ²¡æœ‰ä»»ä½•è¿”å› ä¹Ÿæ²¡æœ‰æŠ¥é”™</p><p>è¯•äº†å¾ˆå¤šç§æ–¹æ¡ˆï¼Œæ²¡æ³•è§£å†³ ä»¥ä¸ºæ˜¯æœåŠ¡å™¨é—®é¢˜ï¼Œæ‰€ä»¥å°è¯•å†™åˆ°è¿œç¨‹ossé‡Œï¼Œä½†æ˜¯ä¹Ÿä¸è¡Œ</p><p>æ‰€ä»¥é—®é¢˜åœ¨ä»£ç æ‰§è¡Œæ—¶   å†™äº†78ä¸ªå¯¼å‡ºçš„demoæœ€åå®šä½åˆ° æ˜¯<font color="red">jdkç¼ºå°‘äº†æ‰€éœ€è¦çš„å­—ä½“å¯¼è‡´</font></p><p>æœ¬åœ°ï¼š</p><p><img src="/2022/08/05/excal%E5%AF%BC%E5%87%BA%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98%E5%A4%A7%E5%9D%91/843A55E6-648C-4545-80D1-ABC02BE14C50.png" alt="843A55E6-648C-4545-80D1-ABC02BE14C50"></p><p>çº¿ä¸Š</p><p><img src="/2022/08/05/excal%E5%AF%BC%E5%87%BA%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98%E5%A4%A7%E5%9D%91/image-20220805112930051.png" alt="image-20220805112930051"></p><h5 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h5><p>å®‰è£…å­—ä½“</p><ul><li><p>å®‰è£…å­—ä½“ï¼ˆæ¨èï¼‰</p><ul><li>çœ‹ä¸‹æœåŠ¡å™¨æ˜¯å¦å®‰è£…äº†å­—ä½“ï¼Œjdk8å­—ä½“éœ€è¦è‡ªå·±å®‰è£…è¯·å®‰è£…å­—ä½“ï¼šdejavu-sans-fonts å’Œ fontconfig åœ¨dockerfileä¸­å¢åŠ å­—ä½“å®‰è£…å‘½ä»¤ï¼š <code>RUN yum install dejavu-sans-fonts fontconfig -y</code></li><li>æ™®é€šçš„çº¿ä¸Šç¯å¢ƒç›´æ¥è¿è¡Œï¼š <code>yum install dejavu-sans-fonts fontconfig -y</code></li></ul></li><li><p>å¼€å¯å†…å­˜å¤„ç†æ¨¡å¼ï¼ˆä¸æ¨èï¼Œ1Wæ•°æ®ä»¥å†…å¯ä»¥è€ƒè™‘ï¼Œå¤§äº†å¾ˆå®¹æ˜“OOMï¼‰</p></li></ul><pre><code class="java">          EasyExcel          .write(fileName, DemoData.class)          // æ ¸å¿ƒè¿™ä¸ªé…ç½® å¼€å§‹å†…å­˜å¤„ç†æ¨¡å¼          .inMemory(Boolean.TRUE)          .sheet(&quot;æ¨¡æ¿&quot;)          .doWrite(data());</code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> excal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqläº‹åŠ¡</title>
      <link href="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/"/>
      <url>/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>MySQLäº‹åŠ¡andä½¿ç”¨æ–¹å¼æ€»ç»“</p><span id="more"></span><h4 id="ä¸€ã€Mysql-äº‹åŠ¡çš„æ¦‚å¿µ"><a href="#ä¸€ã€Mysql-äº‹åŠ¡çš„æ¦‚å¿µ" class="headerlink" title="ä¸€ã€Mysql äº‹åŠ¡çš„æ¦‚å¿µ"></a>ä¸€ã€Mysql äº‹åŠ¡çš„æ¦‚å¿µ</h4><p>â€ƒâ€ƒMysql äº‹åŠ¡ä¸»è¦ç”¨äºå¤„ç†æ“ä½œé‡å¤§ï¼Œå¤æ‚åº¦é«˜çš„æ•°æ®ã€‚æ¯”å¦‚è¯´ï¼Œåœ¨äººå‘˜ç®¡ç†ç³»ç»Ÿä¸­ï¼Œ è¦åˆ é™¤ä¸€ä¸ªäººå‘˜ï¼Œæ—¢éœ€è¦åˆ é™¤äººå‘˜çš„åŸºæœ¬èµ„æ–™ï¼Œåˆéœ€è¦åˆ é™¤å’Œè¯¥äººå‘˜ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚ä¿¡ç®±ï¼Œ æ–‡ç« ç­‰ç­‰ã€‚è¿™æ ·ï¼Œè¿™äº›æ•°æ®åº“æ“ä½œè¯­å¥å°±æ„æˆä¸€ä¸ªäº‹åŠ¡ï¼</p><p>äº‹åŠ¡æ˜¯ä¸€ç§æœºåˆ¶ã€ä¸€ä¸ªæ“ä½œåºåˆ—ï¼ŒåŒ…å«äº†ä¸€ç»„æ•°æ®åº“æ“ä½œå‘½ä»¤ï¼Œå¹¶ä¸”æŠŠæ‰€æœ‰çš„å‘½ä»¤ä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œå³è¿™ä¸€ç»„æ•°æ®åº“å‘½ä»¤è¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚<br>äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œé€»è¾‘å•å…ƒï¼Œåœ¨æ•°æ®åº“ç³»ç»Ÿä¸Šæ‰§è¡Œå¹¶å‘æ“ä½œæ—¶ï¼Œäº‹åŠ¡æ˜¯æœ€å°çš„æ§åˆ¶å•å…ƒã€‚<br>äº‹åŠ¡é€‚ç”¨äºå¤šç”¨æˆ·åŒæ—¶æ“ä½œçš„æ•°æ®åº“ç³»ç»Ÿçš„åœºæ™¯ï¼Œå¦‚é“¶è¡Œã€ä¿é™©å…¬å¸åŠè¯åˆ¸äº¤æ˜“ç³»ç»Ÿç­‰ç­‰ã€‚<br>äº‹åŠ¡æ˜¯é€šè¿‡äº‹åŠ¡çš„æ•´ä½“æ€§ä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚<br>â€ƒâ€ƒç®€å•æ¥è¯´ï¼Œæ‰€è°“äº‹åŠ¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ã€‚</p><h4 id="äºŒã€äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰"><a href="#äºŒã€äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰" class="headerlink" title="äºŒã€äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰"></a>äºŒã€äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰</h4><h5 id="1-åŸå­æ€§"><a href="#1-åŸå­æ€§" class="headerlink" title="1.åŸå­æ€§"></a>1.åŸå­æ€§</h5><h6 id="æ¦‚å¿µï¼š"><a href="#æ¦‚å¿µï¼š" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>æ¯ä¸ªäº‹åŠ¡éƒ½æ˜¯å•ç‹¬çš„ä¸å¯å†åˆ†çš„å·¥ä½œå•ä½ï¼Œè¦ä¹ˆæ•´ä¸ªäº‹åŠ¡éƒ½æ“ä½œæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥</p><h6 id="æ¡ˆä¾‹ï¼š"><a href="#æ¡ˆä¾‹ï¼š" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h6><p>â€ƒâ€ƒAç»™Bè½¬å¸100å…ƒé’±çš„æ—¶å€™åªæ‰§è¡Œäº†æ‰£æ¬¾è¯­å¥ï¼Œå°±æäº¤äº†ï¼Œæ­¤æ—¶å¦‚æœçªç„¶æ–­ç”µï¼ŒAè´¦å·å·²ç»å‘ç”Ÿäº†æ‰£æ¬¾ï¼ŒBè´¦å·å´æ²¡æ”¶åˆ°åŠ æ¬¾ï¼Œåœ¨ç”Ÿæ´»ä¸­å°±ä¼šå¼•èµ·çº çº·ã€‚è¿™ç§æƒ…å†µå°±éœ€è¦äº‹åŠ¡çš„åŸå­æ€§æ¥ä¿è¯äº‹åŠ¡è¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆå°±éƒ½ä¸æ‰§è¡Œã€‚</p><h5 id="2-ä¸€è‡´æ€§"><a href="#2-ä¸€è‡´æ€§" class="headerlink" title="2.ä¸€è‡´æ€§"></a>2.ä¸€è‡´æ€§</h5><h6 id="æ¦‚å¿µï¼š-1"><a href="#æ¦‚å¿µï¼š-1" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>äº‹åŠ¡åœ¨æ‰§è¡Œå‰åï¼Œæ•°æ®åº“çš„æ•°æ®å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åï¼Œå³äº‹åŠ¡æ‰§è¡Œå‰åæ•°æ®ä¿æŒä¸€è‡´</p><p>å³ï¼š</p><p>äº‹åŠ¡æ‰§è¡Œå‰æ•°æ®ä¿æŒä¸€è‡´</p><p>äº‹åŠ¡æ‰§è¡Œä¸­æ•°æ®å¯èƒ½ä¸ä¸€è‡´</p><p>äº‹åŠ¡æ‰§è¡Œåæ•°æ®ä¿æŒä¸€è‡´</p><h6 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h6><p>â€ƒâ€ƒå¯¹é“¶è¡Œè½¬å¸äº‹åŠ¡ï¼Œä¸ç®¡äº‹åŠ¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œåº”è¯¥ä¿è¯äº‹åŠ¡ç»“æŸåè¡¨ä¸­Aå’ŒBçš„å­˜æ¬¾æ€»é¢è·Ÿäº‹åŠ¡æ‰§è¡Œå‰ä¸€è‡´ã€‚</p><h5 id="3-éš”ç¦»æ€§"><a href="#3-éš”ç¦»æ€§" class="headerlink" title="3.éš”ç¦»æ€§"></a>3.éš”ç¦»æ€§</h5><p>æ¦‚å¿µï¼š</p><p>äº‹åŠ¡ä¹‹å‰äº’ä¸å½±å“ï¼Œå½“ä¸åŒçš„äº‹åŠ¡åŒæ—¶æ“çºµç›¸åŒçš„æ•°æ®æ—¶ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æœ‰å„è‡ªçš„å®Œæ•´æ•°æ®ç©ºé—´ã€‚</p><h5 id="4-æŒä¹…æ€§"><a href="#4-æŒä¹…æ€§" class="headerlink" title="4.æŒä¹…æ€§"></a>4.æŒä¹…æ€§</h5><h6 id="æ¦‚å¿µï¼š-2"><a href="#æ¦‚å¿µï¼š-2" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>åœ¨äº‹åŠ¡å®Œæˆä»¥åï¼Œè¯¥äº‹åŠ¡æ‰€å¯¹æ•°æ®åº“æ‰€ä½œçš„æ›´æ”¹ä¾¿æŒä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­</p><h4 id="ä¸‰ã€äº‹åŠ¡ä¹‹é—´çš„ç›¸äº’å½±å“"><a href="#ä¸‰ã€äº‹åŠ¡ä¹‹é—´çš„ç›¸äº’å½±å“" class="headerlink" title="ä¸‰ã€äº‹åŠ¡ä¹‹é—´çš„ç›¸äº’å½±å“"></a>ä¸‰ã€äº‹åŠ¡ä¹‹é—´çš„ç›¸äº’å½±å“</h4><h5 id="1-è„è¯»"><a href="#1-è„è¯»" class="headerlink" title="1.è„è¯»"></a>1.è„è¯»</h5><h6 id="æ¦‚å¿µï¼š-3"><a href="#æ¦‚å¿µï¼š-3" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>è„è¯»æ˜¯æŒ‡è¯»åˆ°äº†å…¶ä»–äº‹ç‰©æœªæäº¤çš„æ•°æ®ï¼Œæœªæäº¤çš„äº‹ç‰©å¯èƒ½ä¼šå›æ»šã€‚ç„¶åä½ è¯»åˆ°çš„æ•°æ®ä¼šè·Ÿæ•°æ®åº“å®é™…æ•°æ®ä¸ä¸€è‡´ï¼Œäº§ç”Ÿè„è¯»ã€‚</p><h6 id="æ¡ˆä¾‹ï¼š-1"><a href="#æ¡ˆä¾‹ï¼š-1" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h6><p>æ¯”å¦‚äº‹åŠ¡Bæ‰§è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹äº†æ•°æ®X,åœ¨æœªæäº¤å‰,äº‹åŠ¡Aè¯»å–äº†X,è€Œäº‹åŠ¡Bå´å›æ»šäº†,è¿™æ ·äº‹åŠ¡Aå°±å½¢æˆäº†è„è¯»ã€‚ ä¹Ÿå°±æ˜¯è¯´,å½“å‰äº‹åŠ¡è¯»åˆ°çš„æ•°æ®æ˜¯åˆ«çš„äº‹åŠ¡æƒ³è¦ä¿®æ”¹æˆä¸ºçš„ä½†æ˜¯æ²¡æœ‰ä¿®æ”¹æˆåŠŸçš„æ•°æ®ã€‚</p><h5 id="2-ä¸å¯é‡å¤è¯»"><a href="#2-ä¸å¯é‡å¤è¯»" class="headerlink" title="2.ä¸å¯é‡å¤è¯»"></a>2.ä¸å¯é‡å¤è¯»</h5><h6 id="æ¦‚å¿µï¼š-4"><a href="#æ¦‚å¿µï¼š-4" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>ä¸€ä¸ªäº‹ç‰©å†…å¤šæ¬¡æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ä¸ä¸€è‡´ã€‚åŸå› ï¼šæŸ¥è¯¢å‰åé—´éš”æœ‰å…¶ä»–äº‹ç‰©æäº¤ï¼Œæ›´æ”¹äº†æ•°æ®</p><h6 id="æ¡ˆä¾‹ï¼š-2"><a href="#æ¡ˆä¾‹ï¼š-2" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h6><p>â€ƒâ€ƒäº‹åŠ¡Aç¬¬ä¸€æ¬¡æŸ¥è¯¢å¾—åˆ°ä¸€è¡Œè®°å½•row1ï¼Œäº‹åŠ¡Bæäº¤ä¿®æ”¹åï¼Œäº‹åŠ¡Aç¬¬äºŒæ¬¡æŸ¥è¯¢å¾—åˆ°row1ï¼Œä½†åˆ—å†…å®¹å‘ç”Ÿäº†å˜åŒ–ã€‚</p><h5 id="3-å¹»è¯»"><a href="#3-å¹»è¯»" class="headerlink" title="3.å¹»è¯»"></a>3.å¹»è¯»</h5><h6 id="æ¦‚å¿µï¼š-5"><a href="#æ¦‚å¿µï¼š-5" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>å‰åå¤šæ¬¡è¯»å–æ•°æ®ä¸ä¸€è‡´ï¼Œä¸€ä¸ªäº‹ç‰©å¯¹è¡¨ä¸­çš„æ•°æ®ä¿®æ”¹æ¶‰åŠæ‰€æœ‰çš„è¡Œã€‚åœ¨äº‹ç‰©æäº¤å‰ï¼Œæœ‰å¦ä¸€ä¸ªäº‹ç‰©åœ¨è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œä½œå‰ä¸€ä¸ªäº‹åŠ¡çš„ç”¨æˆ·ä¼šå‘ç°è¡¨ä¸­è¿˜æœ‰æ²¡æœ‰ä¿®æ”¹çš„æ•°æ®è¡Œï¼Œå°±å¥½è±¡å‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ã€‚</p><h6 id="æ¡ˆåˆ—ï¼š"><a href="#æ¡ˆåˆ—ï¼š" class="headerlink" title="æ¡ˆåˆ—ï¼š"></a>æ¡ˆåˆ—ï¼š</h6><p>â€ƒâ€ƒå‡è®¾äº‹åŠ¡Aå¯¹æŸäº›è¡Œçš„å†…å®¹ä½œäº†æ›´æ”¹ï¼Œä½†æ˜¯è¿˜æœªæäº¤ï¼Œæ­¤æ—¶äº‹åŠ¡Bæ’å…¥äº†ä¸äº‹åŠ¡Aæ›´æ”¹å‰çš„è®°å½•ç›¸åŒçš„è®°å½•è¡Œï¼Œå¹¶ä¸”åœ¨äº‹åŠ¡Aæäº¤ä¹‹å‰å…ˆæäº¤äº†ï¼Œè€Œè¿™æ—¶ï¼Œåœ¨äº‹åŠ¡Aä¸­æŸ¥è¯¢ï¼Œä¼šå‘ç°å¥½åƒåˆšåˆšçš„æ›´æ”¹å¯¹äºæŸäº›æ•°æ®æœªèµ·ä½œç”¨ï¼Œä½†å…¶å®æ˜¯äº‹åŠ¡Båˆšæ’å…¥è¿›æ¥çš„ï¼Œè®©ç”¨æˆ·æ„Ÿè§‰å¾ˆé­”å¹»ï¼Œæ„Ÿè§‰å‡ºç°äº†å¹»è§‰ï¼Œè¿™å°±å«å¹»è¯»ã€‚</p><h5 id="4-ä¸¢å¤±æ›´æ–°"><a href="#4-ä¸¢å¤±æ›´æ–°" class="headerlink" title="4.ä¸¢å¤±æ›´æ–°"></a>4.ä¸¢å¤±æ›´æ–°</h5><h6 id="æ¦‚å¿µï¼š-6"><a href="#æ¦‚å¿µï¼š-6" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h6><p>ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶è¯»å–åŒä¸€æ¡è®°å½•ï¼ŒA å…ˆä¿®æ”¹è®°å½•ï¼ŒB ä¹Ÿä¿®æ”¹è®°å½•ï¼ˆB ä¸çŸ¥é“ A ä¿®æ”¹è¿‡ï¼‰ï¼ŒB æäº¤æ•°æ®å B çš„ä¿®æ”¹ç»“æœè¦†ç›–äº† A çš„ä¿®æ”¹ç»“æœã€‚</p><h6 id="æ¡ˆä¾‹ï¼š-3"><a href="#æ¡ˆä¾‹ï¼š-3" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h6><p>æ¡ˆåˆ—<br>A 30 -&gt;40 äº‹åŠ¡å…ˆå®Œæˆ<br>B 30 -&gt;50 äº‹åŠ¡åå®Œæˆ<br>Bçš„äº‹åŠ¡ç»“æœä¼šè¦†ç›–Açš„äº‹åŠ¡ç»“æœï¼Œæœ€ç»ˆå€¼ä¸º50</p><h4 id="å››ã€äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><a href="#å››ã€äº‹åŠ¡çš„éš”ç¦»çº§åˆ«" class="headerlink" title="å››ã€äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"></a>å››ã€äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</h4><h5 id="1-äº‹ç‰©éš”ç¦»çº§åˆ«åˆ†ç±»"><a href="#1-äº‹ç‰©éš”ç¦»çº§åˆ«åˆ†ç±»" class="headerlink" title="1.äº‹ç‰©éš”ç¦»çº§åˆ«åˆ†ç±»"></a>1.äº‹ç‰©éš”ç¦»çº§åˆ«åˆ†ç±»</h5><ul><li>&#x3D;&#x3D;read uncommitted&#x3D;&#x3D;ï¼ˆ<code>==**æœªæäº¤è¯»**==</code>ï¼‰ï¼šè¯»å–å°šæœªæäº¤çš„æ•°æ® â€” ä¼šäº§ç”Ÿè„è¯»</li></ul><p>â€‹       æ³¨ï¼šå¯ä»¥è¯»åˆ°äº‹åŠ¡æœªæäº¤çš„å˜æ›´ï¼Œä¼šäº§ç”Ÿè„è¯»é—®é¢˜</p><ul><li><p>&#x3D;&#x3D;read committed&#x3D;&#x3D;ï¼ˆ<code>==æäº¤è¯»==</code>ï¼‰ï¼šè¯»å–å·²ç»æäº¤çš„æ•°æ® â€” å¯ä»¥è§£å†³è„è¯»</p>   <!--åªèƒ½è¯»å–åˆ°å·²ç»æäº¤çš„æ•°æ®ã€‚Oracle ç­‰å¤šæ•°æ•°æ®åº“é»˜è®¤éƒ½æ˜¯è¯¥çº§åˆ«ã€‚--></li><li><p>&#x3D;&#x3D;repeatable read&#x3D;&#x3D;ï¼ˆ<code>==å¯é‡å¤åº¦==</code>ï¼‰ï¼šé‡è¯»è¯»å– â€” å¯ä»¥è§£å†³è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼ˆmysql é»˜è®¤ï¼‰</p></li></ul><p>â€‹       æ³¨ï¼šå¯é‡å¤è¯»ã€‚æ— è®ºå…¶ä»–äº‹åŠ¡æ˜¯å¦ä¿®æ”¹å¹¶æäº¤äº†æ•°æ®ï¼Œåœ¨è¿™ä¸ªäº‹åŠ¡ä¸­çœ‹åˆ°çš„æ•°æ®å€¼å§‹ç»ˆä¸å—å…¶ä»–äº‹åŠ¡å½±å“ã€‚</p><ul><li><p>&#x3D;&#x3D;serializable&#x3D;&#x3D;ï¼ˆ<code>ä¸²è¡ŒåŒ–</code>ï¼‰å¯ä»¥è§£å†³è„è¯»ï¼Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»-ç›¸å½“äºé”è¡¨çš„è¡¨é”</p><p>æ³¨ï¼šå®Œå…¨ä¸²è¡ŒåŒ–çš„è¯»ï¼Œæ¯æ¬¡è¯»éƒ½éœ€è¦è·å¾—è¡¨çº§å…±äº«é”ï¼Œè¯»å†™ç›¸äº’éƒ½ä¼šé˜»å¡ã€‚</p></li></ul><h5 id="2-äº‹åŠ¡éš”ç¦»çº§åˆ«ä½œç”¨èŒƒå›´"><a href="#2-äº‹åŠ¡éš”ç¦»çº§åˆ«ä½œç”¨èŒƒå›´" class="headerlink" title="2.äº‹åŠ¡éš”ç¦»çº§åˆ«ä½œç”¨èŒƒå›´"></a>2.äº‹åŠ¡éš”ç¦»çº§åˆ«ä½œç”¨èŒƒå›´</h5><ul><li>å…¨å±€çº§ï¼šå¯¹æ‰€æœ‰çš„ä¼šè¯æœ‰æ•ˆ</li><li>ä¼šè¯çº§ï¼šåªå¯¹å½“å‰çš„ä¼šè¯æœ‰æ•ˆ</li></ul><h5 id="3-1è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«"><a href="#3-1è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«" class="headerlink" title="3.1è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«"></a>3.1è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«</h5><h5 id="å…¨å±€"><a href="#å…¨å±€" class="headerlink" title="å…¨å±€"></a>å…¨å±€</h5><h6 id="1-è¯»æœªæäº¤"><a href="#1-è¯»æœªæäº¤" class="headerlink" title="1.è¯»æœªæäº¤"></a>1.è¯»æœªæäº¤</h6><p>set global transaction isolation level read uncommitted;</p><h6 id="2-è¯»æäº¤"><a href="#2-è¯»æäº¤" class="headerlink" title="2.è¯»æäº¤"></a>2.è¯»æäº¤</h6><p>set global transaction isolation level read committed;</p><h6 id="3-é‡å¤è¯»"><a href="#3-é‡å¤è¯»" class="headerlink" title="3.é‡å¤è¯»"></a>3.é‡å¤è¯»</h6><p>set global transaction isolation level repeatable read;</p><h6 id="4-ä¸²è¡ŒåŒ–"><a href="#4-ä¸²è¡ŒåŒ–" class="headerlink" title="4.ä¸²è¡ŒåŒ–"></a>4.ä¸²è¡ŒåŒ–</h6><p>set global transaction isolation level serializable;</p><h5 id="å½“å‰ä¼šè¯"><a href="#å½“å‰ä¼šè¯" class="headerlink" title="å½“å‰ä¼šè¯"></a>å½“å‰ä¼šè¯</h5><p>è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</p><p>global   æ›¿æ¢ä¸º  session</p><h5 id="3-2æŸ¥çœ‹å½“å‰éš”ç¦»çº§åˆ«"><a href="#3-2æŸ¥çœ‹å½“å‰éš”ç¦»çº§åˆ«" class="headerlink" title="3.2æŸ¥çœ‹å½“å‰éš”ç¦»çº§åˆ«"></a>3.2æŸ¥çœ‹å½“å‰éš”ç¦»çº§åˆ«</h5><h5 id="å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«"><a href="#å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«" class="headerlink" title="å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«"></a>å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</h5><p>select @@tx_isolation;<!--8.0ä¹‹å‰ç‰ˆæœ¬--></p><p>select @@transaction_isolation;<!--8.0ä»¥åç‰ˆæœ¬--></p><h4 id="äº”ã€äº‹åŠ¡æ§åˆ¶è¯­å¥"><a href="#äº”ã€äº‹åŠ¡æ§åˆ¶è¯­å¥" class="headerlink" title="äº”ã€äº‹åŠ¡æ§åˆ¶è¯­å¥"></a>äº”ã€äº‹åŠ¡æ§åˆ¶è¯­å¥</h4><h5 id="äº‹åŠ¡å¼€å¯"><a href="#äº‹åŠ¡å¼€å¯" class="headerlink" title="äº‹åŠ¡å¼€å¯"></a>äº‹åŠ¡å¼€å¯</h5><p> <code>BEGIN ï½œ START TRANSACTION</code></p><p>æ˜¾å¼åœ°å¼€å¯ä¸€ä¸ªäº‹åŠ¡ã€‚</p><h5 id="æäº¤äº‹åŠ¡"><a href="#æäº¤äº‹åŠ¡" class="headerlink" title="æäº¤äº‹åŠ¡"></a>æäº¤äº‹åŠ¡</h5><p><code>COMMIT ï½œ COMMIT WORKï¼š</code></p><p>æäº¤äº‹åŠ¡ï¼Œå¹¶ä½¿å·²å¯¹æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹å˜ä¸ºæ°¸ä¹…æ€§çš„ã€‚</p><h5 id="å›æ»šäº‹åŠ¡"><a href="#å›æ»šäº‹åŠ¡" class="headerlink" title="å›æ»šäº‹åŠ¡"></a>å›æ»šäº‹åŠ¡</h5><p><code>ROLLBACK ï½œ ROLLBACK WORK</code></p><p>å›æ»šä¼šç»“æŸç”¨æˆ·çš„äº‹åŠ¡ï¼Œå¹¶æ’¤é”€æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ã€‚</p><h5 id="æ ‡è®°å›æ»šç‚¹"><a href="#æ ‡è®°å›æ»šç‚¹" class="headerlink" title="æ ‡è®°å›æ»šç‚¹"></a>æ ‡è®°å›æ»šç‚¹</h5><p><code>SAVEPOINT S1</code></p><p>ä½¿ç”¨ SAVEPOINT å…è®¸åœ¨äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªå›æ»šç‚¹ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­å¯ä»¥æœ‰å¤šä¸ª SAVEPOINTã€‚â€S1â€ ä»£è¡¨å›æ»šç‚¹åç§°ã€‚</p><h5 id="å›æ»šåˆ°å›æ»šç‚¹"><a href="#å›æ»šåˆ°å›æ»šç‚¹" class="headerlink" title="å›æ»šåˆ°å›æ»šç‚¹"></a>å›æ»šåˆ°å›æ»šç‚¹</h5><p><code>ROLLBACK TO [SAVEPOINT] S1</code></p><p>æŠŠäº‹åŠ¡å›æ»šåˆ°æ ‡è®°ç‚¹ã€‚</p><h4 id="å…­ã€äº‹åŠ¡æ“ä½œç¤ºä¾‹"><a href="#å…­ã€äº‹åŠ¡æ“ä½œç¤ºä¾‹" class="headerlink" title="å…­ã€äº‹åŠ¡æ“ä½œç¤ºä¾‹"></a>å…­ã€äº‹åŠ¡æ“ä½œç¤ºä¾‹</h4><h5 id="1-åˆ›å»ºæµ‹è¯•æ•°æ®åº“"><a href="#1-åˆ›å»ºæµ‹è¯•æ•°æ®åº“" class="headerlink" title="1.åˆ›å»ºæµ‹è¯•æ•°æ®åº“"></a>1.åˆ›å»ºæµ‹è¯•æ•°æ®åº“</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE info ( id INT ( 10 ) PRIMARY KEY NOT NULL, NAME VARCHAR ( 40 ), money DOUBLE );</span><br><span class="line"></span><br><span class="line">INSERT INTO info</span><br><span class="line">VALUES</span><br><span class="line">( 1, &#x27;A&#x27;, 1000 );</span><br><span class="line">INSERT INTO info</span><br><span class="line">VALUES</span><br><span class="line">( 2, &#x27;B&#x27;, 1000 );</span><br></pre></td></tr></table></figure><h5 id="2-æµ‹è¯•åˆ›å»ºæäº¤äº‹åŠ¡"><a href="#2-æµ‹è¯•åˆ›å»ºæäº¤äº‹åŠ¡" class="headerlink" title="2.æµ‹è¯•åˆ›å»ºæäº¤äº‹åŠ¡"></a>2.æµ‹è¯•åˆ›å»ºæäº¤äº‹åŠ¡</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">begin;</span><br><span class="line">update info set money= money - 100 where name=&#x27;A&#x27;;</span><br><span class="line">select * from info;</span><br><span class="line">commit;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p>å› ä¸ºæ˜¯åœ¨ä¸€ä¸ªäº‹åŠ¡é‡Œ ï¼ŒæŸ¥è¯¢åˆ°çš„ç»“æœå°±æ˜¯updateåçš„ç»“æœ</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809152501444.png" alt="image-20220809152501444"></p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809152841859.png" alt="image-20220809152841859"></p><h5 id="3-æµ‹è¯•å›æ»šäº‹åŠ¡"><a href="#3-æµ‹è¯•å›æ»šäº‹åŠ¡" class="headerlink" title="3.æµ‹è¯•å›æ»šäº‹åŠ¡"></a>3.æµ‹è¯•å›æ»šäº‹åŠ¡</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BEGIN;</span><br><span class="line">update info set money= money + 100 where name=&#x27;A&#x27;;</span><br><span class="line"> select * from info;</span><br><span class="line">rollback;</span><br><span class="line">select * from info</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p>ç»“æœ1å› ä¸ºæ˜¯åœ¨äº‹åŠ¡é‡Œé¢ï¼ŒæŸ¥åˆ°äº†updateçš„æ•°æ®ã€‚<code>rollback</code>å›æ»šä¼šç»“æŸäº‹åŠ¡ï¼Œæ‰€ä»¥ç»“æœ2æŸ¥åˆ°çš„æ˜¯å›æ»šåï¼Œæ“ä½œå‰åŸæœ¬çš„æ•°æ®</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809153259333.png" alt="image-20220809153259333"></p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809153823426.png" alt="image-20220809153823426"></p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809153835281.png" alt="image-20220809153835281"></p><h5 id="4-æµ‹è¯•å¤šç‚¹å›æ»š"><a href="#4-æµ‹è¯•å¤šç‚¹å›æ»š" class="headerlink" title="4.æµ‹è¯•å¤šç‚¹å›æ»š"></a>4.æµ‹è¯•å¤šç‚¹å›æ»š</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">BEGIN;</span><br><span class="line">SELECT * from info;</span><br><span class="line">update info set money= money + 100 where name=&#x27;A&#x27;;</span><br><span class="line">select * from info;</span><br><span class="line">savepoint gs1;</span><br><span class="line">update info set money= money + 100 where name=&#x27;B&#x27;;</span><br><span class="line"> select * from info;</span><br><span class="line">savepoint gs2;</span><br><span class="line">insert into info values(3,&#x27;C&#x27;,1000);</span><br><span class="line">select * from info;</span><br><span class="line">rollback to gs1;</span><br><span class="line">select * from info;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809155555306.png" alt="image-20220809155555306"></p><p>ç»“æœ1:åŸæ•°æ®</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809155618386.png" alt="image-20220809155618386"></p><p>ç»“æœ2:æ•°æ®update name&#x3D;A åŠ 100çš„ç»“æœ</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809155651167.png" alt="image-20220809155651167"></p><p>ç»“æœ3:æ•°æ®update name&#x3D;B åŠ 100çš„ç»“æœ</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809155716177.png" alt="image-20220809155716177"></p><p>ç»“æœ4:insertè¯­å¥åçš„ç»“æœ</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809155726646.png" alt="image-20220809155726646"></p><p>ç»“æœ5:å›æ»šåˆ°èŠ‚ç‚¹gs1çš„ç»“æœ</p><p><img src="/2022/07/26/mysql%E4%BA%8B%E5%8A%A1/image-20220809155735490.png" alt="image-20220809155735490"></p><h4 id="ä¸ƒã€äº‹åŠ¡æäº¤æ–¹å¼"><a href="#ä¸ƒã€äº‹åŠ¡æäº¤æ–¹å¼" class="headerlink" title="ä¸ƒã€äº‹åŠ¡æäº¤æ–¹å¼"></a>ä¸ƒã€äº‹åŠ¡æäº¤æ–¹å¼</h4><h5 id="æŸ¥çœ‹å½“å‰æäº¤æ–¹å¼"><a href="#æŸ¥çœ‹å½“å‰æäº¤æ–¹å¼" class="headerlink" title="æŸ¥çœ‹å½“å‰æäº¤æ–¹å¼"></a>æŸ¥çœ‹å½“å‰æäº¤æ–¹å¼</h5><p>SHOW VARIABLES LIKE â€˜AUTOCOMMITâ€™;</p><h5 id="è‡ªåŠ¨æäº¤"><a href="#è‡ªåŠ¨æäº¤" class="headerlink" title="è‡ªåŠ¨æäº¤"></a>è‡ªåŠ¨æäº¤</h5><p>SET AUTOCOMMIT&#x3D;1;</p><h5 id="æ‰‹åŠ¨æäº¤"><a href="#æ‰‹åŠ¨æäº¤" class="headerlink" title="æ‰‹åŠ¨æäº¤"></a>æ‰‹åŠ¨æäº¤</h5><p>SET AUTOCOMMIT&#x3D;1;</p><p>æ³¨ï¼šå¦‚æœæ²¡æœ‰å¼€å¯è‡ªåŠ¨æäº¤ï¼Œå½“å‰ä¼šè¯è¿æ¥çš„ mysql çš„æ‰€æœ‰æ“ä½œéƒ½ä¼šå½“æˆä¸€ä¸ªäº‹åŠ¡ç›´åˆ°ä½ è¾“å…¥ rollback|commitï¼›å½“å‰äº‹åŠ¡æ‰ç®—ç»“æŸã€‚å½“å‰äº‹åŠ¡ç»“æŸå‰æ–°çš„ mysql è¿æ¥æ—¶æ— æ³•è¯»å–åˆ°ä»»ä½•å½“å‰ä¼šè¯çš„æ“ä½œç»“æœã€‚<br>å¦‚æœå¼€èµ·äº†è‡ªåŠ¨æäº¤ï¼Œmysql ä¼šæŠŠæ¯ä¸ª sql è¯­å¥å½“æˆä¸€ä¸ªäº‹åŠ¡ï¼Œç„¶åè‡ªåŠ¨çš„ commitã€‚<br>å½“ç„¶æ— è®ºå¼€å¯ä¸å¦ï¼Œbegin; commit|rollback; éƒ½æ˜¯ç‹¬ç«‹çš„äº‹åŠ¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlæ•°æ®åº“ç´¢å¼•</title>
      <link href="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/"/>
      <url>/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<p>MySQLç´¢å¼•æ€»ç»“</p><span id="more"></span><h4 id="ç´¢å¼•æ˜¯ä»€ä¹ˆ"><a href="#ç´¢å¼•æ˜¯ä»€ä¹ˆ" class="headerlink" title="ç´¢å¼•æ˜¯ä»€ä¹ˆ"></a>ç´¢å¼•æ˜¯ä»€ä¹ˆ</h4><p>å®˜æ–¹ä»‹ç»ç´¢å¼•æ˜¯å¸®åŠ©MySQLé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ã€‚æ›´é€šä¿—çš„è¯´ï¼Œæ•°æ®åº“ç´¢å¼•å¥½æ¯”æ˜¯ä¸€æœ¬ä¹¦å‰é¢çš„ç›®å½•ï¼Œèƒ½åŠ å¿«æ•°æ®åº“çš„æŸ¥è¯¢é€Ÿåº¦ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ç´¢å¼•æœ¬èº«ä¹Ÿå¾ˆå¤§ï¼Œä¸å¯èƒ½å…¨éƒ¨å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤ç´¢å¼•å¾€å¾€æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶ä¸­çš„ï¼ˆå¯èƒ½å­˜å‚¨åœ¨å•ç‹¬çš„ç´¢å¼•æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯èƒ½å’Œæ•°æ®ä¸€èµ·å­˜å‚¨åœ¨æ•°æ®æ–‡ä»¶ä¸­ï¼‰ã€‚</p><p>æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ç´¢å¼•ï¼ŒåŒ…æ‹¬èšé›†ç´¢å¼•ã€è¦†ç›–ç´¢å¼•ã€ç»„åˆç´¢å¼•ã€å‰ç¼€ç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ç­‰ï¼Œæ²¡æœ‰ç‰¹åˆ«è¯´æ˜ï¼Œé»˜è®¤éƒ½æ˜¯ä½¿ç”¨B+æ ‘ç»“æ„ç»„ç»‡ï¼ˆå¤šè·¯æœç´¢æ ‘ï¼Œå¹¶ä¸ä¸€å®šæ˜¯äºŒå‰çš„ï¼‰çš„ç´¢å¼•</p><h4 id="ç´¢å¼•çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿"><a href="#ç´¢å¼•çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿" class="headerlink" title="ç´¢å¼•çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿"></a>ç´¢å¼•çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿</h4><h6 id="ä¼˜åŠ¿ï¼š"><a href="#ä¼˜åŠ¿ï¼š" class="headerlink" title="ä¼˜åŠ¿ï¼š"></a>ä¼˜åŠ¿ï¼š</h6><p>å¯ä»¥æé«˜æ•°æ®æ£€ç´¢çš„æ•ˆç‡ï¼Œé™ä½æ•°æ®åº“çš„IOæˆæœ¬ï¼Œç±»ä¼¼äºä¹¦çš„ç›®å½•ã€‚</p><p>é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œé™ä½æ•°æ®æ’åºçš„æˆæœ¬ï¼Œé™ä½äº†CPUçš„æ¶ˆè€—ã€‚</p><p>è¢«ç´¢å¼•çš„åˆ—ä¼šè‡ªåŠ¨è¿›è¡Œæ’åºï¼ŒåŒ…æ‹¬ã€å•åˆ—ç´¢å¼•ã€‘å’Œã€ç»„åˆç´¢å¼•ã€‘ï¼Œåªæ˜¯ç»„åˆç´¢å¼•çš„æ’åºè¦å¤æ‚ä¸€äº›ã€‚<br>å¦‚æœæŒ‰ç…§ç´¢å¼•åˆ—çš„é¡ºåºè¿›è¡Œæ’åºï¼Œå¯¹åº”order byè¯­å¥æ¥è¯´ï¼Œæ•ˆç‡å°±ä¼šæé«˜å¾ˆå¤šã€‚</p><h6 id="åŠ£åŠ¿ï¼š"><a href="#åŠ£åŠ¿ï¼š" class="headerlink" title="åŠ£åŠ¿ï¼š"></a>åŠ£åŠ¿ï¼š</h6><p>ç´¢å¼•ä¼šå æ®ç£ç›˜ç©ºé—´</p><p>ç´¢å¼•è™½ç„¶ä¼šæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä½†æ˜¯ä¼šé™ä½æ›´æ–°è¡¨çš„æ•ˆç‡ã€‚æ¯”å¦‚æ¯æ¬¡å¯¹è¡¨è¿›è¡Œå¢åˆ æ”¹æ“ä½œï¼ŒMySQLä¸ä»…è¦ä¿å­˜æ•°æ®ï¼Œè¿˜æœ‰ä¿å­˜æˆ–è€…æ›´æ–°å¯¹åº”çš„ç´¢å¼•æ–‡ä»¶ã€‚</p><h4 id="ç´¢å¼•åˆ†ç±»"><a href="#ç´¢å¼•åˆ†ç±»" class="headerlink" title="ç´¢å¼•åˆ†ç±»"></a>ç´¢å¼•åˆ†ç±»</h4><h5 id="ä¸»é”®ç´¢å¼•"><a href="#ä¸»é”®ç´¢å¼•" class="headerlink" title="ä¸»é”®ç´¢å¼•"></a>ä¸»é”®ç´¢å¼•</h5><p>ç´¢å¼•ä¸­çš„åˆ—å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸”ä¸å…è®¸æœ‰ç©ºå€¼</p><h5 id="æ™®é€šç´¢å¼•"><a href="#æ™®é€šç´¢å¼•" class="headerlink" title="æ™®é€šç´¢å¼•"></a>æ™®é€šç´¢å¼•</h5><p>å…è®¸å®šä¹‰ç´¢å¼•çš„åˆ—å­˜åœ¨é‡å¤çš„å€¼æˆ–è€…æ˜¯ç©ºå€¼</p><h6 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h6><p>è¿™æ˜¯æœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œå®ƒæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ç§åˆ›å»ºæ–¹å¼ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> INDEX indexName <span class="keyword">ON</span> table_name (column_name)</span><br></pre></td></tr></table></figure><p>å”¯ä¸€ç´¢å¼•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> INDEX indexName <span class="keyword">ON</span> mytable(username(length)) </span><br></pre></td></tr></table></figure><h6 id="åˆ é™¤ç´¢å¼•"><a href="#åˆ é™¤ç´¢å¼•" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> INDEX [indexName] <span class="keyword">ON</span> mytable; </span><br></pre></td></tr></table></figure><h5 id="ç©ºé—´ç´¢å¼•"><a href="#ç©ºé—´ç´¢å¼•" class="headerlink" title="ç©ºé—´ç´¢å¼•"></a>ç©ºé—´ç´¢å¼•</h5><h5 id="å‰ç¼€ç´¢å¼•"><a href="#å‰ç¼€ç´¢å¼•" class="headerlink" title="å‰ç¼€ç´¢å¼•"></a>å‰ç¼€ç´¢å¼•</h5><p>åœ¨æ–‡æœ¬ç±»å‹char,varcharï¼Œtextç±»å‹ä¸Šåˆ›å»ºç´¢å¼•æ—¶ï¼Œå¯ä»¥æŒ‡å®šç´¢å¼•åˆ—çš„é•¿åº¦ï¼Œä½†æ˜¯æ•°å€¼ç±»å‹ç´¢å¼•ä¸èƒ½æŒ‡å®š</p><h5 id="å…¶ä»–ï¼ˆç´¢å¼•ä½œç”¨æ•°é‡åˆ†ç±»ï¼‰"><a href="#å…¶ä»–ï¼ˆç´¢å¼•ä½œç”¨æ•°é‡åˆ†ç±»ï¼‰" class="headerlink" title="å…¶ä»–ï¼ˆç´¢å¼•ä½œç”¨æ•°é‡åˆ†ç±»ï¼‰"></a>å…¶ä»–ï¼ˆç´¢å¼•ä½œç”¨æ•°é‡åˆ†ç±»ï¼‰</h5><p>1.å•åˆ—ç´¢å¼•</p><p>2.ç»„åˆç´¢å¼•<!-- ç»„åˆç´¢å¼•ä½¿ç”¨è¦éµå¾ªæœ€å·¦åŒ¹é…åŸåˆ™ --></p><h4 id="ç´¢å¼•çš„æ•°æ®ç»“æ„"><a href="#ç´¢å¼•çš„æ•°æ®ç»“æ„" class="headerlink" title="ç´¢å¼•çš„æ•°æ®ç»“æ„"></a>ç´¢å¼•çš„æ•°æ®ç»“æ„</h4><p><strong>hashè¡¨</strong></p><p>hashè¡¨ï¼ŒheshMapï¼ŒTreeMapå°±æ˜¯Hashè¡¨ç»“æ„ï¼Œä»¥é”®å€¼å¯¹çš„æ–¹å¼å­˜å‚¨æ•°æ®ã€‚æˆ‘ä»¬ä½¿ç”¨hashè¡¨å­˜å‚¨æ•°æ®Keyå¯ä»¥å­˜å‚¨ç´¢å¼•åˆ—ï¼ŒValueå¯ä»¥å­˜å‚¨è®°å½•æˆ–è€…ç£ç›˜åœ°å€ã€‚Hashè¡¨åœ¨æŸ¥è¯¢ç­‰å€¼çš„æ•ˆç‡å¾ˆé«˜ï¼Œä½†æ˜¯ä¸æ”¯æŒèŒƒå›´å¿«é€ŸæŸ¥æ‰¾ã€‚</p><p><strong>äºŒå‰æ ‘</strong></p><p><img src="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/image-20220726104909153-8803751.png" alt="image-20220726104909153"></p><p><strong>äºŒå‰æ ‘çš„ç‰¹ç‚¹</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªåˆ†å‰ï¼Œå·¦åˆ†å‰çš„æ•°å°äºå³åˆ†å‰</p><h5 id="å¹³è¡¡äºŒå‰æ ‘"><a href="#å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘"></a>å¹³è¡¡äºŒå‰æ ‘</h5><p>å¹³è¡¡äºŒå‰æ ‘æ˜¯é‡‡ç”¨äºŒåˆ†æ³•æ€ç»´ï¼Œå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘é™¤äº†å…·å¤‡äºŒå‰æ ‘çš„ç‰¹ç‚¹ï¼Œæœ€ä¸»è¦çš„ç‰¹å¾æ˜¯æ ‘çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„å±‚çº§æœ€å¤šç›¸å·®1ã€‚åœ¨æ’å…¥åˆ é™¤æ•°æ®æ—¶é€šè¿‡å·¦æ—‹&#x2F;å³æ—‹æ“ä½œä¿æŒäºŒå‰æ ‘çš„å¹³è¡¡ï¼Œä¸ä¼šå‡ºç°å·¦å­æ ‘å¾ˆé«˜ã€å³å­æ ‘å¾ˆçŸ®çš„æƒ…å†µã€‚</p><p><img src="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/image-20220726105438358-8804082.png" alt="image-20220726105438358"></p><h5 id="Bæ ‘"><a href="#Bæ ‘" class="headerlink" title="Bæ ‘"></a>Bæ ‘</h5><p>MySQLçš„æ•°æ®æ˜¯å­˜å‚¨åœ¨ç£ç›˜æ–‡ä»¶ä¸­çš„ï¼ŒæŸ¥è¯¢å¤„ç†æ•°æ®æ—¶ï¼Œéœ€è¦å…ˆæŠŠç£ç›˜ä¸­çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç£ç›˜IO æ“ä½œéå¸¸è€—æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼˜åŒ–çš„é‡ç‚¹å°±æ˜¯å°½é‡å‡å°‘ç£ç›˜ IO æ“ä½œã€‚è®¿é—®äºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å°±ä¼šå‘ç”Ÿä¸€æ¬¡IOï¼Œå¦‚æœæƒ³è¦å‡å°‘ç£ç›˜IOæ“ä½œï¼Œå°±éœ€è¦å°½é‡é™ä½æ ‘çš„é«˜åº¦ã€‚é‚£å¦‚ä½•é™ä½æ ‘çš„é«˜åº¦å‘¢ï¼Ÿ</p><p><img src="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/image-20220726110538703-8804740.png" alt="image-20220726110538703"></p><p><strong>å¯ä»¥çœ‹åˆ°B+æ ‘å¯ä»¥ä¿è¯ç­‰å€¼å’ŒèŒƒå›´æŸ¥è¯¢çš„å¿«é€ŸæŸ¥æ‰¾ï¼ŒMySQLçš„ç´¢å¼•å°±é‡‡ç”¨äº†B+æ ‘çš„æ•°æ®ç»“æ„ã€‚</strong></p><p>B<strong>æ ‘å¾…ä¼˜åŒ–ç‚¹å¾…</strong></p><p>Bæ ‘ä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢çš„å¿«é€ŸæŸ¥æ‰¾ï¼Œä½ æƒ³æƒ³è¿™ä¹ˆä¸€ä¸ªæƒ…å†µå¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾10å’Œ35ä¹‹é—´çš„æ•°æ®ï¼ŒæŸ¥æ‰¾åˆ°15ä¹‹åï¼Œéœ€è¦å›åˆ°æ ¹èŠ‚ç‚¹é‡æ–°éå†æŸ¥æ‰¾ï¼Œéœ€è¦ä»æ ¹èŠ‚ç‚¹è¿›è¡Œå¤šæ¬¡éå†ï¼ŒæŸ¥è¯¢æ•ˆç‡æœ‰å¾…æé«˜ã€‚</p><p>å¦‚æœdataå­˜å‚¨çš„æ˜¯è¡Œè®°å½•ï¼Œè¡Œçš„å¤§å°éšç€åˆ—æ•°çš„å¢å¤šï¼Œæ‰€å ç©ºé—´ä¼šå˜å¤§ã€‚è¿™æ—¶ï¼Œä¸€ä¸ªé¡µä¸­å¯å­˜å‚¨çš„æ•°æ®é‡å°±ä¼šå˜å°‘ï¼Œæ ‘ç›¸åº”å°±ä¼šå˜é«˜ï¼Œç£ç›˜IOæ¬¡æ•°å°±ä¼šå˜å¤§ã€‚</p><h5 id="B-æ ‘ï¼šæ”¹é€ Bæ ‘"><a href="#B-æ ‘ï¼šæ”¹é€ Bæ ‘" class="headerlink" title="B+æ ‘ï¼šæ”¹é€ Bæ ‘"></a>B+æ ‘ï¼šæ”¹é€ Bæ ‘</h5><p>B+æ ‘ï¼Œä½œä¸ºBæ ‘çš„å‡çº§ç‰ˆï¼Œåœ¨Bæ ‘åŸºç¡€ä¸Šï¼ŒMySQLåœ¨Bæ ‘çš„åŸºç¡€ä¸Šç»§ç»­æ”¹é€ ï¼Œä½¿ç”¨B+æ ‘æ„å»ºç´¢å¼•ã€‚B+æ ‘å’ŒBæ ‘æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äº<strong>éå¶å­èŠ‚ç‚¹æ˜¯å¦å­˜å‚¨æ•°æ®</strong>çš„é—®é¢˜</p><p>è·ŸB<strong>æ ‘çš„åŒºåˆ«</strong></p><p>Bæ ‘ï¼šéå¶å­èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹éƒ½ä¼šå­˜å‚¨æ•°æ®ã€‚</p><p>B+æ ‘ï¼šåªæœ‰å¶å­èŠ‚ç‚¹æ‰ä¼šå­˜å‚¨æ•°æ®ï¼Œéå¶å­èŠ‚ç‚¹è‡³å­˜å‚¨é”®å€¼ã€‚å¶å­èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨åŒå‘æŒ‡é’ˆè¿æ¥ï¼Œæœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€ä¸ªåŒå‘æœ‰åºé“¾è¡¨ã€‚</p><p><img src="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/image-20220726111117603-8805079.png" alt="image-20220726111117603"></p><h4 id="Mysqlç´¢å¼•å®ç°"><a href="#Mysqlç´¢å¼•å®ç°" class="headerlink" title="Mysqlç´¢å¼•å®ç°"></a>Mysqlç´¢å¼•å®ç°</h4><h5 id="Mylsamç´¢å¼•"><a href="#Mylsamç´¢å¼•" class="headerlink" title="Mylsamç´¢å¼•"></a>Mylsamç´¢å¼•</h5><h6 id="ä¸»é”®ç´¢å¼•-1"><a href="#ä¸»é”®ç´¢å¼•-1" class="headerlink" title="ä¸»é”®ç´¢å¼•"></a>ä¸»é”®ç´¢å¼•</h6><p><img src="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/image-20220726113319631.png" alt="image-20220726113319631"></p><h6 id="è¾…åŠ©ç´¢å¼•"><a href="#è¾…åŠ©ç´¢å¼•" class="headerlink" title="è¾…åŠ©ç´¢å¼•"></a>è¾…åŠ©ç´¢å¼•</h6><p>åœ¨ MyISAM ä¸­,è¾…åŠ©ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå¶å­èŠ‚ç‚¹çš„æ•°æ®å­˜å‚¨çš„éƒ½æ˜¯è¡Œè®°å½•çš„ç£ç›˜åœ°å€ã€‚åªæ˜¯ä¸»é”®ç´¢å¼•çš„é”®å€¼æ˜¯å”¯ä¸€çš„ï¼Œè€Œè¾…åŠ©ç´¢å¼•çš„é”®å€¼å¯ä»¥é‡å¤ã€‚</p><p>æŸ¥è¯¢æ•°æ®æ—¶ï¼Œç”±äºè¾…åŠ©ç´¢å¼•çš„é”®å€¼ä¸å”¯ä¸€ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªæ‹¥æœ‰ç›¸åŒçš„è®°å½•ï¼Œæ‰€ä»¥å³ä½¿æ˜¯ç­‰å€¼æŸ¥è¯¢ï¼Œä¹Ÿéœ€è¦æŒ‰ç…§èŒƒå›´æŸ¥è¯¢çš„æ–¹å¼åœ¨è¾…åŠ©ç´¢å¼•æ ‘ä¸­æ£€ç´¢æ•°æ®ã€‚</p><h5 id="InnoDBç´¢å¼•"><a href="#InnoDBç´¢å¼•" class="headerlink" title="InnoDBç´¢å¼•"></a>InnoDBç´¢å¼•</h5><h6 id="ä¸»é”®ç´¢å¼•ï¼ˆèšç°‡ç´¢å¼•ï¼‰"><a href="#ä¸»é”®ç´¢å¼•ï¼ˆèšç°‡ç´¢å¼•ï¼‰" class="headerlink" title="ä¸»é”®ç´¢å¼•ï¼ˆèšç°‡ç´¢å¼•ï¼‰"></a>ä¸»é”®ç´¢å¼•ï¼ˆèšç°‡ç´¢å¼•ï¼‰</h6><p>æ¯ä¸ªInnoDBè¡¨éƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼• ï¼Œèšç°‡ç´¢å¼•ä½¿ç”¨B+æ ‘æ„å»ºï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®æ˜¯æ•´è¡Œè®°å½•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œèšç°‡ç´¢å¼•ç­‰åŒäºä¸»é”®ç´¢å¼•ï¼Œå½“ä¸€ä¸ªè¡¨æ²¡æœ‰åˆ›å»ºä¸»é”®ç´¢å¼•æ—¶ï¼ŒInnoDBä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªROWIDå­—æ®µæ¥æ„å»ºèšç°‡ç´¢å¼•ã€‚InnoDBåˆ›å»ºç´¢å¼•çš„å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è¡¨ä¸Šå®šä¹‰ä¸»é”®PRIMARY KEYï¼ŒInnoDBå°†ä¸»é”®ç´¢å¼•ç”¨ä½œèšç°‡ç´¢å¼•ã€‚</span><br><span class="line">å¦‚æœè¡¨æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼ŒInnoDBä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªä¸ä¸ºNULLçš„å”¯ä¸€ç´¢å¼•åˆ—ç”¨ä½œèšç°‡ç´¢å¼•ã€‚</span><br><span class="line">å¦‚æœä»¥ä¸Šä¸¤ä¸ªéƒ½æ²¡æœ‰ï¼ŒInnoDB ä¼šä½¿ç”¨ä¸€ä¸ª6 å­—èŠ‚é•¿æ•´å‹çš„éšå¼å­—æ®µ ROWIDå­—æ®µæ„å»ºèšç°‡ç´¢å¼•ã€‚è¯¥ROWIDå­—æ®µä¼šåœ¨æ’å…¥æ–°è¡Œæ—¶è‡ªåŠ¨é€’å¢ã€‚</span><br></pre></td></tr></table></figure><h6 id="ç»„åˆç´¢å¼•"><a href="#ç»„åˆç´¢å¼•" class="headerlink" title="ç»„åˆç´¢å¼•"></a>ç»„åˆç´¢å¼•</h6><p><img src="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/image-20220726113816915.png" alt="image-20220726113816915"></p><p><strong>æœ€å·¦åŒ¹é…åŸåˆ™ï¼š</strong></p><p>æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™å’Œè”åˆç´¢å¼•çš„ç´¢å¼•å­˜å‚¨ç»“æ„å’Œæ£€ç´¢æ–¹å¼æ˜¯æœ‰å…³ç³»çš„ã€‚</p><p>åœ¨ç»„åˆç´¢å¼•æ ‘ä¸­ï¼Œæœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹æŒ‰ç…§ç¬¬ä¸€åˆ—aåˆ—ä»å·¦åˆ°å³é€’å¢æ’åˆ—ï¼Œä½†æ˜¯båˆ—å’Œcåˆ—æ˜¯æ— åºçš„ï¼Œbåˆ—åªæœ‰åœ¨aåˆ—å€¼ç›¸ç­‰çš„æƒ…å†µä¸‹å°èŒƒå›´å†…é€’å¢æœ‰åºï¼Œè€Œcåˆ—åªèƒ½åœ¨aï¼Œbä¸¤åˆ—ç›¸ç­‰çš„æƒ…å†µä¸‹å°èŒƒå›´å†…é€’å¢æœ‰åºã€‚</p><p>å°±åƒä¸Šé¢çš„æŸ¥è¯¢ï¼ŒB+æ ‘ä¼šå…ˆæ¯”è¾ƒaåˆ—æ¥ç¡®å®šä¸‹ä¸€æ­¥åº”è¯¥æœç´¢çš„æ–¹å‘ï¼Œå¾€å·¦è¿˜æ˜¯å¾€å³ã€‚å¦‚æœaåˆ—ç›¸åŒå†æ¯”è¾ƒbåˆ—ã€‚ä½†æ˜¯å¦‚æœæŸ¥è¯¢æ¡ä»¶æ²¡æœ‰aåˆ—ï¼ŒB+æ ‘å°±ä¸çŸ¥é“ç¬¬ä¸€æ­¥åº”è¯¥ä»å“ªä¸ªèŠ‚ç‚¹æŸ¥èµ·ã€‚</p><p>å¯ä»¥è¯´åˆ›å»ºçš„idx_abc(a,b,c)ç´¢å¼•ï¼Œç›¸å½“äºåˆ›å»ºäº†(a)ã€ï¼ˆa,bï¼‰ï¼ˆa,b,cï¼‰ä¸‰ä¸ªç´¢å¼•ã€‚</p><h4 id="é¿å…å›è¡¨"><a href="#é¿å…å›è¡¨" class="headerlink" title="é¿å…å›è¡¨"></a>é¿å…å›è¡¨</h4><p>åœ¨InnoDBçš„å­˜å‚¨å¼•æ“ä¸­ï¼Œä½¿ç”¨è¾…åŠ©ç´¢å¼•æŸ¥è¯¢çš„æ—¶å€™ï¼Œå› ä¸ºè¾…åŠ©ç´¢å¼•å¶å­èŠ‚ç‚¹ä¿å­˜çš„æ•°æ®ä¸æ˜¯å½“å‰è®°å½•çš„æ•°æ®è€Œæ˜¯å½“å‰è®°å½•çš„ä¸»é”®ç´¢å¼•ï¼Œç´¢å¼•å¦‚æœéœ€è¦è·å–å½“å‰è®°å½•å®Œæ•´æ•°æ®å°±å¿…ç„¶éœ€è¦æ ¹æ®ä¸»é”®å€¼ä»ä¸»é”®ç´¢å¼•ç»§ç»­æŸ¥è¯¢ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬æˆä½å›è¡¨ã€‚æƒ³æƒ³å›è¡¨å¿…ç„¶æ˜¯ä¼šæ¶ˆè€—æ€§èƒ½å½±å“æ€§èƒ½ã€‚é‚£å¦‚ä½•é¿å…å‘¢ï¼Ÿ</p><p>ä½¿ç”¨ç´¢å¼•è¦†ç›–ï¼Œä¸¾ä¸ªä¾‹å­ï¼šç°æœ‰Userè¡¨ï¼ˆid(PK),name(key),sex,address,hobbyâ€¦ï¼‰</p><p>å¦‚æœåœ¨ä¸€ä¸ªåœºæ™¯ä¸‹ï¼Œselect id,name,sex from user where name &#x3D;â€™zhangsanâ€™;è¿™ä¸ªè¯­å¥åœ¨ä¸šåŠ¡ä¸Šé¢‘ç¹ä½¿ç”¨åˆ°ï¼Œè€Œuserè¡¨çš„å…¶ä»–å­—æ®µä½¿ç”¨é¢‘ç‡è¿œä½äºå®ƒï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å»ºç«‹ name å­—æ®µçš„ç´¢å¼•çš„æ—¶å€™ï¼Œä¸æ˜¯ä½¿ç”¨å•ä¸€ç´¢å¼•ï¼Œè€Œæ˜¯ä½¿ç”¨è”åˆç´¢å¼•ï¼ˆnameï¼Œsexï¼‰è¿™æ ·çš„è¯å†æ‰§è¡Œè¿™ä¸ªæŸ¥è¯¢è¯­å¥æ˜¯ä¸æ˜¯æ ¹æ®è¾…åŠ©ç´¢å¼•æŸ¥è¯¢åˆ°çš„ç»“æœå°±å¯ä»¥è·å–å½“å‰è¯­å¥çš„å®Œæ•´æ•°æ®ã€‚è¿™æ ·å°±å¯ä»¥æœ‰æ•ˆåœ°é¿å…äº†å›è¡¨å†è·å–sexçš„æ•°æ®ã€‚</p><p>è¿™é‡Œå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ä½¿ç”¨è¦†ç›–ç´¢å¼•çš„ä¼˜åŒ–ç­–ç•¥å‡å°‘å›è¡¨çš„æƒ…å†µã€‚</p><p><strong>è”åˆç´¢å¼•çš„ä½¿ç”¨</strong><br>è”åˆç´¢å¼•ï¼Œåœ¨å»ºç«‹ç´¢å¼•çš„æ—¶å€™ï¼Œå°½é‡åœ¨å¤šä¸ªå•åˆ—ç´¢å¼•ä¸Šåˆ¤æ–­ä¸‹æ˜¯å¦å¯ä»¥ä½¿ç”¨è”åˆç´¢å¼•ã€‚è”åˆç´¢å¼•çš„ä½¿ç”¨ä¸ä»…å¯ä»¥èŠ‚çœç©ºé—´ï¼Œè¿˜å¯ä»¥æ›´å®¹æ˜“çš„ä½¿ç”¨åˆ°ç´¢å¼•è¦†ç›–ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œç´¢å¼•çš„å­—æ®µè¶Šå¤šï¼Œæ˜¯ä¸æ˜¯æ›´å®¹æ˜“æ»¡è¶³æŸ¥è¯¢éœ€è¦è¿”å›çš„æ•°æ®å‘¢ã€‚æ¯”å¦‚è”åˆç´¢å¼•ï¼ˆa_b_cï¼‰ï¼Œæ˜¯ä¸æ˜¯ç­‰äºæœ‰äº†ç´¢å¼•ï¼šaï¼Œa_bï¼Œa_b_cä¸‰ä¸ªç´¢å¼•ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯èŠ‚çœäº†ç©ºé—´ï¼Œå½“ç„¶èŠ‚çœçš„ç©ºé—´å¹¶ä¸æ˜¯ä¸‰å€äºï¼ˆaï¼Œa_bï¼Œa_b_cï¼‰ä¸‰ä¸ªç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•æ ‘çš„æ•°æ®æ²¡å˜ï¼Œä½†æ˜¯ç´¢å¼•dataå­—æ®µçš„æ•°æ®ç¡®å®çœŸå®çš„èŠ‚çœäº†ã€‚</p><p>è”åˆç´¢å¼•çš„åˆ›å»ºåŸåˆ™ï¼Œåœ¨åˆ›å»ºè”åˆç´¢å¼•çš„æ—¶å€™å› è¯¥æŠŠé¢‘ç¹ä½¿ç”¨çš„åˆ—ã€åŒºåˆ†åº¦é«˜çš„åˆ—æ”¾åœ¨å‰é¢ï¼Œé¢‘ç¹ä½¿ç”¨ä»£è¡¨ç´¢å¼•åˆ©ç”¨ç‡é«˜ï¼ŒåŒºåˆ†åº¦é«˜ä»£è¡¨ç­›é€‰ç²’åº¦å¤§ï¼Œè¿™äº›éƒ½æ˜¯åœ¨ç´¢å¼•åˆ›å»ºçš„éœ€è¦è€ƒè™‘åˆ°çš„ä¼˜åŒ–åœºæ™¯ï¼Œä¹Ÿå¯ä»¥åœ¨å¸¸éœ€è¦ä½œä¸ºæŸ¥è¯¢è¿”å›çš„å­—æ®µä¸Šå¢åŠ åˆ°è”åˆç´¢å¼•ä¸­ï¼Œå¦‚æœåœ¨è”åˆç´¢å¼•ä¸Šå¢åŠ ä¸€ä¸ªå­—æ®µè€Œä½¿ç”¨åˆ°äº†è¦†ç›–ç´¢å¼•ï¼Œé‚£æˆ‘å»ºè®®è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨è”åˆç´¢å¼•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlæ•°æ®åº“é”</title>
      <link href="/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/"/>
      <url>/2022/07/25/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E9%94%81/</url>
      
        <content type="html"><![CDATA[<p><strong>mysqlé”è¯¦è§£ï¼ˆæ­»é”ï¼Œè¡¨é”ï¼Œè¡Œé”ï¼Œé¡µé”ï¼Œå…±äº«é”ï¼Œæ’ä»–é”ç­‰ï¼‰</strong>****</p><span id="more"></span><h4 id="MySQLé”æ¦‚è¿°"><a href="#MySQLé”æ¦‚è¿°" class="headerlink" title="MySQLé”æ¦‚è¿°"></a>MySQLé”æ¦‚è¿°</h4><p>é”æ˜¯è®¡ç®—æœºåè°ƒå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å¹¶å‘è®¿é—®æŸä¸€ä¸ªèµ„æºçš„æœºåˆ¶ï¼Œåœ¨æ•°æ®åº“ä¸­ï¼Œé™¤ä¼ ç»Ÿçš„è®¡ç®—èµ„æºï¼ˆCPUã€RAMã€I&#x2F;Oï¼‰çš„äº‰ç”¨ä»¥å¤–ï¼Œæ•°æ®ä¹Ÿæ˜¯ä¸€ç§ä¾›è®¸å¤šç”¨æˆ·å…±äº«çš„èµ„æºã€‚å¦‚ä½•ä¿è¯æ•°æ®å¹¶å‘è®¿é—®çš„ä¸€è‡´æ€§ã€æœ‰æ•ˆæ€§æ˜¯æ‰€åœ¨æœ‰æ•°æ®åº“å¿…é¡»è§£å†³çš„ä¸€ä¸ªé—®é¢˜ï¼Œé”å†²çªä¹Ÿæ˜¯å½±å“æ•°æ®åº“å¹¶å‘è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å› ç´ ã€‚ä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œé”å¯¹æ•°æ®åº“è€Œè¨€æ˜¾å¾—å°¤å…¶é‡è¦ï¼Œä¹Ÿæ›´åŠ å¤æ‚ã€‚</p><h4 id="é”åˆ†ç±»"><a href="#é”åˆ†ç±»" class="headerlink" title="é”åˆ†ç±»"></a>é”åˆ†ç±»</h4><h5 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h5><h6 id="1-ä»€ä¹ˆæ˜¯æ­»é”"><a href="#1-ä»€ä¹ˆæ˜¯æ­»é”" class="headerlink" title="1.ä»€ä¹ˆæ˜¯æ­»é”"></a>1.ä»€ä¹ˆæ˜¯æ­»é”</h6><p>æ‰€è°“æ­»é”ï¼Œæ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§åƒµå±€ï¼Œå½“è¿›ç¨‹å¤„äºè¿™ç§åƒµæŒçŠ¶æ€æ—¶ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•å†å‘å‰æ¨è¿›</p><h6 id="2-äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶"><a href="#2-äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶" class="headerlink" title="2.äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶"></a>2.äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶</h6><p>ï¼ˆ1ï¼‰äº’æ–¥æ¡ä»¶ï¼šè¿›ç¨‹å¯¹æ‰€åˆ†é…åˆ°çš„èµ„æºä¸å…è®¸å…¶ä»–è¿›ç¨‹è¿›è¡Œè®¿é—®ï¼Œè‹¥å…¶ä»–è¿›ç¨‹è®¿é—®è¯¥èµ„æºï¼Œåªèƒ½ç­‰å¾…ï¼Œç›´è‡³å æœ‰è¯¥èµ„æºçš„è¿›ç¨‹ä½¿ç”¨å®Œæˆåé‡Šæ”¾è¯¥èµ„æº<br>ï¼ˆ2ï¼‰è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šè¿›ç¨‹è·å¾—ä¸€å®šçš„èµ„æºä¹‹åï¼Œåˆå¯¹å…¶ä»–èµ„æºå‘å‡ºè¯·æ±‚ï¼Œä½†æ˜¯è¯¥èµ„æºå¯èƒ½è¢«å…¶ä»–è¿›ç¨‹å æœ‰ï¼Œæ­¤äº‹è¯·æ±‚é˜»å¡ï¼Œä½†åˆå¯¹è‡ªå·±è·å¾—çš„èµ„æºä¿æŒä¸æ”¾<br>ï¼ˆ3ï¼‰ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šæ˜¯æŒ‡è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªå®Œæˆä½¿ç”¨ä¹‹å‰ï¼Œä¸å¯è¢«å‰¥å¤ºï¼Œåªèƒ½åœ¨ä½¿ç”¨å®Œåè‡ªå·±é‡Šæ”¾</p><p>ï¼ˆ4ï¼‰ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šæ˜¯æŒ‡è¿›ç¨‹å‘ç”Ÿæ­»é”åï¼Œå¿…ç„¶å­˜åœ¨ä¸€ä¸ªè¿›ç¨‹â€“èµ„æºä¹‹é—´çš„ç¯å½¢é“¾</p><h6 id="3-å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³•"><a href="#3-å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³•" class="headerlink" title="3.å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³•"></a>3.<strong>å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³•</strong></h6><p>(1)é¢„é˜²æ­»é”ï¼šé€šè¿‡è®¾ç½®ä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œå»ç ´åäº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶<br>(2)é¿å…æ­»é”ï¼šåœ¨èµ„æºåˆ†é…è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨æŸç§æ–¹æ³•é¿å…ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çš„çŠ¶æ€ï¼Œä»è€Œé¿å…å‘ç”Ÿæ­»é”<br>(3)æ£€æµ‹æ­»é”ï¼šå…è®¸æ­»é”çš„å‘ç”Ÿï¼Œä½†æ˜¯é€šè¿‡ç³»ç»Ÿçš„æ£€æµ‹ä¹‹åï¼Œé‡‡å–ä¸€äº›æªæ–½ï¼Œå°†æ­»é”æ¸…é™¤æ‰<br>(4)è§£é™¤æ­»é”ï¼šè¯¥æ–¹æ³•ä¸æ£€æµ‹æ­»é”é…åˆä½¿ç”¨</p><p>3.1æ­»é”æ£€æµ‹<br>Jstackå‘½ä»¤</p><p>jstackæ˜¯javaè™šæ‹Ÿæœºè‡ªå¸¦çš„ä¸€ç§å †æ ˆè·Ÿè¸ªå·¥å…·ã€‚jstackç”¨äºæ‰“å°å‡ºç»™å®šçš„javaè¿›ç¨‹IDæˆ–core fileæˆ–è¿œç¨‹è°ƒè¯•æœåŠ¡çš„Javaå †æ ˆä¿¡æ¯ã€‚ Jstackå·¥å…·å¯ä»¥ç”¨äºç”Ÿæˆjavaè™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ã€‚çº¿ç¨‹å¿«ç…§æ˜¯å½“å‰javaè™šæ‹Ÿæœºå†…æ¯ä¸€æ¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•å †æ ˆçš„é›†åˆï¼Œç”Ÿæˆçº¿ç¨‹å¿«ç…§çš„ä¸»è¦ç›®çš„æ˜¯å®šä½çº¿ç¨‹å‡ºç°é•¿æ—¶é—´åœé¡¿çš„åŸå› ï¼Œå¦‚çº¿ç¨‹é—´æ­»é”ã€æ­»å¾ªç¯ã€è¯·æ±‚å¤–éƒ¨èµ„æºå¯¼è‡´çš„é•¿æ—¶é—´ç­‰å¾…ç­‰ã€‚ çº¿ç¨‹å‡ºç°åœé¡¿çš„æ—¶å€™é€šè¿‡jstackæ¥æŸ¥çœ‹å„ä¸ªçº¿ç¨‹çš„è°ƒç”¨å †æ ˆï¼Œå°±å¯ä»¥çŸ¥é“æ²¡æœ‰å“åº”çš„çº¿ç¨‹åˆ°åº•åœ¨åå°åšä»€ä¹ˆäº‹æƒ…ï¼Œæˆ–è€…ç­‰å¾…ä»€ä¹ˆèµ„æºã€‚</p><h6 id="4-æ­»é”ç¤ºä¾‹"><a href="#4-æ­»é”ç¤ºä¾‹" class="headerlink" title="4.æ­»é”ç¤ºä¾‹"></a>4.<strong>æ­»é”ç¤ºä¾‹</strong></h6><p>ï¼ˆ1ï¼‰åˆ›å»ºè¡¨<code>test</code>,æ’å…¥idä¸º1è·Ÿ2çš„ä¸¤æ¡æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> test <span class="keyword">VALUES</span> (<span class="number">1</span>,&quot;tsst1&quot;)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> test <span class="keyword">VALUES</span> (<span class="number">2</span>,&quot;tsst2&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å¼€å¯äº‹åŠ¡</p><p><code>for update</code>  åŠ é”</p><p>InnoDBå¼•æ“é»˜è®¤åŠ çš„æ˜¯è¡Œé”ï¼Œä½†æ˜¯å½“æŸ¥è¯¢çš„æ¡ä»¶æ²¡æœ‰æºå¸¦ä¸»é”®ï¼Œæˆ–è€…æ˜¯è¿™æ¡æ•°æ®ä¸å­˜åœ¨çš„æ—¶å€™å°±ä¼šæ”¹ä¸ºè¡¨é”</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- session1 </span></span><br><span class="line"><span class="keyword">begin</span>;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">3</span> <span class="keyword">for</span> <span class="keyword">update</span>;     </span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test(id, name) <span class="keyword">values</span>(<span class="number">3</span>, &quot;test3&quot;);    </span><br><span class="line"></span><br><span class="line"><span class="comment">-- session2</span></span><br><span class="line"><span class="keyword">begin</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">4</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test(id, name) <span class="keyword">values</span>(<span class="number">4</span>, &quot;test4&quot;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¡ä»¶id&#x3D;3æ˜¯ä¸å­˜åœ¨çš„,ä¸Šé¢ä¸¤ä¸ªå¹¶å‘äº‹åŠ¡ä¸€å®šä¼šå‘ç”Ÿæ­»é”</p><h5 id="é”çš„åŒºé—´åˆ’åˆ†"><a href="#é”çš„åŒºé—´åˆ’åˆ†" class="headerlink" title="é”çš„åŒºé—´åˆ’åˆ†"></a>é”çš„åŒºé—´åˆ’åˆ†</h5><p>1ã€é—´éš™é”ï¼ˆGap Locksï¼‰<br>2ã€ä¸´é”®é”ï¼ˆNext-key Locksï¼‰</p><h5 id="é”çš„ç²’åº¦åˆ’åˆ†"><a href="#é”çš„ç²’åº¦åˆ’åˆ†" class="headerlink" title="é”çš„ç²’åº¦åˆ’åˆ†"></a>é”çš„ç²’åº¦åˆ’åˆ†</h5><p>1ã€è¡¨çº§é”ï¼ˆTable-level lockï¼‰<br>2ã€è¡Œçº§é”ï¼ˆRecord Locksï¼‰<br>3ã€é¡µçº§é”</p><h5 id="é”çº§åˆ«åˆ’åˆ†"><a href="#é”çº§åˆ«åˆ’åˆ†" class="headerlink" title="é”çº§åˆ«åˆ’åˆ†"></a>é”çº§åˆ«åˆ’åˆ†</h5><p>1ã€å…±äº«é”ï¼ˆshare lockï¼Œå³Sé”ï¼‰</p><p>2ã€æ’å®ƒé” &#x2F; ç‹¬å é”ï¼ˆexclusive lockï¼Œå³Xé”ï¼‰<br>3ã€æ„å‘é”</p><h5 id="åŠ é”æ–¹å¼åˆ†ç±»"><a href="#åŠ é”æ–¹å¼åˆ†ç±»" class="headerlink" title="åŠ é”æ–¹å¼åˆ†ç±»"></a>åŠ é”æ–¹å¼åˆ†ç±»</h5><p>è‡ªåŠ¨é”ï¼ˆ Automatic Locksï¼‰<br>æ˜¾ç¤ºé”ï¼ˆLOCK TABLES ï¼‰</p><h5 id="å…­ã€é”çš„ä½¿ç”¨æ–¹å¼åˆ†ç±»"><a href="#å…­ã€é”çš„ä½¿ç”¨æ–¹å¼åˆ†ç±»" class="headerlink" title="å…­ã€é”çš„ä½¿ç”¨æ–¹å¼åˆ†ç±»"></a>å…­ã€é”çš„ä½¿ç”¨æ–¹å¼åˆ†ç±»</h5><p>ä¹è§‚é”ï¼ˆOptimistic Lockï¼‰<br>æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰</p><h5 id="è¡¥å……é”çš„ä½¿ç”¨"><a href="#è¡¥å……é”çš„ä½¿ç”¨" class="headerlink" title="è¡¥å……é”çš„ä½¿ç”¨"></a>è¡¥å……é”çš„ä½¿ç”¨</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># å¼€å¯sé”<span class="operator">/</span>è¯»é”<span class="operator">/</span>å…±äº«é”</span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> book lock <span class="keyword">in</span> share mode;</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"># å¼€å¯xé”<span class="operator">/</span>å†™é”<span class="operator">/</span>æ’ä»–é”</span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> book <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"># mysq8 nawaitæœ‰é”ä¸ç­‰å¾…</span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> book <span class="keyword">for</span> <span class="keyword">update</span> nawait;</span><br><span class="line"></span><br><span class="line"># mysq8 æœ‰é”è¿”å›æ²¡æœ‰é”çš„æ•°æ®è¡Œ</span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> book <span class="keyword">for</span> <span class="keyword">update</span> <span class="keyword">skip</span> locked;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå¤šç¯å¢ƒé…ç½®</title>
      <link href="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>é…ç½®å¤šgitç¯å¢ƒ</p><span id="more"></span><h4 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h4><p>å› ä¸ºéœ€è¦å°†giteePasgesè½¬åˆ°githubï¼Œå†åŠ ä¸Šå·¥ä½œç”¨çš„gitlabï¼Œéœ€è¦é…ç½®å¤šä¸ªgitç¯å¢ƒ</p><h5 id="1-æ‰“å¼€ç»ˆç«¯cd-sshè¿›å…¥sshé…ç½®æ–‡ä»¶å¤¹"><a href="#1-æ‰“å¼€ç»ˆç«¯cd-sshè¿›å…¥sshé…ç½®æ–‡ä»¶å¤¹" class="headerlink" title="1.æ‰“å¼€ç»ˆç«¯cd ~/.sshè¿›å…¥sshé…ç½®æ–‡ä»¶å¤¹"></a>1.æ‰“å¼€ç»ˆç«¯<code>cd ~/.ssh</code>è¿›å…¥sshé…ç½®æ–‡ä»¶å¤¹</h5><p>å¯ä»¥çœ‹åˆ°æˆ‘ç°åœ¨å·²ç»æœ‰ä¸¤ä¸ªå¯†é’¥äº†</p><p><img src="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/image-20220719104006871-8198409.png" alt="image-20220719104006871"></p><h5 id="2-æ‰“å¼€cat-config-é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæœ‰ä¹‹å‰é…ç½®çš„giteeè·Ÿgitlabç¯å¢ƒ"><a href="#2-æ‰“å¼€cat-config-é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæœ‰ä¹‹å‰é…ç½®çš„giteeè·Ÿgitlabç¯å¢ƒ" class="headerlink" title="2.æ‰“å¼€cat config é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæœ‰ä¹‹å‰é…ç½®çš„giteeè·Ÿgitlabç¯å¢ƒ"></a>2.æ‰“å¼€<code>cat config </code>é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæœ‰ä¹‹å‰é…ç½®çš„giteeè·Ÿgitlabç¯å¢ƒ</h5><p><img src="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/image-20220719104233243-8198555.png" alt="image-20220719104233243"></p><h5 id="3-ç”Ÿæˆgithubé…ç½®æ–‡ä»¶"><a href="#3-ç”Ÿæˆgithubé…ç½®æ–‡ä»¶" class="headerlink" title="3.ç”Ÿæˆgithubé…ç½®æ–‡ä»¶"></a>3.ç”Ÿæˆgithubé…ç½®æ–‡ä»¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -f ~/.ssh/id_rsa.github -C &quot;é‚®ç®±åœ°å€&quot;~~~</span><br></pre></td></tr></table></figure><p>å†æ¬¡æŸ¥çœ‹ç›®å½•å°±èƒ½çœ‹åˆ°ç”Ÿæˆçš„githubé…ç½®æ–‡ä»¶</p><p><img src="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/image-20220719105231763.png" alt="image-20220719105231763"></p><h5 id="4-é…ç½®host"><a href="#4-é…ç½®host" class="headerlink" title="4.é…ç½®host"></a>4.é…ç½®host</h5><p><code>vim config</code>ç¼–è¾‘configæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Host gitlab</span><br><span class="line"></span><br><span class="line">  Hostname 30.207.88.65</span><br><span class="line"></span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line"></span><br><span class="line">  IdentityFile ~/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line">  User xxx</span><br><span class="line"></span><br><span class="line">\#Gitee</span><br><span class="line"></span><br><span class="line">Host gitee</span><br><span class="line"></span><br><span class="line">  HostName gitee.com</span><br><span class="line"></span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line"></span><br><span class="line">  IdentityFile ~/.ssh/id_rsa2</span><br><span class="line"></span><br><span class="line">  User xx</span><br><span class="line"></span><br><span class="line">\#GitHub</span><br><span class="line"></span><br><span class="line">Host github.com</span><br><span class="line"></span><br><span class="line">  HostName github.com</span><br><span class="line"></span><br><span class="line">  IdentityFile ~/.ssh/id_rsa.github</span><br><span class="line"></span><br><span class="line">  User x</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå°±å¥½äº†</p><h5 id="5-é…ç½®githubå…¬é’¥"><a href="#5-é…ç½®githubå…¬é’¥" class="headerlink" title="5.é…ç½®githubå…¬é’¥"></a>5.é…ç½®githubå…¬é’¥</h5><p>å…¶å®å…¬é’¥å°±åœ¨<code>id_rsa.github.pub</code>æ–‡ä»¶é‡Œé¢  ä½¿ç”¨catå‘½ä»¤æŠŠé‡Œé¢çš„å†…å®¹å¤åˆ¶å‡ºæ¥</p><p><img src="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/image-20220719110445331-8199886.png" alt="image-20220719110445331"></p><p>ç™»å½•githubæŠŠkeyç²˜è¿›å»å°±å¥½äº†</p><p><img src="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/image-20220719110734607-8200055.png" alt="image-20220719110734607"></p><h5 id="6-ssh-T-git-github-comå°è¯•è®¿é—®ä¸€ä¸‹"><a href="#6-ssh-T-git-github-comå°è¯•è®¿é—®ä¸€ä¸‹" class="headerlink" title="6.ssh -T git@github.comå°è¯•è®¿é—®ä¸€ä¸‹"></a>6.<code>ssh -T git@github.com</code>å°è¯•è®¿é—®ä¸€ä¸‹</h5><p><img src="/2022/07/19/git%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/image-20220719111158473.png" alt="image-20220719111158473"></p><p>çœ‹åˆ°è¿™ä¸ªï¼Œå°±ç®—æˆåŠŸäº†</p><h4 id="win"><a href="#win" class="headerlink" title="win"></a>win</h4><h5 id="1-æ‰“å¼€-SHHæ–‡ä»¶å¤¹"><a href="#1-æ‰“å¼€-SHHæ–‡ä»¶å¤¹" class="headerlink" title="1.æ‰“å¼€.SHHæ–‡ä»¶å¤¹"></a>1.æ‰“å¼€<code>.SHH</code>æ–‡ä»¶å¤¹</h5><p>C:{Users}\Administrator.ssh</p><h5 id="2-æ–°å»ºgité…ç½®æ–‡ä»¶"><a href="#2-æ–°å»ºgité…ç½®æ–‡ä»¶" class="headerlink" title="2.æ–°å»ºgité…ç½®æ–‡ä»¶"></a>2.æ–°å»ºgité…ç½®æ–‡ä»¶</h5><p>æ–°å»ºconfigæ–‡ä»¶<font color="red">!æ³¨æ„æ²¡æœ‰ä»»ä½•åç¼€</font></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># gitee</span><br><span class="line">Host gitee.com</span><br><span class="line">HostName gitee.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/gitee_id_rsa</span><br><span class="line"></span><br><span class="line"># gitLab</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/gitlab_id_rsa</span><br><span class="line"></span><br><span class="line"># github_B</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/github_id_rsa</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Hosté…ç½®æ˜¯æœåŠ¡å™¨åœ°å€,å¦‚æœä¸æ˜¯å…¬ç½‘æˆ–è€…æ˜¯å…¬å¸ç§æœçš„è¯,ä½ åº”è¯¥é…ç½®çš„æ˜¯å…¬å¸çš„åŸŸå</p><h5 id="3-æŒ‡å®šé‚®ç®±è·Ÿç”Ÿæˆsshæ–‡ä»¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®é…ç½®æ–‡ä»¶è‡ªå·±å»è·¯ç”±"><a href="#3-æŒ‡å®šé‚®ç®±è·Ÿç”Ÿæˆsshæ–‡ä»¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®é…ç½®æ–‡ä»¶è‡ªå·±å»è·¯ç”±" class="headerlink" title="3.æŒ‡å®šé‚®ç®±è·Ÿç”Ÿæˆsshæ–‡ä»¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®é…ç½®æ–‡ä»¶è‡ªå·±å»è·¯ç”±"></a>3.æŒ‡å®šé‚®ç®±è·Ÿç”Ÿæˆsshæ–‡ä»¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®é…ç½®æ–‡ä»¶è‡ªå·±å»è·¯ç”±</h5><p>ssh-keygen -t rsa -C â€œ<a href="mailto:&#x79;&#x6f;&#x75;&#x72;&#95;&#101;&#109;&#x61;&#x69;&#x6c;&#x40;&#121;&#x6f;&#117;&#x72;&#101;&#x6d;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;">&#x79;&#x6f;&#x75;&#x72;&#95;&#101;&#109;&#x61;&#x69;&#x6c;&#x40;&#121;&#x6f;&#117;&#x72;&#101;&#x6d;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;</a>â€</p><p>ssh-keygen -t rsa -C â€˜<a href="mailto:&#103;&#117;&#x6f;&#x73;&#x68;&#117;&#x61;&#x69;&#115;&#104;&#117;&#x61;&#105;&#x40;&#105;&#117;&#x63;&#116;&#114;&#x69;&#112;&#x2e;&#99;&#x6f;&#x6d;">&#103;&#117;&#x6f;&#x73;&#x68;&#117;&#x61;&#x69;&#115;&#104;&#117;&#x61;&#105;&#x40;&#105;&#117;&#x63;&#116;&#114;&#x69;&#112;&#x2e;&#99;&#x6f;&#x6d;</a>â€˜ -f ~&#x2F;.ssh&#x2F;gitlab_id_rsa</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>postManï½œSSLé”™è¯¯</title>
      <link href="/2022/07/19/postMan%EF%BD%9CSSL%E9%94%99%E8%AF%AF/"/>
      <url>/2022/07/19/postMan%EF%BD%9CSSL%E9%94%99%E8%AF%AF/</url>
      
        <content type="html"><![CDATA[<p>Postman æŠ¥é”™SSL Error: Self signed certificate Disable SSL Verification</p><span id="more"></span><p>Postman æŠ¥é”™SSL Error: Self signed certificate Disable SSL Verification</p><p><img src="/2022/07/19/postMan%EF%BD%9CSSL%E9%94%99%E8%AF%AF/image-20220719094656814-8195220.png" alt="image-20220719094656814"></p><p>ä¸€å¼€å§‹ä»¥ä¸ºå¯èƒ½æ˜¯macåœ°å€ç™½åå•é—®é¢˜ï¼Œå…¶å®ä¸æ˜¯ã€‚è€Œæ˜¯postmanè®¾ç½®é—®é¢˜</p><p>settings | ssl certificate verification ï¼Œç‚¹å‡»offï¼Œå…³é—­å³å¯</p><p><img src="/2022/07/19/postMan%EF%BD%9CSSL%E9%94%99%E8%AF%AF/image-20220719094922817.png" alt="image-20220719094922817"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> postMan </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typoraä½¿ç”¨è¯¦ç»†</title>
      <link href="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/"/>
      <url>/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/</url>
      
        <content type="html"><![CDATA[<p>Typoraä½¿ç”¨è¯¦ç»†</p><span id="more"></span><h3 id="Typoraä»‹ç»ä¸ä¸‹è½½"><a href="#Typoraä»‹ç»ä¸ä¸‹è½½" class="headerlink" title="Typoraä»‹ç»ä¸ä¸‹è½½"></a>Typoraä»‹ç»ä¸ä¸‹è½½</h3><p>Typoraç¼–è¾‘å™¨è®©äººä»¬èƒ½æ›´ç®€å•åœ°ç”¨Markdownè¯­è¨€ä¹¦å†™æ–‡å­—ï¼Œè§£å†³äº†ä½¿ç”¨ä¼ ç»Ÿçš„Markdownç¼–è¾‘å™¨å†™æ–‡çš„ç—›ç‚¹ï¼Œå¹¶ä¸”ç•Œé¢ç®€æ´ä¼˜ç¾ï¼Œå®ç°äº†å®æ—¶é¢„è§ˆç­‰åŠŸèƒ½ã€‚</p><p>Typoraå®˜ç½‘ï¼š <a href="https://typora.io/">https://typora.io/</a></p><h4 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h4><p>ä½¿ç”¨ # å¯ä»¥è¡¨ç¤ºæ ‡é¢˜ï¼Œä¸€çº§æ ‡é¢˜å¯¹åº”ä¸€ä¸ª # ï¼ŒäºŒçº§æ ‡é¢˜å¯¹åº”ä¸¤ä¸ª # å·ï¼Œæœ€å¤šè‡³å…­çº§æ ‡é¢˜ã€‚åœ¨Typoraä¸­ï¼Œ# åè¦ç´§æ¥ç€ä¸€ä¸ªç©ºæ ¼æ‰èƒ½è¡¨ç¤ºæ ‡é¢˜ï¼Œå¦åˆ™å°±æ˜¯æ™®é€šå­—ç¬¦ã€‚</p><p>åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®command+1ï¼ˆ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼‰è¡¨ç¤ºç›¸å¯¹åº”çš„æ ‡é¢˜ã€‚command+0è¡¨ç¤ºæ®µè½ã€‚æ ‡é¢˜å¿«æ·é”®ä¿¡æ¯å¯åœ¨èœå•æ ä¸­çš„æ®µè½é€‰é¡¹ä¸‹æŸ¥çœ‹ã€‚</p><h5 id="ä¾‹"><a href="#ä¾‹" class="headerlink" title="ä¾‹"></a>ä¾‹</h5><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715155550280.png" alt="image-20220715155550280"></p><h5 id="åé¢åŠ å…¥ç©ºæ ¼æ•ˆæœ"><a href="#åé¢åŠ å…¥ç©ºæ ¼æ•ˆæœ" class="headerlink" title="#åé¢åŠ å…¥ç©ºæ ¼æ•ˆæœ"></a>#åé¢åŠ å…¥ç©ºæ ¼æ•ˆæœ</h5><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715155657206.png" alt="image-20220715155657206"></p><h4 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h4><p>ç”¨ä¸€å¯¹æ˜Ÿå·<em>æ‹¬ä½çš„æ–‡æœ¬è¡¨ç¤ºæ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š</em>è¦å˜æ–œä½“çš„æ–‡æœ¬*ï¼Œæ–œä½“æ–‡æœ¬ ï¼›<br>ä¹Ÿå¯ä»¥ç”¨ä¸€å¯¹ä¸‹åˆ’çº¿_æ‹¬ä½æ–‡æœ¬æ¥è¡¨ç¤ºæ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š_è¦å˜æ–œä½“çš„æ–‡æœ¬_ï¼Œæ–œä½“æ–‡æœ¬ ï¼›<br>ä¹Ÿå¯ä»¥ä½¿ç”¨Typoraçš„å¿«æ·é”®Ctrl+Iæ¥è¡¨ç¤ºæ–œä½“æ–‡æœ¬ã€‚</p><p>ç”¨ä¸€å¯¹<strong>æ‹¬ä½çš„æ–‡æœ¬è¡¨ç¤ºç²—ä½“æ–‡æœ¬ï¼Œå¦‚ï¼š</strong>è¦å˜ç²—ä½“çš„æ–‡æœ¬**ï¼Œç²—ä½“æ–‡æœ¬ï¼›<br>ä¹Ÿå¯ä»¥ç”¨ä¸€å¯¹__æ‹¬ä½çš„æ–‡æœ¬æ¥è¡¨ç¤ºç²—ä½“æ–‡æœ¬ï¼Œå¦‚ï¼š__è¦å˜ç²—ä½“çš„æ–‡æœ¬__ï¼Œç²—ä½“æ–‡æœ¬ï¼›<br>ä¹Ÿå¯ä»¥ä½¿ç”¨Typoraçš„å¿«æ·é”®Ctrl+Bæ¥è¡¨ç¤ºç²—ä½“æ–‡æœ¬ã€‚</p><p>ç”¨ä¸€å¯¹<em><strong>æ‹¬ä½çš„æ–‡æœ¬è¡¨ç¤ºç²—æ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š</strong></em>è¦å˜ç²—æ–œä½“çš„æ–‡æœ¬***ï¼Œç²—æ–œä½“æ–‡æœ¬ï¼›<br>ä¹Ÿå¯ä»¥ç”¨ä¸€å¯¹___æ‹¬ä½çš„æ–‡æœ¬æ¥è¡¨ç¤ºç²—æ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š___è¦å˜ç²—æ–œä½“çš„æ–‡æœ¬___ï¼Œç²—æ–œä½“æ–‡æœ¬ï¼›</p><h5 id="ä¾‹-1"><a href="#ä¾‹-1" class="headerlink" title="ä¾‹"></a>ä¾‹</h5><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715160404892.png" alt="image-20220715160404892"></p><h4 id="å„ç§çº¿"><a href="#å„ç§çº¿" class="headerlink" title="å„ç§çº¿"></a>å„ç§çº¿</h4><p>åˆ†å‰²çº¿ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰ä¸ªåŠä»¥ä¸Šçš„ + å·æˆ– * å·æˆ– - æ¥è¡¨ç¤ºä¸€æ¡åˆ†å‰²çº¿ï¼›<br>ç”±ä¸‰ä¸ª*å·è¡¨ç¤ºçš„åˆ†å‰²çº¿ï¼š</p><p>ç”±ä¸‰ä¸ª+å·è¡¨ç¤ºçš„åˆ†å‰²çº¿ï¼š</p><p>+++(åœ¨CSDNä¸­ä¸ä»£è¡¨åˆ†å‰²çº¿ï¼‰</p><p>ç”±ä¸‰ä¸ª-å·è¡¨ç¤ºçš„åˆ†å‰²çº¿ï¼š</p><p>åˆ é™¤çº¿ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¯¹<del>æ‹¬ä½çš„æ–‡æœ¬æ¥è¡¨ç¤ºåˆ é™¤æ–‡æœ¬ï¼Œå¦‚ï¼š</del>è¦åŠ åˆ é™¤çº¿çš„æ–‡æœ¬~~ï¼Œåˆ é™¤æ–‡æœ¬ï¼›åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®Alt+Shift+5æ¥åŠ åˆ é™¤çº¿ï¼Œè¯­æ³•ç›¸åŒï¼Œåˆ é™¤çº¿ã€‚<br>ä¸‹åˆ’çº¿ï¼Œå¯ä»¥ä½¿ç”¨HTMLçš„æ ‡ç­¾<u>å’Œ</u>è¡¨ç¤ºå¢åŠ ä¸‹åˆ’çº¿çš„æ–‡æœ¬ï¼Œå¦‚ï¼š<u>è¦å¢åŠ ä¸‹åˆ’çº¿çš„æ–‡æœ¬</u>ï¼Œä¸‹åˆ’çº¿ï¼›åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Uæ¥å¢åŠ ä¸‹åˆ’çº¿ï¼Œè¯­æ³•ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œä¸‹åˆ’çº¿ã€‚</p><h5 id="ä¾‹-2"><a href="#ä¾‹-2" class="headerlink" title="ä¾‹"></a>ä¾‹</h5><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715160832180.png" alt="image-20220715160832180"></p><p>command+&#x2F;å…³é—­æºç æ¨¡å¼æ•ˆæœ</p><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715162754057.png" alt="image-20220715162754057"></p><h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><p><strong>æ— åºåˆ—è¡¨</strong></p><p>å¯ä»¥ä½¿ç”¨<code>*</code>ï¼Œ<code>+</code>æˆ–<code>-</code>æ ‡è®°ç¬¦å·æ¥è¡¨ç¤ºæ— åºåˆ—è¡¨é¡¹ï¼Œè®°ä½è¦åœ¨æ ‡è®°ç¬¦å·å<strong>æ·»åŠ ä¸€ä¸ªç©ºæ ¼</strong></p><p><strong>æœ‰åºåˆ—è¡¨</strong></p><p>å¯ä»¥ä½¿ç”¨<strong>æ•°å­—åŠ ä¸Š<code>.</code>å†åŠ ä¸Šç©ºæ ¼</strong>æ¥è¡¨ç¤ºæœ‰åºåˆ—è¡¨ï¼Œ<strong>æ•°å­—æ— å®é™…æ„ä¹‰åªæ˜¯ä¸€ä¸ªç¬¦å·ï¼Œä¸å½±å“è¾“å‡º</strong></p><h5 id="ä¾‹-3"><a href="#ä¾‹-3" class="headerlink" title="ä¾‹"></a>ä¾‹</h5><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715163141893.png" alt="image-20220715163141893"></p><h5 id="é€€å‡ºæºç æ•ˆæœ"><a href="#é€€å‡ºæºç æ•ˆæœ" class="headerlink" title="é€€å‡ºæºç æ•ˆæœ"></a>é€€å‡ºæºç æ•ˆæœ</h5><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715163215263.png" alt="image-20220715163215263"></p><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>å¦‚æœæ˜¯ä¸€è¡Œä»£ç ï¼Œå¯ä»¥ä½¿ç”¨æ®µå†…ä»£ç å—æ¥è¡¨ç¤ºï¼Œç”¨ä¸€å¯¹ &#96;ï¼ˆæ•°å­—1æ—è¾¹çš„ç¬¦å·ï¼‰æ‹¬ä½ä»£ç ã€‚</p><p>æ¯”å¦‚printf(â€œHello World!â€)</p><p>å¦‚æœæ˜¯ä»£ç æ®µï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸‰ä¸ª &#96; åŠ Enter&#x2F;ç©ºæ ¼+ç¼–ç¨‹è¯­è¨€æ¥è¡¨ç¤ºã€‚å¦‚ï¼š<br>å¯ä»¥åœ¨ä»£ç å—çš„å³ä¸‹è§’é€‰æ‹©ç¼–ç¨‹è¯­è¨€ã€‚</p><h4 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h4><p>é“¾æ¥çš„ä½¿ç”¨æ–¹å¼æœ‰ä¸¤ç§è¯­æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[é“¾æ¥æ–‡å­—](é“¾æ¥åœ°å€)</span><br><span class="line">æˆ–</span><br><span class="line">&lt;é“¾æ¥åœ°å€&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é“¾æ¥æ‰“å¼€ç½‘é¡µï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ç™¾åº¦](https://www.baidu.com/)</span><br><span class="line">&lt;https://www.baidu.com/&gt;</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p><p><a href="https://www.baidu.com/">ç™¾åº¦</a><br><a href="https://www.baidu.com/">https://www.baidu.com/</a></p><p>å½“é¼ æ ‡ç§»åˆ°ç›¸åº”çš„é“¾æ¥æ–‡å­—æ—¶ï¼ŒæŒ‰ä½Ctrl+é¼ æ ‡å·¦é”®ç‚¹å‡»è®¿é—®ã€‚</p><p>é“¾æ¥é™¤äº†å¯ä»¥æ‰“å¼€ç›¸åº”çš„ç½‘é¡µå¤–ï¼Œè¿˜å¯ä»¥æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼Œä½¿ç”¨æ–¹å¼ç±»ä¼¼ï¼Œä¸è¿‡é“¾æ¥åœ°å€éœ€è¦ä½¿ç”¨æœ¬åœ°æ–‡ä»¶çš„åœ°å€ï¼Œç›¸å¯¹åœ°å€ã€ç»å¯¹åœ°å€å‡å¯ï¼š</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[æ‰“å¼€LinkTest.mdæ–‡æ¡£](./LinkTest.md)</span><br><span class="line">[æ‰“å¼€LinkTest.pngç…§ç‰‡](./img/LinkTest.png)</span><br></pre></td></tr></table></figure><p><a href="./LinkTest.md">æ‰“å¼€LinkTest.mdæ–‡æ¡£</a><br><a href="./img/LinkTest.png">æ‰“å¼€LinkTest.pngç…§ç‰‡</a></p><p>ç»æµ‹è¯•å¯ä»¥æ‰“å¼€ç›¸åº”çš„æ–‡ä»¶ã€‚ä½†æ˜¯ä¸èƒ½ä½¿ç”¨&lt;è¦æ‰“å¼€çš„æ–‡ä»¶åœ°å€&gt;æ¥æ‰“å¼€ç›¸åº”çš„æ–‡ä»¶ï¼Œæ¯”å¦‚&lt;.&#x2F;LinkTest.md&gt;å¹¶æ²¡æœ‰è¡¨ç°ä¸ºå¯é“¾æ¥çŠ¶æ€ã€‚</p><p>è¡¥å……çŸ¥è¯†ï¼š</p><p>ä¸€ä¸ªå°åœ†ç‚¹.è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œæ•….&#x2F;LinkTest.mdè¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„LinkTest.mdæ–‡ä»¶ï¼Œ.&#x2F;img&#x2F;LinkTest.pngè¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„imgæ–‡ä»¶ä¸‹çš„LinkTest.pngæ–‡ä»¶ã€‚</p><p>ä¸¤ä¸ªå°åœ†ç‚¹..è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é“¾æ¥æ¥å®ç°é¡µå†…è·³è½¬ï¼Œè¯­æ³•ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[é“¾æ¥æ–‡å­—](#æ ‡é¢˜æ–‡å­—)</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[è·³è½¬åˆ°ç¬¬ä¸€ç« ç¬¬ä¸€èŠ‚](#Typoraä»‹ç»ä¸ä¸‹è½½)</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š<br><a href="#Typora%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%B8%8B%E8%BD%BD">è·³è½¬åˆ°ç¬¬ä¸€ç« ç¬¬ä¸€èŠ‚</a></p><p>ç»æµ‹è¯•ï¼Œå¯ä»¥æˆåŠŸè·³è½¬ã€‚<br>åœ¨CSDNä¸­ä¸æ”¯æŒè¿™ç§é¡µå†…è·³è½¬æ–¹å¼ã€‚</p><h4 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h4><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Markdownæ–‡æ¡£ä¸­æ’å…¥å›¾ç‰‡ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![alt å±æ€§æ–‡æœ¬](å›¾ç‰‡åœ°å€)</span><br><span class="line"></span><br><span class="line">![alt å±æ€§æ–‡æœ¬](å›¾ç‰‡åœ°å€ &quot;å¯é€‰æ ‡é¢˜&quot;)</span><br></pre></td></tr></table></figure><p>é¦–å…ˆä¸€ä¸ªæ„Ÿå¹å·<br>ç„¶åä¸­æ‹¬å·é‡Œé¢å†™å±æ€§æ–‡æœ¬<br>å°æ‹¬å·é‡Œé¢å†™å›¾ç‰‡åœ°å€ï¼Œåå¯æ¥æ ‡é¢˜<br>ç¤ºä¾‹è¯­æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![æœ¬åœ°pngå›¾ç‰‡PictureTest.png](./img/PictureTest.png)</span><br><span class="line"></span><br><span class="line">![æœ¬åœ°jpgå›¾ç‰‡](./img/PictureTest.jpg)</span><br></pre></td></tr></table></figure><p><img src="http://static.runoob.com/images/runoob-logo.png" alt="ç½‘ç»œå›¾ç‰‡" title="èœé¸Ÿæ•™ç¨‹"></p><p>åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Ctrl+Cï¼ŒCtrl+Væ¥ç›´æ¥è¿›è¡Œå¤åˆ¶ç²˜è´´å›¾ç‰‡ï¼Œä½†æ˜¯ï¼Œç”±äºMarkdownæ˜¯éœ€è¦å›¾ç‰‡çš„åœ°å€çš„ï¼Œæ‰€ä»¥éœ€è¦ç®€å•è®¾ç½®ä¸€ä¸‹Typoraã€‚</p><p>ç‚¹å‡»æ–‡ä»¶ â€“&gt; åå¥½è®¾ç½® â€“&gt; å›¾åƒï¼Œå¦‚ä¸‹ï¼š</p><p><img src="/2022/07/15/Typora%E4%BD%BF%E7%94%A8%E8%AF%A6/image-20220715165118458.png" alt="image-20220715165118458"></p><p>å¯ä»¥è‡ªè¡Œè®¾ç½®é€‰æ‹©å°†å›¾ç‰‡å¤åˆ¶åˆ°å“ªä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>è¿™é‡Œé€‰æ‹©å¤åˆ¶åˆ°æŒ‡å®šè·¯å¾„ï¼Œç„¶ååœ¨ä¸‹é¢ä¸€æ ä¸­å¡«å†™.&#x2F;imgï¼Œè¡¨ç¤ºå°†å›¾ç‰‡å¤åˆ¶åˆ°ä½ æ­£åœ¨ç¼–è¾‘çš„æ–‡æ¡£åŒä¸€çº§çš„imgæ–‡ä»¶å¤¹ä¸‹ã€‚åœ¨ä¸‹é¢çš„é€‰é¡¹ä¸­ï¼Œå‹¾é€‰ç¬¬ä¸€ã€äºŒã€ä¸‰é¡¹ã€‚æ­£å› ä¸ºå‹¾é€‰äº†ç¬¬äºŒé¡¹ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨æ’å…¥ç½‘ç»œå›¾ç‰‡æ—¶ï¼ŒTyporaä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å°†ç½‘ç»œå›¾ç‰‡ä¸‹è½½åˆ°æŒ‡å®šçš„è·¯å¾„ä¸‹ï¼Œå‰é¢çš„â€èœé¸Ÿæ•™ç¨‹â€å›¾ç‰‡ä¾¿æ˜¯å¦‚æ­¤ã€‚</p><p>ç”±äºMarkdownçš„ç‰¹æ®Šè¯­æ³•ï¼Œæ•…ç»å¸¸ä¼šå‡ºç°å›¾ç‰‡åŠ è½½å¤±è´¥çš„æƒ…å†µï¼Œå¾ˆå¤§çš„å¯èƒ½å°±æ˜¯å› ä¸ºåœ¨æŒ‡å®šçš„è·¯å¾„ä¸Šæ‰¾ä¸åˆ°ç›¸åº”çš„å›¾ç‰‡ï¼Œå½“ç„¶ï¼Œæœ‰æ—¶å€™ä¹Ÿæ˜¯ç”±äºTyporaçš„åŸå› ï¼Œé‡å¯Typoraå³å¯ã€‚</p><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><p>Markdown åˆ¶ä½œè¡¨æ ¼ä½¿ç”¨ <code>|</code> æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨ <code>-</code> æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|è¡¨å¤´|è¡¨å¤´|è¡¨å¤´|</span><br><span class="line">|---|---|----|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br></pre></td></tr></table></figure><table><thead><tr><th>è¡¨å¤´</th><th>è¡¨å¤´</th><th>è¡¨å¤´</th></tr></thead><tbody><tr><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td></tr><tr><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥è®¾ç½®å¯¹é½æ–¹å¼ï¼š</p><ul><li><code>:-</code>è¡¨ç¤ºå·¦å¯¹é½</li><li><code>-:</code>è¡¨ç¤ºå³å¯¹é½</li><li><code>:-:</code>è¡¨ç¤ºä¸­é—´å¯¹é½</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|å·¦å¯¹é½|å³å¯¹é½|ä¸­é—´å¯¹é½|</span><br><span class="line">|:---|---:|:----:|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å·¦å¯¹é½</th><th align="right">å³å¯¹é½</th><th align="center">ä¸­é—´å¯¹é½</th></tr></thead><tbody><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><h4 id="Typoraä¸æ•°å­¦å…¬å¼"><a href="#Typoraä¸æ•°å­¦å…¬å¼" class="headerlink" title="Typoraä¸æ•°å­¦å…¬å¼"></a>Typoraä¸æ•°å­¦å…¬å¼</h4><p>åœ¨Typoraä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•æ’å…¥æ•°å­¦å…¬å¼ï¼Œè¯­æ³•ä¸ºï¼š</p><p>ç¬¬ä¸€ç§æ–¹æ³•ï¼š$æ•°å­¦å…¬å¼$<br>ç¬¬äºŒç§æ–¹æ³•ï¼š<br>ç¬¬ä¸€ç§æ–¹æ³•è¡¨ç¤ºæ’å…¥è¡Œå†…å…¬å¼ï¼ˆå†…è”å…¬å¼ï¼‰ï¼Œå³å¯ä»¥å°†å…¬å¼æ’å…¥åˆ°ä¸€è¡Œä¸­ï¼Œæ¯”å¦‚1 + 2 &#x3D; 3 1+2&#x3D;31+2&#x3D;3è¿™æ ·çš„å…¬å¼ã€‚</p><p>ç¬¬äºŒç§æ–¹æ³•è¡¨ç¤ºæ’å…¥è¡Œé—´å…¬å¼ï¼ˆå¤–è”å…¬å¼ï¼‰ï¼Œå³å¯ä»¥å°†å…¬å¼æ’å…¥åˆ°è¡Œä¸è¡Œä¹‹é—´ï¼Œå•ç‹¬å æ®ä¸€è¡Œæˆ–è€…æ•°è¡Œçš„ç©ºé—´ï¼Œå¹¶ä¸”å±…ä¸­æ”¾ç½®ã€‚<br>1 + 2 &#x3D; 3 1+2&#x3D;3<br>1+2&#x3D;3</p><p>å¦‚æœè¦åœ¨è¡Œé—´å…¬å¼å†…æ¢è¡Œï¼Œåœ¨æ¢è¡Œçš„ä½ç½®ä½¿ç”¨<code>\\</code>ã€‚</p><h4 id="æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°"><a href="#æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°" class="headerlink" title="æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°"></a>æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<font> </font>æ ‡ç­¾æ¥æ”¹å˜å­—ä½“çš„é¢œè‰²åŠå¤§å°ï¼Œå¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span>&gt;</span>å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼Œå¤§å°ä¸º3<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">4</span> <span class="attr">color</span>=<span class="string">&quot;blue&quot;</span>&gt;</span>å­—ä½“é¢œè‰²ä¸ºè“è‰²ï¼Œå¤§å°ä¸º4<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">6</span> <span class="attr">color</span>=<span class="string">&quot;violet&quot;</span>&gt;</span>å­—ä½“é¢œè‰²ä¸ºç´«ç½—å…°ï¼Œå¤§å°ä¸º6<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><p><font>å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼Œå¤§å°ä¸º3</font></p><p><font size="4" color="blue">å­—ä½“é¢œè‰²ä¸ºè“è‰²ï¼Œå¤§å°ä¸º4</font></p><p><font size="6" color="violet">å­—ä½“é¢œè‰²ä¸ºç´«ç½—å…°ï¼Œå¤§å°ä¸º6</font></p><h4 id="æ”¹å˜å¯¹é½æ–¹å¼"><a href="#æ”¹å˜å¯¹é½æ–¹å¼" class="headerlink" title="æ”¹å˜å¯¹é½æ–¹å¼"></a>æ”¹å˜å¯¹é½æ–¹å¼</h4><p>æˆ‘ä»¬å¯ä»¥æ”¹å˜å­—ä½“çš„å¯¹é½æ–¹å¼ï¼Œç”¨æ ‡ç­¾<code>&lt;p&gt; &lt;/p&gt;</code>åŠ ä¸Šå±æ€§<code>align</code>ï¼Œå¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span>ä¸­é—´å¯¹é½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">&quot;right&quot;</span>&gt;</span>å³å¯¹é½<span class="tag">&lt;/<span class="name">p</span>&gt;</span>```</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><p align="center">ä¸­é—´å¯¹é½</p><p align="right">å³å¯¹é½</p><h4 id="æ’å…¥emojiè¡¨æƒ…"><a href="#æ’å…¥emojiè¡¨æƒ…" class="headerlink" title="æ’å…¥emojiè¡¨æƒ…"></a>æ’å…¥emojiè¡¨æƒ…</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>:emoji:</code>çš„è¯­æ³•æ¥æ’å…¥è¡¨æƒ…ï¼Œæ¯”å¦‚ï¼š</p><p>:happy:çš„è¯­æ³•ä¸º<code>:happy:</code></p><p>ğŸ¦€çš„è¯­æ³•ä¸º<code>:crab:</code></p><p>ğŸ´çš„è¯­æ³•ä¸º<code>:horse:</code></p><h4 id="æ–‡æœ¬é«˜äº®"><a href="#æ–‡æœ¬é«˜äº®" class="headerlink" title="æ–‡æœ¬é«˜äº®"></a>æ–‡æœ¬é«˜äº®</h4><p>åœ¨Typoraä¸­ï¼Œå¯ä»¥ç”¨ä¸€å¯¹<code>==</code>å°†è¦é«˜äº®çš„æ–‡æœ¬æ‹¬èµ·æ¥ï¼Œå¦‚ï¼š</p><p>&lt;br</p><p>&#x3D;&#x3D;è¦é«˜äº®çš„æ–‡æœ¬&#x3D;&#x3D;</p><p>&#x3D;&#x3D;èƒŒæ™¯ä¼šç”¨é»„è‰²å¡«å……&#x3D;&#x3D;</p><p><strong>hexoä¸æ”¯æŒ</strong></p><p>ä½†æ˜¯å‘ç°æ”¯æŒ<code>html</code> </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;background-color:red&quot;</span>&gt;</span></span><br><span class="line">é€šè¿‡ rbg å€¼è®¾ç½®èƒŒæ™¯é¢œè‰²</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p style="background-color:red">é€šè¿‡ rbg å€¼è®¾ç½®èƒŒæ™¯é¢œè‰²</p><p></p><h5 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h5><p><code>&lt;!-- --&gt;</code></p><p>æ•ˆæœ</p><!-- æ³¨é‡Šæ‰çš„å†…å®¹ --><h5 id="åŒºå—å¼•ç”¨"><a href="#åŒºå—å¼•ç”¨" class="headerlink" title="åŒºå—å¼•ç”¨"></a>åŒºå—å¼•ç”¨</h5><p>Markdown åŒºå—å¼•ç”¨æ˜¯åœ¨æ®µè½å¼€å¤´ä½¿ç”¨ <strong>&gt;</strong> ç¬¦å· ï¼Œç„¶ååé¢ç´§è·Ÿä¸€ä¸ª<strong>ç©ºæ ¼</strong>ç¬¦å·</p><h6 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h6><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; åŒºå—å¼•ç”¨</span><br><span class="line">&gt; å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯æ›´æ˜¯æ¢¦æƒ³</span><br></pre></td></tr></table></figure><h6 id="æ•ˆæœï¼š"><a href="#æ•ˆæœï¼š" class="headerlink" title="æ•ˆæœï¼š"></a>æ•ˆæœï¼š</h6><blockquote><p>åŒºå—å¼•ç”¨<br>å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯æ›´æ˜¯æ¢¦æƒ³</p></blockquote><h6 id="åµŒå¥—ä½¿ç”¨ï¼š"><a href="#åµŒå¥—ä½¿ç”¨ï¼š" class="headerlink" title="åµŒå¥—ä½¿ç”¨ï¼š"></a>åµŒå¥—ä½¿ç”¨ï¼š</h6><p>ä¸€ä¸ª <strong>&gt;</strong> ç¬¦å·æ˜¯æœ€å¤–å±‚ï¼Œä¸¤ä¸ª <strong>&gt;</strong> ç¬¦å·æ˜¯ç¬¬ä¸€å±‚åµŒå¥—ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><h6 id="ç¤ºä¾‹ï¼š-1"><a href="#ç¤ºä¾‹ï¼š-1" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; æœ€å¤–å±‚</span><br><span class="line">&gt; &gt; ç¬¬ä¸€å±‚åµŒå¥—</span><br><span class="line">&gt; &gt; &gt; ç¬¬äºŒå±‚åµŒå¥—</span><br></pre></td></tr></table></figure><h6 id="æ•ˆæœï¼š-1"><a href="#æ•ˆæœï¼š-1" class="headerlink" title="æ•ˆæœï¼š"></a>æ•ˆæœï¼š</h6><blockquote><p>æœ€å¤–å±‚</p><blockquote><p>ç¬¬ä¸€å±‚åµŒå¥—</p><blockquote><p>ç¬¬ä¸‰å±‚</p></blockquote></blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°·æ­Œæµè§ˆå™¨æ‰“ä¸å¼€ç½‘é¡µé—®é¢˜</title>
      <link href="/2022/07/15/%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E4%B8%8D%E5%BC%80%E7%BD%91%E9%A1%B5%E9%97%AE%E9%A2%98/"/>
      <url>/2022/07/15/%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E4%B8%8D%E5%BC%80%E7%BD%91%E9%A1%B5%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>å°†æ‚¨è®¿é—®çš„éƒ¨åˆ†ç½‘é¡µçš„ç½‘å€ã€æœ‰é™çš„ç³»ç»Ÿä¿¡æ¯ä»¥åŠéƒ¨åˆ†ç½‘é¡µå†…å®¹å‘é€ç»™ Googleï¼Œä»¥å¸®åŠ©æˆ‘ä»¬æå‡ Chrome çš„å®‰å…¨æ€§ã€‚éšç§æƒæ”¿ç­–</p><span id="more"></span><h4 id="é—®é¢˜ï¼šè¿è¡Œé¡¹ç›®åœ¨Chromeä¸­æ‰“å¼€å‡ºç°ä»¥ä¸‹é—®é¢˜"><a href="#é—®é¢˜ï¼šè¿è¡Œé¡¹ç›®åœ¨Chromeä¸­æ‰“å¼€å‡ºç°ä»¥ä¸‹é—®é¢˜" class="headerlink" title="é—®é¢˜ï¼šè¿è¡Œé¡¹ç›®åœ¨Chromeä¸­æ‰“å¼€å‡ºç°ä»¥ä¸‹é—®é¢˜"></a>é—®é¢˜ï¼šè¿è¡Œé¡¹ç›®åœ¨Chromeä¸­æ‰“å¼€å‡ºç°ä»¥ä¸‹é—®é¢˜</h4><p><img src="/2022/07/15/%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E4%B8%8D%E5%BC%80%E7%BD%91%E9%A1%B5%E9%97%AE%E9%A2%98/image-20220715150621093-7868785.png" alt="image-20220715150621093"></p><p>è¿™ä¸ªé—®é¢˜å¤§é‡å‡ºç°åœ¨æˆ‘è®¿é—®å…¬å¸ç½‘ç»œï¼Œgithubä¹‹ç±»çš„ï¼Œå¤´ç–¼å¾—å¾ˆ</p><p>æ‚¨çš„è¿æ¥ä¸æ˜¯ç§å¯†è¿æ¥<br>æ”»å‡»è€…å¯èƒ½ä¼šè¯•å›¾ä» x.x.x.x çªƒå–æ‚¨çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼šå¯†ç ã€é€šè®¯å†…å®¹æˆ–ä¿¡ç”¨å¡ä¿¡æ¯ï¼‰ã€‚äº†è§£è¯¦æƒ…<br>NET::ERR_CERT_INVALID</p><p>å°†æ‚¨è®¿é—®çš„éƒ¨åˆ†ç½‘é¡µçš„ç½‘å€ã€æœ‰é™çš„ç³»ç»Ÿä¿¡æ¯ä»¥åŠéƒ¨åˆ†ç½‘é¡µå†…å®¹å‘é€ç»™ Googleï¼Œä»¥å¸®åŠ©æˆ‘ä»¬æå‡ Chrome çš„å®‰å…¨æ€§ã€‚éšç§æƒæ”¿ç­–<br>x.x.x.x é€šå¸¸ä¼šä½¿ç”¨åŠ å¯†æŠ€æœ¯æ¥ä¿æŠ¤æ‚¨çš„ä¿¡æ¯ã€‚Google Chrome æ­¤æ¬¡å°è¯•è¿æ¥åˆ° x.x.x.x æ—¶ï¼Œæ­¤ç½‘ç«™å‘å›äº†å¼‚å¸¸çš„é”™è¯¯å‡­æ®ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºæœ‰æ”»å‡»è€…åœ¨è¯•å›¾å†’å…… x.x.x.xï¼Œæˆ– Wi-Fi ç™»å½•å±å¹•ä¸­æ–­äº†æ­¤æ¬¡è¿æ¥ã€‚è¯·æ”¾å¿ƒï¼Œæ‚¨çš„ä¿¡æ¯ä»ç„¶æ˜¯å®‰å…¨çš„ï¼Œå› ä¸º Google Chrome å°šæœªè¿›è¡Œä»»ä½•æ•°æ®äº¤æ¢ä¾¿åœæ­¢äº†è¿æ¥ã€‚</p><p>æ‚¨ç›®å‰æ— æ³•è®¿é—® x.x.x.xï¼Œå› ä¸ºæ­¤ç½‘ç«™å‘é€äº† Google Chrome æ— æ³•å¤„ç†çš„æ‚ä¹±å‡­æ®ã€‚ç½‘ç»œé”™è¯¯å’Œæ”»å‡»é€šå¸¸æ˜¯æš‚æ—¶çš„ï¼Œå› æ­¤ï¼Œæ­¤ç½‘é¡µç¨åå¯èƒ½ä¼šæ¢å¤æ­£å¸¸ã€‚</p><p><strong>è§£å†³ï¼šå°±æ˜¯åœ¨å½“å‰é¡µé¢ç”¨é”®ç›˜è¾“å…¥  thisisunsafe  ï¼Œä¸æ˜¯åœ¨åœ°å€æ è¾“å…¥ï¼Œå°±ç›´æ¥æ•²é”®ç›˜å°±è¡Œäº†ï¼Œé¡µé¢å³ä¼šè‡ªåŠ¨åˆ·æ–°è¿›å…¥ç½‘é¡µã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springæ—¥å¿—çº§åˆ«</title>
      <link href="/2022/06/22/spring%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB/"/>
      <url>/2022/06/22/spring%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>springæ—¥å¿—çº§åˆ«</p><span id="more"></span><p>1.å¯åŠ¨é¡¹ç›®çš„æ—¶å€™å‘ç°æˆåŠŸå¯åŠ¨åï¼Œåå°æ²¡æœ‰æ‰“å°ç«¯å£å·è¿™äº›æ—¥å¿—</p><p><img src="/2022/06/22/spring%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB/image-20220623140825715-5964511-5964513-5964515.png" alt="image-20220623140825715"></p><p>æ£€æŸ¥é…ç½®å‘ç° æ—¥å¿—çº§åˆ«é…ç½®ä¸ºWARNï¼ˆè­¦å‘Šï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ—¥å¿—é…<span class="number">432</span></span><br><span class="line"><span class="attr">logging</span>:</span><br><span class="line">  <span class="attr">level</span>:</span><br><span class="line">    com.<span class="property">guo</span>: debug</span><br><span class="line">    org.<span class="property">springframework</span>: <span class="variable constant_">WARN</span></span><br></pre></td></tr></table></figure><p>2.æ—¥å¿—çº§åˆ«</p><ul><li>OFF   | å…³é—­ï¼šæœ€é«˜çº§åˆ«ï¼Œä¸æ‰“å°æ—¥å¿—ã€‚ </li><li>FATAL | è‡´å‘½ï¼šæŒ‡æ˜éå¸¸ä¸¥é‡çš„å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç»ˆæ­¢æ‰§è¡Œé”™è¯¯äº‹ä»¶ã€‚</li><li>ERROR | é”™è¯¯ï¼šæŒ‡æ˜é”™è¯¯äº‹ä»¶ï¼Œä½†åº”ç”¨å¯èƒ½è¿˜èƒ½ç»§ç»­è¿è¡Œã€‚ </li><li>WARN | è­¦å‘Šï¼šæŒ‡æ˜å¯èƒ½æ½œåœ¨çš„å±é™©çŠ¶å†µã€‚ </li><li>INFO | ä¿¡æ¯ï¼šæŒ‡æ˜æè¿°ä¿¡æ¯ï¼Œä»ç²—ç²’åº¦ä¸Šæè¿°äº†åº”ç”¨è¿è¡Œè¿‡ç¨‹ã€‚ </li><li>DEBUG | è°ƒè¯•ï¼šæŒ‡æ˜ç»†è‡´çš„äº‹ä»¶ä¿¡æ¯ï¼Œå¯¹è°ƒè¯•åº”ç”¨æœ€æœ‰ç”¨ã€‚</li><li>TRACE | è·Ÿè¸ªï¼šæŒ‡æ˜ç¨‹åºè¿è¡Œè½¨è¿¹ï¼Œæ¯”DEBUGçº§åˆ«çš„ç²’åº¦æ›´ç»†ã€‚ </li><li>ALL | æ‰€æœ‰ï¼šæ‰€æœ‰æ—¥å¿—çº§åˆ«ï¼ŒåŒ…æ‹¬å®šåˆ¶çº§åˆ«ã€‚</li></ul><p>&gt; æ—¥å¿—çº§åˆ«ç”±ä½åˆ°é«˜:  &#96;æ—¥å¿—çº§åˆ«è¶Šé«˜è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯è¶Šå¤š</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> springBoot </tag>
            
            <tag> log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsoupçˆ¬è™«</title>
      <link href="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/"/>
      <url>/2022/06/20/jsoup%E7%88%AC%E8%99%AB/</url>
      
        <content type="html"><![CDATA[<p>çˆ¬å–äº¬ä¸œå•†å“æ•°æ®ä¸ºä¾‹ï¼Œä¿å­˜æ•°æ®åº“å±•ç¤º</p><span id="more"></span><h3 id="ä¸€ã€Jsoupæ¦‚è¿°"><a href="#ä¸€ã€Jsoupæ¦‚è¿°" class="headerlink" title="ä¸€ã€Jsoupæ¦‚è¿°"></a>ä¸€ã€Jsoupæ¦‚è¿°</h3><h4 id="1-1ã€ç®€ä»‹"><a href="#1-1ã€ç®€ä»‹" class="headerlink" title="1.1ã€ç®€ä»‹"></a>1.1ã€ç®€ä»‹</h4><p>jsoup æ˜¯ä¸€æ¬¾Java çš„HTMLè§£æå™¨ï¼Œå¯ç›´æ¥è§£ææŸä¸ªURLåœ°å€ã€HTMLæ–‡æœ¬å†…å®¹ã€‚å®ƒæä¾›äº†ä¸€å¥—éå¸¸çœåŠ›çš„APIï¼Œ</p><p>å¯é€šè¿‡DOMï¼ŒCSSä»¥åŠç±»ä¼¼äºjQueryçš„æ“ä½œæ–¹æ³•æ¥å–å‡ºå’Œæ“ä½œæ•°æ®ã€‚</p><h4 id="1-2ã€ä¸»è¦åŠŸèƒ½"><a href="#1-2ã€ä¸»è¦åŠŸèƒ½" class="headerlink" title="1.2ã€ä¸»è¦åŠŸèƒ½"></a>1.2ã€ä¸»è¦åŠŸèƒ½</h4><p>1ã€ä»ä¸€ä¸ªURLï¼Œæ–‡ä»¶æˆ–å­—ç¬¦ä¸²ä¸­è§£æHTML</p><p>2ã€ä½¿ç”¨DOMæˆ–CSSé€‰æ‹©å™¨æ¥æŸ¥æ‰¾ã€å–å‡ºæ•°æ®</p><p>3ã€å¯æ“ä½œHTMLå…ƒç´ ã€å±æ€§ã€æ–‡æœ¬</p><p>æ³¨æ„ï¼šjsoupæ˜¯åŸºäºMITåè®®å‘å¸ƒçš„ï¼Œå¯æ”¾å¿ƒä½¿ç”¨äºå•†ä¸šé¡¹ç›®ã€‚</p><h3 id="äºŒ-ç½‘é¡µåˆ†æ"><a href="#äºŒ-ç½‘é¡µåˆ†æ" class="headerlink" title="äºŒ.ç½‘é¡µåˆ†æ"></a>äºŒ.ç½‘é¡µåˆ†æ</h3><h4 id="2-1æœç´¢å‚æ•°"><a href="#2-1æœç´¢å‚æ•°" class="headerlink" title="2.1æœç´¢å‚æ•°"></a>2.1æœç´¢å‚æ•°</h4><p>1.é¦–å…ˆæˆ‘ä»¬æ‰“å¼€äº¬ä¸œæœç´¢çš„ç½‘é¡µï¼Œé€šè¿‡å¼€å‘è€…å·¥å…·å¯ä»¥å‘ç°ï¼Œè¾“å…¥æ¡†çš„idæ˜¯keywordã€‚</p><p><img src="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/image-20220621093710111.png" alt="image-20220621093710111"></p><p>2.éšåæˆ‘ä»¬æ‰¾åˆ°æ•´ä¸ªå•†å“çš„divï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒçš„idä¸ºâ€œJ_goodsListâ€</p><p><img src="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/image-20220621093843214.png" alt="image-20220621093843214"></p><p>3.åˆ†æè¿™ä¸ªdivï¼Œå°±èƒ½æ‰¾åˆ°liä¸‹é¢æ¯ä¸ªæ‰‹æœºå‚æ•°ï¼ˆå›¾ç‰‡ï¼Œåç§°ï¼Œä»·æ ¼ç­‰ï¼‰</p><p><img src="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/image-20220621094041245.png" alt="image-20220621094041245"></p><h3 id="ä¸‰-æ•°æ®çˆ¬å–"><a href="#ä¸‰-æ•°æ®çˆ¬å–" class="headerlink" title="ä¸‰.æ•°æ®çˆ¬å–"></a>ä¸‰.æ•°æ®çˆ¬å–</h3><p>1.æ–°å»ºé¡¹ç›®ï¼Œç¼–å†™æ•°æ®çˆ¬å–çš„utils</p><p><img src="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/image-20220621151519034.png" alt="image-20220621151519034"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.guo.jsopdemo.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.guo.jsopdemo.dto.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HtmlUtils</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//æœç´¢è¯å¯ä»¥æ›´æ¢ï¼Œæ­¤å¤„ä»¥javaä¸ºä¾‹</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">goodList</span> <span class="operator">=</span> ParseJD(<span class="string">&quot;è‹¹æœ&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object o : goodList) &#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">            System.out.println(<span class="string">&quot;======================&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Goods&gt; <span class="title function_">ParseJD</span><span class="params">(String keywords)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//è·å–urlè¯·æ±‚</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;https://search.jd.com/Search?keyword=&quot;</span> + keywords;</span><br><span class="line">        <span class="comment">//è§£æç½‘é¡µ,Jsoupè¿”å›çš„æ˜¯Documentå¯¹è±¡ï¼ˆæµè§ˆå™¨Documentå¯¹è±¡ï¼‰</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> Jsoup.parse(<span class="keyword">new</span> <span class="title class_">URL</span>(url), <span class="number">10000</span>);</span><br><span class="line">        <span class="comment">//æ‰€æœ‰åœ¨jsä¸­ä½¿ç”¨çš„æ–¹æ³•ï¼Œè¿™é‡Œéƒ½èƒ½ä½¿ç”¨</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">element</span> <span class="operator">=</span> document.getElementById(<span class="string">&quot;J_goodsList&quot;</span>);</span><br><span class="line">        <span class="comment">//åœ¨è·å¾—ç½‘é¡µå†…å®¹åï¼Œè·å–æ‰€æœ‰çš„liæ ‡ç­¾</span></span><br><span class="line">        <span class="type">Elements</span> <span class="variable">elements</span> <span class="operator">=</span> element.getElementsByTag(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">        ArrayList&lt;Goods&gt; goodList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Goods&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–å…ƒç´ çš„æ ‡ç­¾åï¼Œå†è·å–æ ‡ç­¾ä¸­çš„å†…å®¹</span></span><br><span class="line">        <span class="keyword">for</span> (Element el : elements) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">skuCode</span> <span class="operator">=</span> el.attr(<span class="string">&quot;data-sku&quot;</span>);</span><br><span class="line">            <span class="comment">//å…³äºå›¾ç‰‡ç‰¹åˆ«å¤šçš„ç½‘ç«™ï¼Œæ‰€æ‹¥æœ‰çš„å›¾ç‰‡éƒ½æ˜¯å»¶è¿ŸåŠ è½½çš„(æ‡’åŠ è½½)</span></span><br><span class="line">            <span class="comment">// source-data-lazy-img</span></span><br><span class="line"><span class="comment">//            String img = el.getElementsByTag(&quot;img&quot;).eq(0).attr(&quot;source-data-lazy-img&quot;);</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">img</span> <span class="operator">=</span> el.getElementsByTag(<span class="string">&quot;img&quot;</span>).eq(<span class="number">0</span>).attr(<span class="string">&quot;data-lazy-img&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">price</span> <span class="operator">=</span> el.getElementsByClass(<span class="string">&quot;p-price&quot;</span>).eq(<span class="number">0</span>).text();</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> el.getElementsByClass(<span class="string">&quot;p-name&quot;</span>).eq(<span class="number">0</span>).text();</span><br><span class="line">            <span class="type">Goods</span> <span class="variable">goods</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Goods</span>();</span><br><span class="line">            goods.setSkuCode(skuCode);</span><br><span class="line">            goods.setType(keywords);</span><br><span class="line">            goods.setTitle(name);</span><br><span class="line">            goods.setImg(img);</span><br><span class="line">            goods.setPrice(price);</span><br><span class="line">            goodList.add(goods);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> goodList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2.å‘ç°åªèƒ½å¤„ç†ä¸€é¡µé¢çš„æ•°æ®ï¼Œå°è¯•ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œåˆ†æå¡«å……åˆ†é¡µé¢å‚æ•°</p><p>ä¸€é¡µä¸º30æ¡ï¼Œé¡µé¢åˆ†é¡µå‚æ•°ä¸ºpage</p><p><img src="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/image-20220621174713313.png" alt="image-20220621174713313"></p><p>å¢åŠ åˆ†é¡µå‚æ•°andä¼‘çœ ï¼ˆå›¾ç‰‡æ‡’åŠ è½½ï¼Œå¤ªå¿«å›¾ç‰‡åˆ·ä¸å‡ºæ¥ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.guo.jsop.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.guo.jsop.dto.Goods;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HtmlUtils</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//æœç´¢è¯å¯ä»¥æ›´æ¢ï¼Œæ­¤å¤„ä»¥javaä¸ºä¾‹</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">goodList</span> <span class="operator">=</span> parseJD(<span class="string">&quot;è‹¹æœ&quot;</span>, <span class="number">35</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Object o : goodList) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;æ¡ï¼š&quot;</span> + o.toString());</span><br><span class="line">            System.out.println(<span class="string">&quot;======================&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Goods&gt; <span class="title function_">parseJD</span><span class="params">(String keywords, Integer num)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//è®¡ç®—åˆ†é¡µ</span></span><br><span class="line">        <span class="comment">//æœ€å¤§å–æ•´</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">page</span> <span class="operator">=</span> (<span class="type">int</span>) Math.ceil(num / <span class="number">30</span>) + <span class="number">1</span>;</span><br><span class="line">        ArrayList&lt;Goods&gt; goodList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Goods&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= page; j++) &#123;</span><br><span class="line">            <span class="comment">//è·å–urlè¯·æ±‚</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;https://search.jd.com/Search?keyword=&quot;</span> + keywords + <span class="string">&quot;&amp;page=&quot;</span> + page;</span><br><span class="line">            <span class="comment">//ç¡çœ 1s ç»™æ‡’åŠ è½½çš„å›¾ç‰‡ä¸€ç‚¹æ—¶é—´</span></span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            <span class="comment">//è§£æç½‘é¡µ,Jsoupè¿”å›çš„æ˜¯Documentå¯¹è±¡ï¼ˆæµè§ˆå™¨Documentå¯¹è±¡ï¼‰</span></span><br><span class="line">            <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> Jsoup.parse(<span class="keyword">new</span> <span class="title class_">URL</span>(url), <span class="number">10000</span>);</span><br><span class="line">            <span class="comment">//æ‰€æœ‰åœ¨jsä¸­ä½¿ç”¨çš„æ–¹æ³•ï¼Œè¿™é‡Œéƒ½èƒ½ä½¿ç”¨</span></span><br><span class="line">            <span class="type">Element</span> <span class="variable">element</span> <span class="operator">=</span> document.getElementById(<span class="string">&quot;J_goodsList&quot;</span>);</span><br><span class="line">            <span class="comment">//åœ¨è·å¾—ç½‘é¡µå†…å®¹åï¼Œè·å–æ‰€æœ‰çš„liæ ‡ç­¾</span></span><br><span class="line">            <span class="type">Elements</span> <span class="variable">elements</span> <span class="operator">=</span> element.getElementsByTag(<span class="string">&quot;li&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è·å–å…ƒç´ çš„æ ‡ç­¾åï¼Œå†è·å–æ ‡ç­¾ä¸­çš„å†…å®¹</span></span><br><span class="line">            <span class="keyword">for</span> (Element el : elements) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">skuCode</span> <span class="operator">=</span> el.attr(<span class="string">&quot;data-sku&quot;</span>);</span><br><span class="line">                <span class="comment">//å…³äºå›¾ç‰‡ç‰¹åˆ«å¤šçš„ç½‘ç«™ï¼Œæ‰€æ‹¥æœ‰çš„å›¾ç‰‡éƒ½æ˜¯å»¶è¿ŸåŠ è½½çš„(æ‡’åŠ è½½)</span></span><br><span class="line">                <span class="comment">// source-data-lazy-img</span></span><br><span class="line"><span class="comment">//            String img = el.getElementsByTag(&quot;img&quot;).eq(0).attr(&quot;source-data-lazy-img&quot;);</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">img</span> <span class="operator">=</span> el.getElementsByTag(<span class="string">&quot;img&quot;</span>).eq(<span class="number">0</span>).attr(<span class="string">&quot;data-lazy-img&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">price</span> <span class="operator">=</span> el.getElementsByClass(<span class="string">&quot;p-price&quot;</span>).eq(<span class="number">0</span>).text();</span><br><span class="line">                <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> el.getElementsByClass(<span class="string">&quot;p-name&quot;</span>).eq(<span class="number">0</span>).text();</span><br><span class="line">                <span class="type">Goods</span> <span class="variable">goods</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Goods</span>();</span><br><span class="line">                goods.setSkuCode(skuCode);</span><br><span class="line">                goods.setType(keywords);</span><br><span class="line">                goods.setTitle(name);</span><br><span class="line">                goods.setImg(img);</span><br><span class="line">                goods.setPrice(price);</span><br><span class="line">                goodList.add(goods);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> goodList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ</p><p><img src="/2022/06/20/jsoup%E7%88%AC%E8%99%AB/image-20220622102545670.png" alt="image-20220622102545670"></p><h3 id="å››-æ•°æ®å­˜å‚¨"><a href="#å››-æ•°æ®å­˜å‚¨" class="headerlink" title="å››.æ•°æ®å­˜å‚¨"></a>å››.æ•°æ®å­˜å‚¨</h3><p>1.é…ç½®ymlæ–‡ä»¶è¿æ¥æ•°æ®åº“</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8123</span></span><br><span class="line"><span class="comment"># æ—¥å¿—é…ç½®</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.watone:</span> <span class="string">debug</span></span><br><span class="line">    <span class="attr">org.springframework:</span> <span class="string">info</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML</span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">utf-8</span></span><br><span class="line">    <span class="attr">servlet:</span></span><br><span class="line">      <span class="attr">content-type:</span> <span class="string">text/html</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">  <span class="attr">main:</span></span><br><span class="line">    <span class="attr">allow-bean-definition-overriding:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">jackson:</span></span><br><span class="line">    <span class="attr">date-format:</span> <span class="string">yyyy-MM-dd</span> <span class="string">HH:mm:ss</span></span><br><span class="line">    <span class="attr">time-zone:</span> <span class="string">GMT+8</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://æ•°æ®åº“åœ°å€:3306/jsoup_goods?allowMultiQueries=true</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*Mapper.xml</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.guo.jsop.dto</span></span><br></pre></td></tr></table></figure><p>2.æ•°æ®åº“è¡¨ typeæ˜¯ä¸ºäº†åŒºåˆ†çˆ¬ä¸‹æ¥çš„ä¸åŒç±»å‹æ•°æ®</p><p>CREATE TABLE <code>goods</code> (<br>  <code>id</code> int NOT NULL AUTO_INCREMENT,<br>  <code>type</code> varchar(255) DEFAULT NULL,<br>  <code>title</code> varchar(255) DEFAULT NULL,<br>  <code>img</code> varchar(255) DEFAULT NULL,<br>  <code>price</code> varchar(255) DEFAULT NULL,<br>  <code>sku_code</code> varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,<br>  PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;31 DEFAULT CHARSET&#x3D;utf8mb4 COLLATE&#x3D;utf8mb4_0900_ai_ci;</p><p>3.å®ä½“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package com.guo.jsop.dto;</span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Goods &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private Integer id;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * æœç´¢å…³é”®å­—çš„ç±»å‹</span><br><span class="line">     */</span><br><span class="line">    private String type;</span><br><span class="line"></span><br><span class="line">    private String title;</span><br><span class="line"></span><br><span class="line">    private String img;</span><br><span class="line"></span><br><span class="line">    private String price;</span><br><span class="line"></span><br><span class="line">    private String skuCode;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.service and mapper.yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Resource</span><br><span class="line">private GoodsMapper goodsMapper;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public Boolean grabGoods(String type, Integer num) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        List&lt;Goods&gt; goods = HtmlUtils.parseJD(type, num);</span><br><span class="line">        //åˆ é™¤è€çš„typeå•†å“</span><br><span class="line">        goodsMapper.delete(type);</span><br><span class="line">        goodsMapper.insert(goods);</span><br><span class="line">        return true;</span><br><span class="line">    &#125; catch (Exception e) &#123;</span><br><span class="line">        throw new RuntimeException(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=&quot;insert&quot; parameterType=&quot;java.util.List&quot;&gt;</span><br><span class="line">   insert into goods (type,title,img,price,sku_code) values</span><br><span class="line">   &lt;foreach collection =&quot;goods&quot; item=&quot;t&quot; separator =&quot;,&quot;&gt;</span><br><span class="line">      (#&#123;t.type&#125;, #&#123;t.title&#125;, #&#123;t.img&#125;,#&#123;t.price&#125;,#&#123;t.skuCode&#125;)</span><br><span class="line">   &lt;/foreach&gt;</span><br><span class="line">&lt;/insert&gt;</span><br><span class="line"></span><br><span class="line">&lt;delete id=&quot;delete&quot; parameterType=&quot;java.lang.String&quot;&gt;</span><br><span class="line">   delete from goods where type = #&#123;type&#125;</span><br><span class="line">&lt;/delete&gt;</span><br></pre></td></tr></table></figure><p>5.è°ƒç”¨æ–¹å¼</p><p><a href="http://localhost:8123/grabGoods?type=java&num=3">http://localhost:8123/grabGoods?type=java&amp;num=3</a></p><p>gitåœ°å€</p><p><a href="https://gitee.com/guo0817/jsop_demo.git">https://gitee.com/guo0817/jsop_demo.git</a></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> springBoot </tag>
            
            <tag> jsoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>booté¡¹ç›®ç›¸äº’å¼•å…¥å¤§å‘</title>
      <link href="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/"/>
      <url>/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>booté¡¹ç›®å¼•å…¥å¤§å‘</p><span id="more"></span><p>æ¥æ‰‹çš„ä¸€ä¸ªè€é¡¹ç›®ï¼Œå› ä¸ºè¿™ä¸ªé—®é¢˜ï¼Œå…œå…œè½¬è½¬èŠ±è´¹äº†ä¸€æ™šä¸Šçš„æ—¶é—´ã€‚å¤ç›˜ä¸€æ¬¡ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä¸ä¼šé‡åˆ°äº†ï¼</p><p>äº‹å‘åœºæ™¯ï¼š<code>boot-b</code>å¼•å…¥<code>boot-a</code>,<code>boot-a</code>ä¸­æœ‰æœåŠ¡WelcomeService</p><p>1.æ–°å»ºä¸¤ä¸ªbooté¡¹ç›®ï¼Œboot-aä¸­åˆ›å»ºä¸€ä¸ªæ¥å£</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620143935692-5707184.png" alt="image-20220620143935692"></p><p>2.boot-bå¼•å…¥é¡¹ç›®boot-açš„gav</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620144836836.png" alt="image-20220620144836836"></p><p>3.boot-bå†™ä¸ªæ¥å£å®ç°ç±»å®ç°boot-aä¸­å†™å¥½çš„æ¥å£</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620145124953.png" alt="image-20220620145124953"></p><p>4.çœ‹èµ·æ¥ä¸€åˆ‡æ­£å¸¸ï¼Œboot-bæˆåŠŸå¼•å…¥äº†boot-aä¸­çš„æ¥å£ï¼Œä½†æ˜¯ä½ å°è¯•å¯åŠ¨ä¸€ä¸‹é¡¹ç›®é¡¹ç›®æ˜¯å¯åŠ¨ä¸äº†çš„ï¼Œç¼–è¯‘ä¸€ä¸‹å°è¯•comlile</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620145317956.png" alt="20220620145317956"></p><p>ç¼–è¯‘ç»“æœï¼š</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620145406660.png" alt="image-20220620145406660"></p><p>å› ä¸ºè¿™ä¸ªé—®é¢˜ï¼Œç™¾æ€ä¸å¾—å…¶è§£ã€‚æˆåŠŸå¼•å…¥çš„è¡¨è±¡ï¼Œè¯¯å¯¼æˆ‘  å°è¯•äº†å¥½å¤šç§æ–¹å¼ï¼Œè§£å†³     æœ€åæŠŠé”™è¯¯å½’ç»“åˆ°æˆ‘æœ¬åœ°ç”µè„‘ç¯å¢ƒé—®é¢˜ï¼Œå¿ƒæ€çˆ†ç‚¸      ä¼‘æ¯ä¸€ä¼šåå°è¯•é‡æ–°è§£å†³</p><p>5.å°è¯•æ‰“åŒ…boot-a çœ‹çœ‹æ‰“åŒ…çš„ç›®å½• package</p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620150532011.png" alt="image-20220620150532011" style="zoom:50%;"><p>æ‰“åŒ…åæ‰¾åˆ°ç›®å½•è§£å‹   æˆ‘ä»¬çš„åŒ…å˜æˆäº†<code>BOOT-INF</code>   ä»–ç¡®å®æ‰“åŒ…æ‰“å…¥äº†ä½ boot-béœ€è¦çš„æ¥å£ï¼Œä½†æ˜¯ä½ çš„mavenæ˜¯å¼•å…¥ä¸åˆ°çš„ï¼Œ</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620150628669.png" alt="image-20220620150628669"></p><p>6.åŸå› åˆ†æ</p><p>å¦‚ä¸‹ï¼Œå°±æ˜¯åœ¨boot-aä¸­springbootçš„mavenæ’ä»¶ï¼Œç”¨è¿™ä¸ªæ’ä»¶æ‰“åŒ…çš„JaråŒ…å¯ä»¥ç›´æ¥è¿è¡Œï¼Œä½†æ˜¯ä¸å¯ä¾èµ–ï¼ï¼ˆåˆ›å»ºbooté¡¹ç›®é»˜è®¤ä¼šåŠ ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">    &lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure><p>7.è§£å†³æ–¹æ¡ˆ</p><p>åœ¨boot-a<code>configuration</code>ä¸‹è®¾ç½®<code>skip</code>ä¸º<code>true</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line"></span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">                &lt;skip&gt;true&lt;/skip&gt;</span><br><span class="line">            &lt;/configuration&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">    &lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure><p>å°è¯•é‡æ–°æ‰“åŒ…boot-a</p><p>mvn install</p><p>è§£å‹åæ–°çš„åŒ…ï¼Œæ˜¯æˆ‘ä»¬æƒ³è¦çš„ç›®å½•</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620152556517.png" alt="image-20220620152556517"></p><p>å°è¯•é‡æ–°ç¼–è¯‘å¯åŠ¨ï¼Œå¦‚æœæŠ¥é”™çš„è¯   è¿˜æ˜¯ï¼Œå°è¯•æ¸…ç†ä¸€ä¸‹ç¼“å­˜ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸‹mvnç›®å½•</p><p>æ‰§è¡Œå‘½ä»¤ï¼šmvn : -U idea:idea</p><p>æˆåŠŸç¼–è¯‘å¯åŠ¨</p><p><img src="/2022/06/20/boot%E6%89%93%E5%8C%85%E5%BC%95%E5%85%A5%E5%A4%A7%E5%9D%91/image-20220620153316105.png" alt="image-20220620153316105"></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springBoot </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬åœ°é¡¹ç›®é›†æˆgit</title>
      <link href="/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/"/>
      <url>/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/</url>
      
        <content type="html"><![CDATA[<p>æœ¬åœ°é¡¹ç›®é›†æˆåˆ°è¿œç¨‹ä»“åº“ï¼ˆä»¥giteeä¸ºä¾‹ï¼‰</p><span id="more"></span><p>1.ç™»å½•gitee<a href="https://gitee.com/%E5%85%88%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93(%E8%A6%81%E8%B7%9F%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E5%90%8D%E5%AD%97%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4%EF%BC%8C%E4%B8%8D%E7%84%B6%E6%8E%A8%E9%80%81%E4%B8%8D%E4%B8%8A%E5%8E%BB)">https://gitee.com/å…ˆåˆ›å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“(è¦è·Ÿæœ¬åœ°é¡¹ç›®åå­—ä¿æŒä¸€è‡´ï¼Œä¸ç„¶æ¨é€ä¸ä¸Šå»)</a></p><p><img src="/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/image-20220615164835051.png" alt="image-20220615164835051"></p><p>2.è¿›å»è¦ä¸Šä¼ é¡¹ç›®ä½ç½®çš„ç»ˆç«¯ä½¿ç”¨ git init  åˆå§‹åŒ–gitç®¡ç†é¡¹ç›®</p><p><img src="/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/image-20220615171516788.png" alt="image-20220615171516788"></p><p>3.ç»™æœ¬åœ°ä»“åº“å…³è”è¿œç¨‹ä»“åº“</p><p>git remote add origin ä½ çš„è¿œç¨‹gitåœ°å€</p><p><img src="/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/image-20220615171449504.png" alt="image-20220615171449504"></p><p>4.å…ˆæ›´æ–°æœ¬åœ°ä»“åº“</p><p>git pull origin master</p><p><img src="/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/image-20220615171726850.png" alt="image-20220615171726850"></p><p>5.æ¨é€æœ¬åœ°ä»“åº“ä»£ç åˆ°è¿œç¨‹ä»“åº“</p><p>$ git add .ï¼ˆæ·»åŠ æ‰€æœ‰æ–‡ä»¶ï¼Œç”±gitç®¡ç†ï¼‰<br>$ git commit -m â€œç¬¬ä¸€æ¬¡æäº¤â€(æäº¤åˆ°æš‚å­˜åŒºï¼‰<br>$ git push origin masterï¼ˆæ¨é€è¿œç¨‹ä»“åº“ï¼‰</p><p><img src="/2022/06/15/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90git/image-20220615171852102.png" alt="image-20220615171852102"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sqLiteæœ¬åœ°åŒ–æ•°æ®åº“</title>
      <link href="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
      <url>/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<p>sqLiteæ•°æ®åº“SpringBootæ•´åˆ&amp;äºŒè¿›åˆ¶æ–‡ä»¶å­˜å‚¨è¯»å–</p><span id="more"></span><h2 id="ä¸€-ä»€ä¹ˆæ˜¯sqLiteï¼Ÿ"><a href="#ä¸€-ä»€ä¹ˆæ˜¯sqLiteï¼Ÿ" class="headerlink" title="ä¸€.ä»€ä¹ˆæ˜¯sqLiteï¼Ÿ"></a>ä¸€.ä»€ä¹ˆæ˜¯sqLiteï¼Ÿ</h2><p>1.SQLiteæ˜¯ä¸€ä¸ªè¿›å±•ä¸­çš„åº“ï¼Œå®ƒå®ç°äº†ä¸€ä¸ªè‡ªç»™è‡ªè¶³ï¼Œæ— æœåŠ¡å™¨ï¼Œé›¶é…ç½®ï¼Œäº‹åŠ¡SQLæ•°æ®åº“å¼•æ“ã€‚</p><p>2.å ç”¨ç©ºé—´å°‘ï¼Œå¯ç›´æ¥åµŒå…¥åˆ°åº”ç”¨ä¸­,å¤§è‡´13ä¸‡è¡ŒCä»£ç , 4.43M</p><p>3.æ”¯æŒå¤šä¸ªç³»ç»Ÿï¼Œå¤šç§å¸¸ç”¨è®¡ç®—æœºè¯­è¨€äº¤äº’</p><p>4.æ”¯æŒæ•°æ®åº“å¤§å°è‡³2TB</p><p>5.æ¯”ä¸€äº›æµè¡Œçš„æ•°æ®åº“åœ¨å¤§éƒ¨åˆ†æ™®é€šæ•°æ®åº“æ“ä½œè¦å¿«</p><p><u>6.ï¼å†™å…¥ä¿®æ”¹æ—¶å€™ä¼šé”å®šæ•´ä¸ªæ•°æ®åº“ï¼ï¼ï¼</u></p><h3 id="äºŒ-sqLiteé€‚ç”¨åœºæ™¯"><a href="#äºŒ-sqLiteé€‚ç”¨åœºæ™¯" class="headerlink" title="äºŒ.sqLiteé€‚ç”¨åœºæ™¯"></a>äºŒ.sqLiteé€‚ç”¨åœºæ™¯</h3><p>1.åµŒå…¥å¼è®¾å¤‡å’Œç‰©è”ç½‘</p><p>2.ç”³è¯·æ–‡ä»¶æ ¼å¼</p><p>3.å°å‹ç½‘ç«™</p><p>4.èµ„æ–™ä¼ è¾“æ ¼å¼</p><p>5.æ–‡ä»¶æ¡£æ¡ˆå’Œ&#x2F;æˆ–æ•°æ®å®¹å™¨</p><h3 id="ä¸‰-sqLiteä¸‹è½½"><a href="#ä¸‰-sqLiteä¸‹è½½" class="headerlink" title="ä¸‰.sqLiteä¸‹è½½"></a>ä¸‰.sqLiteä¸‹è½½</h3><p>å®˜ç½‘ï¼š<a href="https://www.sqlite.org/index.html">https://www.sqlite.org/index.html</a></p><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220531101801314.png" alt="image-20220531101801314"></p><p>è§£å‹å³å¯ä½¿ç”¨ï¼Œæ‰“å¼€å½“å‰ä½ç½®çš„æ§åˆ¶å°ï¼Œå«Œéº»çƒ¦å¯ä»¥é…ä¸€ä¸ªç¯å¢ƒå˜é‡</p><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220531102657917.png"></p><h3 id="å››-sqLiteçš„ä½¿ç”¨"><a href="#å››-sqLiteçš„ä½¿ç”¨" class="headerlink" title="å››.sqLiteçš„ä½¿ç”¨"></a>å››.sqLiteçš„ä½¿ç”¨</h3><p>æ‰“å¼€å®‰è£…sqliteçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªæ­¤ä½ç½®çš„æ§åˆ¶å°çª—å£</p><h5 id="1-sqliteæç¤ºç¬¦"><a href="#1-sqliteæç¤ºç¬¦" class="headerlink" title="1.sqliteæç¤ºç¬¦"></a>1.sqliteæç¤ºç¬¦</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥sqlite3 è¿›å…¥sqliteæç¤ºç¬¦æ¨¡å¼ï¼Œåœ¨ SQLite å‘½ä»¤æç¤ºç¬¦ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å„ç§ SQLite å‘½ä»¤ã€‚</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ SQLite <strong>.quit</strong> å‘½ä»¤é€€å‡º sqlite æç¤ºç¬¦</p><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220531112538357.png" alt="image-20220531112538357"></p><h5 id="2-æ•°æ®åº“åˆ›å»º"><a href="#2-æ•°æ®åº“åˆ›å»º" class="headerlink" title="2.æ•°æ®åº“åˆ›å»º"></a>2.æ•°æ®åº“åˆ›å»º</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3 &quot;æ•°æ®åº“åå­—&quot;</span><br></pre></td></tr></table></figure><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220531113042477.png" alt="image-20220531113042477"></p><p>å¦å¤–æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>.open</strong> æ¥å»ºç«‹æ–°çš„æ•°æ®åº“æ–‡ä»¶ï¼šæ‰“å¼€å·²å­˜åœ¨æ•°æ®åº“ä¹Ÿæ˜¯ç”¨ <strong>.open</strong> å‘½ä»¤ï¼Œä»¥ä¸Šå‘½ä»¤å¦‚æœ <strong>test.db</strong> å­˜åœ¨åˆ™ç›´æ¥ä¼šæ‰“å¼€ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºå®ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite&gt;.open test.db</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹åˆ›å»ºçš„æ•°æ®åº“-databases"><a href="#æŸ¥çœ‹åˆ›å»ºçš„æ•°æ®åº“-databases" class="headerlink" title="æŸ¥çœ‹åˆ›å»ºçš„æ•°æ®åº“ .databases"></a>æŸ¥çœ‹åˆ›å»ºçš„æ•°æ®åº“ <strong>.databases</strong></h6><p>åœ¨<strong>sqlite&gt;</strong> æç¤ºç¬¦ä¸‹ä½¿ç”¨ .databases</p><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220531113607077.png" alt="image-20220531113607077"></p><h6 id="dump-å‘½ä»¤-æ•°æ®åº“å¯¼å‡º"><a href="#dump-å‘½ä»¤-æ•°æ®åº“å¯¼å‡º" class="headerlink" title=".dump å‘½ä»¤ æ•°æ®åº“å¯¼å‡º"></a>.dump å‘½ä»¤ æ•°æ®åº“å¯¼å‡º</h6><p>ä½ å¯ä»¥åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­ä½¿ç”¨ SQLite <strong>.dump</strong> ç‚¹å‘½ä»¤æ¥å¯¼å‡ºå®Œæ•´çš„æ•°æ®åº“åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sqlite3 testDB.db .dump &gt; testDB.sql</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤å°†è½¬æ¢æ•´ä¸ª <strong>testDB.db</strong> æ•°æ®åº“çš„å†…å®¹åˆ° SQLite çš„è¯­å¥ä¸­ï¼Œå¹¶å°†å…¶è½¬å‚¨åˆ° ASCII æ–‡æœ¬æ–‡ä»¶ <strong>testDB.sql</strong> ä¸­ã€‚å¯ä»¥é€šè¿‡ç®€å•çš„æ–¹å¼ä»ç”Ÿæˆçš„ testDB.sql æ¢å¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sqlite3 testDB.db &lt; testDB.sql</span><br></pre></td></tr></table></figure><h5 id="3-sqliteçš„æ•°æ®ç±»å‹"><a href="#3-sqliteçš„æ•°æ®ç±»å‹" class="headerlink" title="3.sqliteçš„æ•°æ®ç±»å‹"></a>3.sqliteçš„æ•°æ®ç±»å‹</h5><table><thead><tr><th>NULL</th><th>å€¼æ˜¯ä¸€ä¸ª NULL å€¼ã€‚</th></tr></thead><tbody><tr><td>INTEGER</td><td>å€¼æ˜¯ä¸€ä¸ªå¸¦ç¬¦å·çš„æ•´æ•°ï¼Œæ ¹æ®å€¼çš„å¤§å°å­˜å‚¨åœ¨ 1ã€2ã€3ã€4ã€6 æˆ– 8 å­—èŠ‚ä¸­ã€‚</td></tr><tr><td>REAL</td><td>å€¼æ˜¯ä¸€ä¸ªæµ®ç‚¹å€¼ï¼Œå­˜å‚¨ä¸º 8 å­—èŠ‚çš„ IEEE æµ®ç‚¹æ•°å­—ã€‚</td></tr><tr><td>TEXT</td><td>å€¼æ˜¯ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ï¼Œä½¿ç”¨æ•°æ®åº“ç¼–ç ï¼ˆUTF-8ã€UTF-16BE æˆ– UTF-16LEï¼‰å­˜å‚¨ã€‚</td></tr><tr><td>BLOB</td><td>å€¼æ˜¯ä¸€ä¸ª blob æ•°æ®ï¼Œå®Œå…¨æ ¹æ®å®ƒçš„è¾“å…¥å­˜å‚¨ã€‚</td></tr></tbody></table><h6 id="SQLite-äº²å’Œ-Affinity-ç±»å‹"><a href="#SQLite-äº²å’Œ-Affinity-ç±»å‹" class="headerlink" title="SQLite äº²å’Œ(Affinity)ç±»å‹"></a>SQLite äº²å’Œ(Affinity)ç±»å‹</h6><p>SQLiteæ”¯æŒåˆ—çš„äº²å’Œç±»å‹æ¦‚å¿µã€‚ä»»ä½•åˆ—ä»ç„¶å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå½“æ•°æ®æ’å…¥æ—¶ï¼Œè¯¥å­—æ®µçš„æ•°æ®å°†ä¼šä¼˜å…ˆé‡‡ç”¨äº²ç¼˜ç±»å‹ä½œä¸ºè¯¥å€¼çš„å­˜å‚¨æ–¹å¼ã€‚SQLiteç›®å‰çš„ç‰ˆæœ¬æ”¯æŒä»¥ä¸‹äº”ç§äº²ç¼˜ç±»å‹ï¼š</p><h6 id="SQLite-äº²å’Œç±»å‹-Affinity-åŠç±»å‹åç§°"><a href="#SQLite-äº²å’Œç±»å‹-Affinity-åŠç±»å‹åç§°" class="headerlink" title="SQLite äº²å’Œç±»å‹(Affinity)åŠç±»å‹åç§°"></a>SQLite äº²å’Œç±»å‹(Affinity)åŠç±»å‹åç§°</h6><p>ä¸‹è¡¨åˆ—å‡ºäº†å½“åˆ›å»º SQLite3 è¡¨æ—¶å¯ä½¿ç”¨çš„å„ç§æ•°æ®ç±»å‹åç§°ï¼ŒåŒæ—¶ä¹Ÿæ˜¾ç¤ºäº†ç›¸åº”çš„äº²å’Œç±»å‹ï¼š</p><table><thead><tr><th align="left">æ•°æ®ç±»å‹</th><th align="left">äº²å’Œç±»å‹</th></tr></thead><tbody><tr><td align="left">INTINTEGERTINYINTSMALLINTMEDIUMINTBIGINTUNSIGNED BIG INTINT2INT8</td><td align="left">INTEGER</td></tr><tr><td align="left">CHARACTER(20)VARCHAR(255)VARYING CHARACTER(255)NCHAR(55)NATIVE CHARACTER(70)NVARCHAR(100)TEXTCLOB</td><td align="left">TEXT</td></tr><tr><td align="left">BLOBno datatype specified</td><td align="left">NONE</td></tr><tr><td align="left">REALDOUBLEDOUBLE PRECISIONFLOAT</td><td align="left">REAL</td></tr><tr><td align="left">NUMERICDECIMAL(10,5)BOOLEANDATEDATETIME</td><td align="left">NUMERIC</td></tr></tbody></table><h6 id="Boolean-æ•°æ®ç±»å‹"><a href="#Boolean-æ•°æ®ç±»å‹" class="headerlink" title="Boolean æ•°æ®ç±»å‹"></a>Boolean æ•°æ®ç±»å‹</h6><p>SQLite æ²¡æœ‰å•ç‹¬çš„ Boolean å­˜å‚¨ç±»ã€‚ç›¸åï¼Œå¸ƒå°”å€¼è¢«å­˜å‚¨ä¸ºæ•´æ•° 0ï¼ˆfalseï¼‰å’Œ 1ï¼ˆtrueï¼‰ã€‚</p><h6 id="Date-ä¸-Time-æ•°æ®ç±»å‹"><a href="#Date-ä¸-Time-æ•°æ®ç±»å‹" class="headerlink" title="Date ä¸ Time æ•°æ®ç±»å‹"></a>Date ä¸ Time æ•°æ®ç±»å‹</h6><p>SQLite æ²¡æœ‰ä¸€ä¸ªå•ç‹¬çš„ç”¨äºå­˜å‚¨æ—¥æœŸå’Œ&#x2F;æˆ–æ—¶é—´çš„å­˜å‚¨ç±»ï¼Œä½† SQLite èƒ½å¤ŸæŠŠæ—¥æœŸå’Œæ—¶é—´å­˜å‚¨ä¸º TEXTã€REAL æˆ– INTEGER å€¼ã€‚</p><table><thead><tr><th align="left">å­˜å‚¨ç±»</th><th align="left">æ—¥æœŸæ ¼å¼</th></tr></thead><tbody><tr><td align="left">TEXT</td><td align="left">æ ¼å¼ä¸º â€œYYYY-MM-DD HH:MM:SS.SSSâ€ çš„æ—¥æœŸã€‚</td></tr><tr><td align="left">REAL</td><td align="left">ä»å…¬å…ƒå‰ 4714 å¹´ 11 æœˆ 24 æ—¥æ ¼æ—å°¼æ²»æ—¶é—´çš„æ­£åˆå¼€å§‹ç®—èµ·çš„å¤©æ•°ã€‚</td></tr><tr><td align="left">INTEGER</td><td align="left">ä» 1970-01-01 00:00:00 UTC ç®—èµ·çš„ç§’æ•°ã€‚</td></tr></tbody></table><p>å¯ä»¥ä»¥ä»»ä½•ä¸Šè¿°æ ¼å¼æ¥å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å†…ç½®çš„æ—¥æœŸå’Œæ—¶é—´å‡½æ•°æ¥è‡ªç”±è½¬æ¢ä¸åŒæ ¼å¼ã€‚</p><h3 id="äº”-æ•°æ®åº“åˆ›å»ºè¿æ¥"><a href="#äº”-æ•°æ®åº“åˆ›å»ºè¿æ¥" class="headerlink" title="äº”.æ•°æ®åº“åˆ›å»ºè¿æ¥"></a>äº”.æ•°æ®åº“åˆ›å»ºè¿æ¥</h3><p>å»ºè¡¨ä½¿ç”¨Navicatå®¢æˆ·ç«¯å·¥å…·äº†ï¼Œæ›´ç›´è§‚ç‚¹ï¼Œé€‰æ‹©sqliteæ–¹å¼ï¼Œç„¶åé€‰æ‹©å®‰è£…ç›®å½•ä¸‹çš„dbæ–‡ä»¶å³å¯</p><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA.png" alt="image-20220613175536741"></p><h5 id="5-1æ•°æ®åº“åˆ›å»º"><a href="#5-1æ•°æ®åº“åˆ›å»º" class="headerlink" title="5.1æ•°æ®åº“åˆ›å»º"></a>5.1æ•°æ®åº“åˆ›å»º</h5><p>CREATE TABLE â€œuserâ€ (<br>  â€œuser_idâ€ INTEGER NOT NULL,<br>  â€œuser_nameâ€ text,<br>  â€œusre_imageâ€ text,<br>  â€œcreate_timeâ€ DATE,<br>  â€œbalanceâ€ real,<br>  PRIMARY KEY (â€œuser_idâ€)<br>);</p><p><img src="/2022/05/30/sqLite%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220613181253881.png" alt="image-20220613181253881"></p><h5 id="5-2å¢åˆ æ”¹æŸ¥"><a href="#5-2å¢åˆ æ”¹æŸ¥" class="headerlink" title="5.2å¢åˆ æ”¹æŸ¥"></a>5.2å¢åˆ æ”¹æŸ¥</h5><h6 id="5-2-1add"><a href="#5-2-1add" class="headerlink" title="5.2.1add"></a>5.2.1add</h6><p>INSERT INTO user (user_id, user_name,user_image,create_time_,balance)<br>VALUES (2,â€™å¼ ä¸‰â€™,â€™å‡è£…å›¾ç‰‡1â€™,â€™2022-03-02 12:13:43â€™,3232.34);</p><h6 id="5-2-12select"><a href="#5-2-12select" class="headerlink" title="5.2.12select"></a>5.2.12select</h6><p>select * FROM user where user_id !&#x3D; 3 GROUP BY user_name ORDER BY user_id </p><h6 id="5-2-3update"><a href="#5-2-3update" class="headerlink" title="5.2.3update"></a>5.2.3update</h6><p>UPDATE user SET user_name &#x3D; â€˜æå››â€™ where user_id &#x3D;1</p><h6 id="5-2-4del"><a href="#5-2-4del" class="headerlink" title="5.2.4del"></a>5.2.4del</h6><p>DELETE from user where user_id &#x3D; 1</p><h3 id="6-springBootæ•´åˆ"><a href="#6-springBootæ•´åˆ" class="headerlink" title="6.springBootæ•´åˆ"></a>6.springBootæ•´åˆ</h3><p>yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  datasource:</span><br><span class="line">    driver-class-name: org.sqlite.JDBC</span><br><span class="line">    url: jdbc:sqlite:/ä½ çš„æ•°æ®åº“åœ°å€</span><br><span class="line">    #    url: jdbc:sqlite:/home/frfile/db/aaa.db</span><br><span class="line">    username:</span><br><span class="line">    password:</span><br><span class="line"></span><br><span class="line">mybatis:</span><br><span class="line">  mapper-locations: classpath:mapper/*Mapper.xml</span><br><span class="line">  type-aliases-package: com.guo.sqlite_demo.entity</span><br></pre></td></tr></table></figure><p>xml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;mapper namespace=&quot;com.guo.sqlite_demo.mapper.UserMapper&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;com.guo.sqlite_demo.entity.User&quot;&gt;</span><br><span class="line">        &lt;result column=&quot;user_id&quot;  property=&quot;userId&quot;/&gt;</span><br><span class="line">        &lt;result column=&quot;user_name&quot;  property=&quot;userName&quot;/&gt;</span><br><span class="line">        &lt;result column=&quot;user_image&quot;  property=&quot;userImage&quot;/&gt;</span><br><span class="line">        &lt;result column=&quot;create_time&quot;  property=&quot;createTime&quot;/&gt;</span><br><span class="line">        &lt;result column=&quot;balance&quot;  property=&quot;balance&quot;/&gt;</span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;select id=&quot;findList&quot; resultMap=&quot;BaseResultMap&quot;&gt;</span><br><span class="line">        select * from user</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;insert id=&quot;insert&quot; parameterType=&quot;com.guo.sqlite_demo.entity.User&quot;&gt;</span><br><span class="line">        insert into user(user_name,user_image,create_time,balance)</span><br><span class="line">        values (#&#123;userName&#125;,#&#123;userImage&#125;,#&#123;createTime&#125;,#&#123;balance&#125;)</span><br><span class="line">    &lt;/insert&gt;</span><br><span class="line">    &lt;update id=&quot;update&quot; parameterType=&quot;com.guo.sqlite_demo.entity.User&quot;&gt;</span><br><span class="line">        update user</span><br><span class="line">        &lt;set&gt;</span><br><span class="line">            &lt;if test=&quot;userName != null&quot;&gt;</span><br><span class="line">                user_name = #&#123;userName&#125;,</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">            &lt;if test=&quot;userImage != null&quot;&gt;</span><br><span class="line">                user_image = #&#123;userImage&#125;,</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">            &lt;if test=&quot;createTime != null&quot;&gt;</span><br><span class="line">                create_time = #&#123;createTime&#125;,</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">            &lt;if test=&quot;balance != null&quot;&gt;</span><br><span class="line">                balance = #&#123;balance&#125;</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">        &lt;/set&gt;</span><br><span class="line">        where user_id = #&#123;userId&#125;</span><br><span class="line">    &lt;/update&gt;</span><br><span class="line">    &lt;delete id=&quot;delete&quot;&gt;</span><br><span class="line">        delete from user where user_id = #&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure><p>Controller</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">public class UserController &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private UserService userService;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(&quot;/list&quot;)</span><br><span class="line">    public List&lt;User&gt; listBy()&#123;</span><br><span class="line">        return userService.findList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @PostMapping(&quot;/add&quot;)</span><br><span class="line">    public Integer add(@RequestBody User user)&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        return userService.insert(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(&quot;/modify&quot;)</span><br><span class="line">    public Integer modify(@RequestBody  User user)&#123;</span><br><span class="line">        return userService.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/delete/&#123;id&#125;&quot;)</span><br><span class="line">    public Integer delete(@PathVariable(&quot;id&quot;) Integer id)&#123;</span><br><span class="line">        return userService.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>entity</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Data</span><br><span class="line">public class User &#123;</span><br><span class="line"></span><br><span class="line">    private int userId;</span><br><span class="line"></span><br><span class="line">    private String userName;</span><br><span class="line"></span><br><span class="line">    private String userImage;</span><br><span class="line"></span><br><span class="line">    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span><br><span class="line">    private Date createTime;</span><br><span class="line"></span><br><span class="line">    private Double balance;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mapper</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public interface UserMapper &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;User&gt; findList();</span><br><span class="line"></span><br><span class="line">    Integer insert(User user);</span><br><span class="line"></span><br><span class="line">    Integer update(User user);</span><br><span class="line"></span><br><span class="line">    Integer delete(Integer id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-é¡¹ç›®åœ°å€"><a href="#7-é¡¹ç›®åœ°å€" class="headerlink" title="7.é¡¹ç›®åœ°å€"></a>7.é¡¹ç›®åœ°å€</h3><p><a href="https://gitee.com/guo0817/sqllte_demo.git">https://gitee.com/guo0817/sqllte_demo.git</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springBoot </tag>
            
            <tag> sqlite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºShardingSphereçš„åˆ†åº“åˆ†è¡¨</title>
      <link href="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/"/>
      <url>/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>åŸºäºShardingSphereæ°´å¹³åˆ†è¡¨çš„ä¸¤ç§æ–¹å¼å®è·µ</p><span id="more"></span><h2 id="åˆ†åº“åˆ†è¡¨-æ°´å¹³æ‹†åˆ†"><a href="#åˆ†åº“åˆ†è¡¨-æ°´å¹³æ‹†åˆ†" class="headerlink" title="åˆ†åº“åˆ†è¡¨(æ°´å¹³æ‹†åˆ†)"></a>åˆ†åº“åˆ†è¡¨(æ°´å¹³æ‹†åˆ†)</h2><h2 id="1-åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ"><a href="#1-åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ" class="headerlink" title="1.åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ"></a>1.åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ</h2><p>ä¹‹å‰å·¥ä½œçš„æ—¶å€™å…¶å®æœ‰åšè¿‡åˆ†åº“åˆ†è¡¨ï¼Œä½†æ˜¯å› ä¸ºä¸Šå®¶å…¬å¸å·¥å…·åŒ–æ¯”è¾ƒå¥½ï¼Œåªéœ€ç®€å•é…ç½®å³å¯ã€‚å½“æ—¶å€™é¡¹ç›®ä¹Ÿæ¯”è¾ƒèµ¶ï¼Œåæ¥ä¹Ÿå°±æ²¡æœ‰æ·±ç©¶æ€è€ƒï¼Œæœ€è¿‘åˆšæƒ³èµ·æ¥ã€‚å¦‚æœä½ æƒ³è¦å¤ç°ä¸€éçš„è¯ï¼Œå»ºè®®ä¸€å®šè¦çœ‹çœ‹å®˜ç½‘ã€‚apacheä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†å¤šç§æ–¹å¼ï¼Œæ­¤æ–‡æ˜¯åŸºäºapacheâ€”ShardingSphereJDBCçš„å®æ“demoã€‚</p><h5 id="Sharding-JDBC"><a href="#Sharding-JDBC" class="headerlink" title="Sharding-JDBC"></a>Sharding-JDBC</h5><p>å®šä½ä¸ºè½»é‡çº§ Java æ¡†æ¶ï¼Œåœ¨ Java çš„ JDBC å±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚ å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥ jar åŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„ JDBC é©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹ JDBC å’Œå„ç§ ORM æ¡†æ¶ã€‚</p><ul><li>é€‚ç”¨äºä»»ä½•åŸºäº Java çš„ ORM æ¡†æ¶ï¼Œå¦‚ï¼šJPA, Hibernate, Mybatis, Spring JDBC Template æˆ–ç›´æ¥ä½¿ç”¨ JDBCã€‚</li><li>åŸºäºä»»ä½•ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥æ± ï¼Œå¦‚ï¼šDBCP, C3P0, BoneCP, Druid, HikariCP ç­‰ã€‚</li><li>æ”¯æŒä»»æ„å®ç° JDBC è§„èŒƒçš„æ•°æ®åº“ã€‚ç›®å‰æ”¯æŒ MySQLï¼ŒOracleï¼ŒSQLServer å’Œ PostgreSQLã€‚</li></ul><h5 id="Sharding-Proxy"><a href="#Sharding-Proxy" class="headerlink" title="Sharding-Proxy"></a>Sharding-Proxy</h5><p>å®šä½ä¸ºé€æ˜åŒ–çš„æ•°æ®åº“ä»£ç†ç«¯ï¼Œæä¾›å°è£…äº†æ•°æ®åº“äºŒè¿›åˆ¶åè®®çš„æœåŠ¡ç«¯ç‰ˆæœ¬ï¼Œç”¨äºå®Œæˆå¯¹å¼‚æ„è¯­è¨€çš„æ”¯æŒã€‚ ç›®å‰å…ˆæä¾› MySQL&#x2F;PostgreSQL ç‰ˆæœ¬ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä»»ä½•å…¼å®¹ MySQL&#x2F;PostgreSQL åè®®çš„è®¿é—®å®¢æˆ·ç«¯(å¦‚ï¼šMySQL Command Client, MySQL Workbench, Navicat ç­‰)æ“ä½œæ•°æ®ï¼Œå¯¹ DBA æ›´åŠ å‹å¥½ã€‚</p><ul><li>å‘åº”ç”¨ç¨‹åºå®Œå…¨é€æ˜ï¼Œå¯ç›´æ¥å½“åš MySQL&#x2F;PostgreSQL ä½¿ç”¨ã€‚</li><li>é€‚ç”¨äºä»»ä½•å…¼å®¹ MySQL&#x2F;PostgreSQL åè®®çš„çš„å®¢æˆ·ç«¯ã€‚</li></ul><h5 id="ShardingSphereå®˜ç½‘-https-shardingsphere-apache-org"><a href="#ShardingSphereå®˜ç½‘-https-shardingsphere-apache-org" class="headerlink" title="ShardingSphereå®˜ç½‘:https://shardingsphere.apache.org/"></a>ShardingSphereå®˜ç½‘:<a href="https://shardingsphere.apache.org/">https://shardingsphere.apache.org/</a></h5><h2 id="2-ä»€ä¹ˆæ—¶å€™åˆ†è¡¨ï¼Ÿ"><a href="#2-ä»€ä¹ˆæ—¶å€™åˆ†è¡¨ï¼Ÿ" class="headerlink" title="2.ä»€ä¹ˆæ—¶å€™åˆ†è¡¨ï¼Ÿ"></a>2.ä»€ä¹ˆæ—¶å€™åˆ†è¡¨ï¼Ÿ</h2><p>å¦‚æœä½ çš„ç³»ç»Ÿå¤„äºå¿«é€Ÿå‘å±•æ—¶æœŸï¼Œè¡¨çš„æŸ¥è¯¢æ•ˆç‡æ˜å˜æ…¢æ—¶ï¼Œå°±éœ€è¦è§„åˆ’åˆ†åº“åˆ†è¡¨äº†ã€‚ä¸€èˆ¬B+æ ‘ç´¢å¼•é«˜åº¦æ˜¯2~3å±‚æœ€ä½³ï¼Œå¦‚æœ<strong>æ•°æ®é‡åƒä¸‡çº§åˆ«</strong>ï¼Œå¯èƒ½é«˜åº¦å°±å˜4å±‚äº†ï¼Œæ•°æ®é‡å°±ä¼šæ˜æ˜¾å˜æ…¢äº†ã€‚å‚ç…§é˜¿é‡Œè§„èŒƒä¸€èˆ¬500ä¸‡æ•°æ®å°±è¦<strong>è€ƒè™‘åˆ†è¡¨</strong>äº†ã€‚</p><h2 id="3-ä»€ä¹ˆæ—¶å€™åˆ†åº“"><a href="#3-ä»€ä¹ˆæ—¶å€™åˆ†åº“" class="headerlink" title="3.ä»€ä¹ˆæ—¶å€™åˆ†åº“"></a>3.ä»€ä¹ˆæ—¶å€™åˆ†åº“</h2><p>ä¸šåŠ¡å‘å±•å¾ˆå¿«ï¼Œè¿˜æ˜¯å¤šä¸ªæœåŠ¡å…±äº«ä¸€ä¸ªå•ä½“æ•°æ®åº“ï¼Œæ•°æ®åº“æˆä¸ºäº†æ€§èƒ½ç“¶é¢ˆï¼Œå°±éœ€è¦è€ƒè™‘åˆ†åº“äº†ã€‚æ¯”å¦‚è®¢å•ã€ç”¨æˆ·ç­‰ï¼Œéƒ½å¯ä»¥æŠ½å–å‡ºæ¥ï¼Œæ–°æä¸ªåº”ç”¨ï¼ˆå…¶å®å°±æ˜¯å¾®æœåŠ¡æ€æƒ³ï¼‰ï¼Œå¹¶ä¸”æ‹†åˆ†æ•°æ®åº“ï¼ˆè®¢å•åº“ã€ç”¨æˆ·åº“ï¼‰ã€‚</p><h2 id="4-æ°´å¹³åˆ†åº“"><a href="#4-æ°´å¹³åˆ†åº“" class="headerlink" title="4.æ°´å¹³åˆ†åº“"></a>4.æ°´å¹³åˆ†åº“</h2><p>æ°´å¹³åˆ†åº“æ˜¯æŒ‡ï¼Œå°†è¡¨çš„æ•°æ®é‡åˆ‡åˆ†åˆ°ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ä¸Šï¼Œæ¯ä¸ªæœåŠ¡å™¨å…·æœ‰ç›¸åŒçš„åº“å’Œè¡¨ï¼Œåªæ˜¯è¡¨ä¸­çš„æ•°æ®é›†åˆä¸ä¸€æ ·ã€‚å®ƒå¯ä»¥æœ‰æ•ˆçš„ç¼“è§£å•æœºå•åº“çš„æ€§èƒ½ç“¶é¢ˆå’Œå‹åŠ›ã€‚</p><p>ç”¨æˆ·åº“çš„æ°´å¹³æ‹†åˆ†æ¶æ„å¦‚ä¸‹ï¼š</p><p><img src="https://pic.rmb.bdstatic.com/bjh/down/179793cc1f6b884834e1bb92271f4881.png@wm_2,t_55m+5a625Y+3L+eoi+W6j+mCo+eCueS6iw==,fc_ffffff,ff_U2ltSGVp,sz_23,x_15,y_15" alt="img"></p><h3 id="4-1rangeæ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰"><a href="#4-1rangeæ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰" class="headerlink" title="4.1rangeæ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰"></a>4.1rangeæ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰</h3><p>å¦‚æœä¸€ä¸ªè¡¨çš„æ•°æ®é‡å¤ªå¤§ï¼Œå¯ä»¥æŒ‰ç…§æŸç§è§„åˆ™ï¼ˆå¦‚<code>hashå–æ¨¡ã€range</code>ï¼‰ï¼ŒæŠŠæ•°æ®åˆ‡åˆ†åˆ°å¤šå¼ è¡¨å»ã€‚</p><p>ä¸€å¼ è®¢å•è¡¨ï¼ŒæŒ‰<code>æ—¶é—´range</code>æ‹†åˆ†å¦‚ä¸‹ï¼š</p><p><img src="https://pic.rmb.bdstatic.com/bjh/down/21e9f4e78f9137780f06592bc1fb9295.png@wm_2,t_55m+5a625Y+3L+eoi+W6j+mCo+eCueS6iw==,fc_ffffff,ff_U2ltSGVp,sz_23,x_15,y_15" alt="img"></p><h3 id="4-2hashå–æ¨¡æ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰"><a href="#4-2hashå–æ¨¡æ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰" class="headerlink" title="4.2hashå–æ¨¡æ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰"></a>4.2hashå–æ¨¡æ–¹æ¡ˆï¼ˆåˆ†åº“åŒç†ï¼‰</h3><p>hashå–æ¨¡ç­–ç•¥ï¼šæŒ‡å®šçš„è·¯ç”±keyï¼ˆä¸€èˆ¬æ˜¯user_idã€è®¢å•idä½œä¸ºkeyï¼‰å¯¹åˆ†è¡¨æ€»æ•°è¿›è¡Œå–æ¨¡ï¼ŒæŠŠæ•°æ®åˆ†æ•£åˆ°å„ä¸ªè¡¨ä¸­ã€‚</p><p>æ¯”å¦‚åŸå§‹è®¢å•è¡¨ä¿¡æ¯ï¼Œæˆ‘ä»¬æŠŠå®ƒåˆ†æˆ4å¼ åˆ†è¡¨ï¼š</p><p><img src="https://pic.rmb.bdstatic.com/bjh/down/3238372b91d4f36756c95bf921883c21.png@wm_2,t_55m+5a625Y+3L+eoi+W6j+mCo+eCueS6iw==,fc_ffffff,ff_U2ltSGVp,sz_27,x_17,y_17" alt="img"></p><h2 id="5-hashå–æ¨¡æ–¹æ¡ˆå®æˆ˜"><a href="#5-hashå–æ¨¡æ–¹æ¡ˆå®æˆ˜" class="headerlink" title="5.hashå–æ¨¡æ–¹æ¡ˆå®æˆ˜"></a>5.hashå–æ¨¡æ–¹æ¡ˆå®æˆ˜</h2><h3 id="5-1æ–°å»ºä¸€ä¸ªspringBooté¡¹ç›®"><a href="#5-1æ–°å»ºä¸€ä¸ªspringBooté¡¹ç›®" class="headerlink" title="5.1æ–°å»ºä¸€ä¸ªspringBooté¡¹ç›®"></a>5.1æ–°å»ºä¸€ä¸ªspringBooté¡¹ç›®</h3><p><img src="/images/img/image-20220527164557119.png" alt="image-20220527164557119"></p><h3 id="5-2å¼•å…¥mysqlï¼Œshardingsphereï¼Œlombokç­‰æ‰€éœ€è¦çš„ä¾èµ–åŒ…"><a href="#5-2å¼•å…¥mysqlï¼Œshardingsphereï¼Œlombokç­‰æ‰€éœ€è¦çš„ä¾èµ–åŒ…" class="headerlink" title="5.2å¼•å…¥mysqlï¼Œshardingsphereï¼Œlombokç­‰æ‰€éœ€è¦çš„ä¾èµ–åŒ…"></a>5.2å¼•å…¥mysqlï¼Œshardingsphereï¼Œlombokç­‰æ‰€éœ€è¦çš„ä¾èµ–åŒ…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">        &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!--mysql--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">        &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!--Mybatis-Plus--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.1.1&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!--shardingsphere start--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;io.shardingsphere&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.1.0&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!-- for spring namespace --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;io.shardingsphere&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;sharding-jdbc-spring-namespace&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.1.0&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!--shardingsphere end--&gt;</span><br><span class="line">    &lt;!--lombok--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.18.8&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure><h3 id="5-3åˆ›å»ºæ•°æ®åº“andè¡¨éœ€è¦ç”¨åˆ°çš„ï¼Œåªä¸ºäº†å®è·µä¸€ä¸ªdemoæ•°æ®åº“ç»“æ„æ¯”è¾ƒç®€å•"><a href="#5-3åˆ›å»ºæ•°æ®åº“andè¡¨éœ€è¦ç”¨åˆ°çš„ï¼Œåªä¸ºäº†å®è·µä¸€ä¸ªdemoæ•°æ®åº“ç»“æ„æ¯”è¾ƒç®€å•" class="headerlink" title="5.3åˆ›å»ºæ•°æ®åº“andè¡¨éœ€è¦ç”¨åˆ°çš„ï¼Œåªä¸ºäº†å®è·µä¸€ä¸ªdemoæ•°æ®åº“ç»“æ„æ¯”è¾ƒç®€å•"></a>5.3åˆ›å»ºæ•°æ®åº“andè¡¨éœ€è¦ç”¨åˆ°çš„ï¼Œåªä¸ºäº†å®è·µä¸€ä¸ªdemoæ•°æ®åº“ç»“æ„æ¯”è¾ƒç®€å•</h3><p>æ–°å»ºæ•°æ®åº“ ds0ï¼Œds1</p><p>æ¯ä¸ªåº“å„åŒ…å«ä¸¤ä¸ªè¡¨ï¼ˆuser_0,user_1ï¼‰</p><h6 id="5-3-1æ•°æ®åº“a"><a href="#5-3-1æ•°æ®åº“a" class="headerlink" title="5.3.1æ•°æ®åº“a"></a>5.3.1æ•°æ®åº“a</h6><p>CREATE DATABASE IF NOT EXISTS <code>ds0</code> <em>&#x2F;*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci *&#x2F;</em>; USE <code>ds0</code>; SET NAMES utf8mb4;</p><h6 id="5-3-2æ•°æ®åº“açš„è¡¨"><a href="#5-3-2æ•°æ®åº“açš„è¡¨" class="headerlink" title="5.3.2æ•°æ®åº“açš„è¡¨"></a>5.3.2æ•°æ®åº“açš„è¡¨</h6><p>CREATE TABLE <code>user_0</code> (<br>  <code>id</code> int NOT NULL,<br>  <code>name</code> varchar(255) DEFAULT NULL,<br>  <code>age</code> int DEFAULT NULL,<br>  PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4 COLLATE&#x3D;utf8mb4_0900_ai_ci;</p><p>CREATE TABLE <code>user_1</code> (<br>  <code>id</code> int NOT NULL,<br>  <code>name</code> varchar(255) DEFAULT NULL,<br>  <code>age</code> int DEFAULT NULL,<br>  PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4 COLLATE&#x3D;utf8mb4_0900_ai_ci;</p><h6 id="5-3-3æ•°æ®åº“b"><a href="#5-3-3æ•°æ®åº“b" class="headerlink" title="5.3.3æ•°æ®åº“b"></a>5.3.3æ•°æ®åº“b</h6><p>CREATE DATABASE IF NOT EXISTS <code>ds1</code> <em>&#x2F;*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci *&#x2F;</em>; USE <code>ds0</code>; SET NAMES utf8mb4;</p><h6 id="5-3-4æ•°æ®åº“bçš„è¡¨"><a href="#5-3-4æ•°æ®åº“bçš„è¡¨" class="headerlink" title="5.3.4æ•°æ®åº“bçš„è¡¨"></a>5.3.4æ•°æ®åº“bçš„è¡¨</h6><p>CREATE TABLE <code>user_0</code> (<br>  <code>id</code> int NOT NULL,<br>  <code>name</code> varchar(255) DEFAULT NULL,<br>  <code>age</code> int DEFAULT NULL,<br>  PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4 COLLATE&#x3D;utf8mb4_0900_ai_ci;</p><p>CREATE TABLE <code>user_1</code> (<br>  <code>id</code> int NOT NULL,<br>  <code>name</code> varchar(255) DEFAULT NULL,<br>  <code>age</code> int DEFAULT NULL,<br>  PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4 COLLATE&#x3D;utf8mb4_0900_ai_ci;</p><h3 id="5-4-application-propertiesé…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰"><a href="#5-4-application-propertiesé…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰" class="headerlink" title="5.4.application.propertiesé…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰"></a>5.4.application.propertiesé…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰</h3><p>a.é…ç½®äº†ä¸¤ä¸ªæ•°æ®æºåº“</p><p>b.é…ç½®äº†ä»¥idä¸ºå‡†çš„åˆ†åº“æ ‡å‡†ï¼ˆds$-&gt;{id % 2}ï¼‰ï¼Œè¿™ä¸ªç®—æ³•ä¸ªäººç†è§£ç±»ä¼¼äºé™¤æ³•ï¼Œæ¯”å¦‚idæ˜¯100ï¼Œåˆ†8ä¸ªåº“ï¼ˆds$-&gt;{100% 8}ï¼‰ä½™æ•°ä¸º4 é‚£å°±åœ¨ds4è¿™ä¸ªåº“é‡Œï¼Œé™¤å°½çš„è¯åœ¨ds0åº“</p><p>c.è¦æ³¨æ„ï¼Œæˆ‘ä»¬åˆ†è¡¨åä¸»é”®è‡ªå¢idå°±ä¸å¯ç”¨äº†ï¼Œå› ä¸ºè¡¨ä¸åŒï¼Œæ‰€ä»¥ä¸»é”®ä¼šæœ‰é‡å¤ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯uuidï¼Œä½†æ˜¯å› ä¸ºuuidæ˜¯ä¸€ä¸ªé•¿ä½å­—ç¬¦ä¸²ï¼Œè¿™æ ·çš„è¯å¦‚æœä½¿ç”¨å®ƒä½œä¸ºåˆ†è¡¨ä¾æ®çš„è¯æŸ¥è¯¢æ•ˆç‡ä¼šæœ‰å½±å“ã€‚å¦‚æœæ•°æ®é‡ä¸å¤§çš„è¯å…¶å®å¯ä»¥å¼€ä¸€ä¸ªè¡¨ä¸“é—¨ç”¨äºç”Ÿäº§idä¸»é”®ã€‚è¿˜æœ‰ä¸€ç§åˆ†æ¡ˆæ˜¯å¯ä»¥é€šè¿‡è®¾è¡¨çš„<strong>è‡ªå¢å­—æ®µæ­¥é•¿</strong>æ¥è¿›è¡Œæ°´å¹³ä¼¸ç¼©ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œç°åœ¨æœ‰ 8 ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œæ¯ä¸ªæœåŠ¡èŠ‚ç‚¹ä½¿ç”¨ä¸€ä¸ª sequence åŠŸèƒ½æ¥äº§ç”Ÿ IDï¼Œæ¯ä¸ª sequence çš„èµ·å§‹ ID ä¸åŒï¼Œå¹¶ä¸”ä¾æ¬¡é€’å¢ï¼Œæ­¥é•¿éƒ½æ˜¯8</p><p><img src="https://img.jbzj.com/file_images/article/202202/2022021510162820.png" alt="img"></p><p><strong>é€‚åˆçš„åœºæ™¯</strong>ï¼šåœ¨ç”¨æˆ·é˜²æ­¢äº§ç”Ÿçš„ ID é‡å¤æ—¶ï¼Œè¿™ç§æ–¹æ¡ˆå®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä¹Ÿèƒ½è¾¾åˆ°æ€§èƒ½ç›®æ ‡ã€‚ä½†æ˜¯æœåŠ¡èŠ‚ç‚¹å›ºå®šï¼Œæ­¥é•¿ä¹Ÿå›ºå®šï¼Œå°†æ¥å¦‚æœè¿˜è¦å¢åŠ æœåŠ¡èŠ‚ç‚¹ï¼Œå°±ä¸å¥½æäº†ã€‚</p><p>e.åˆ†åº“è§„åˆ™ï¼Œidå•æ•°åœ¨ds1åº“ï¼ŒåŒæ•°åœ¨ds0</p><p>f.åˆ†è¡¨è§„åˆ™ï¼Œageå•æ•°åœ¨user1ï¼ŒåŒæ•°åœ¨dso</p><h6 id="æä¾›application-propertiesæ–‡ä»¶ï¼ˆè®°å¾—æ›¿æ¢æ•°æ®åº“é…ç½®ï¼‰"><a href="#æä¾›application-propertiesæ–‡ä»¶ï¼ˆè®°å¾—æ›¿æ¢æ•°æ®åº“é…ç½®ï¼‰" class="headerlink" title="æä¾›application.propertiesæ–‡ä»¶ï¼ˆè®°å¾—æ›¿æ¢æ•°æ®åº“é…ç½®ï¼‰"></a>æä¾›application.propertiesæ–‡ä»¶ï¼ˆè®°å¾—æ›¿æ¢æ•°æ®åº“é…ç½®ï¼‰</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">server.port=8888</span><br><span class="line"></span><br><span class="line"># æ•°æ®æº ds0,ds1</span><br><span class="line">sharding.jdbc.datasource.names=ds0,ds1</span><br><span class="line"># ç¬¬ä¸€ä¸ªæ•°æ®åº“</span><br><span class="line">sharding.jdbc.datasource.ds0.type=com.zaxxer.hikari.HikariDataSource</span><br><span class="line">sharding.jdbc.datasource.ds0.driver-class-name=com.mysql.cj.jdbc.Driver</span><br><span class="line">sharding.jdbc.datasource.ds0.jdbc-url=jdbc:mysql://ä½ çš„ä¸»æœº:3306/ds0?characterEncoding=utf-8&amp;&amp;serverTimezone=GMT%2B8</span><br><span class="line">sharding.jdbc.datasource.ds0.username=root</span><br><span class="line">sharding.jdbc.datasource.ds0.password=990522</span><br><span class="line"></span><br><span class="line"># ç¬¬äºŒä¸ªæ•°æ®åº“</span><br><span class="line">sharding.jdbc.datasource.ds1.type=com.zaxxer.hikari.HikariDataSource</span><br><span class="line">sharding.jdbc.datasource.ds1.driver-class-name=com.mysql.cj.jdbc.Driver</span><br><span class="line">sharding.jdbc.datasource.ds1.jdbc-url=jdbc:mysql://ä½ çš„ä¸»æœº:3306/ds1?characterEncoding=utf-8&amp;&amp;serverTimezone=GMT%2B8</span><br><span class="line">sharding.jdbc.datasource.ds1.username=root</span><br><span class="line">sharding.jdbc.datasource.ds1.password=990522</span><br><span class="line"></span><br><span class="line"># æ°´å¹³æ‹†åˆ†çš„æ•°æ®åº“ï¼ˆè¡¨ï¼‰ é…ç½®åˆ†åº“ + åˆ†è¡¨ç­–ç•¥ è¡Œè¡¨è¾¾å¼åˆ†ç‰‡ç­–ç•¥</span><br><span class="line"># åˆ†åº“ç­–ç•¥</span><br><span class="line">sharding.jdbc.config.sharding.default-database-strategy.inline.sharding-column=id</span><br><span class="line">sharding.jdbc.config.sharding.default-database-strategy.inline.algorithm-expression=ds$-&gt;&#123;id % 2&#125;</span><br><span class="line"></span><br><span class="line"># åˆ†è¡¨ç­–ç•¥ å…¶ä¸­userä¸ºé€»è¾‘è¡¨ åˆ†è¡¨ä¸»è¦å–å†³äºageè¡Œ</span><br><span class="line">sharding.jdbc.config.sharding.tables.user.actual-data-nodes=ds$-&gt;&#123;0..1&#125;.user_$-&gt;&#123;0..1&#125;</span><br><span class="line">sharding.jdbc.config.sharding.tables.user.table-strategy.inline.sharding-column=age</span><br><span class="line"># åˆ†ç‰‡ç®—æ³•è¡¨è¾¾å¼</span><br><span class="line">sharding.jdbc.config.sharding.tables.user.table-strategy.inline.algorithm-expression=user_$-&gt;&#123;age % 2&#125;</span><br><span class="line"></span><br><span class="line"># ä¸»é”® UUID 18ä½æ•° å¦‚æœæ˜¯åˆ†å¸ƒå¼è¿˜è¦è¿›è¡Œä¸€ä¸ªè®¾ç½® é˜²æ­¢ä¸»é”®é‡å¤</span><br><span class="line">#sharding.jdbc.config.sharding.tables.user.key-generator-column-name=id</span><br><span class="line"></span><br><span class="line"># æ‰“å°æ‰§è¡Œçš„æ•°æ®åº“ä»¥åŠè¯­å¥</span><br><span class="line">sharding.jdbc.config.props..sql.show=true</span><br><span class="line">spring.main.allow-bean-definition-overriding=true</span><br></pre></td></tr></table></figure><h3 id="5-5ä»£ç æ¯”è¾ƒç®€å•ç›´æ¥è´´å‡ºæ¥äº†"><a href="#5-5ä»£ç æ¯”è¾ƒç®€å•ç›´æ¥è´´å‡ºæ¥äº†" class="headerlink" title="5.5ä»£ç æ¯”è¾ƒç®€å•ç›´æ¥è´´å‡ºæ¥äº†"></a>5.5ä»£ç æ¯”è¾ƒç®€å•ç›´æ¥è´´å‡ºæ¥äº†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Controller</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package org.example.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import org.example.entity.User;</span><br><span class="line">import org.example.service.UserService;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">@RestController</span><br><span class="line">public class UserController &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private UserService userService;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/select&quot;)</span><br><span class="line">    public List&lt;User&gt; select(User user) &#123;</span><br><span class="line">        return userService.getUserList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/insert&quot;)</span><br><span class="line">    public Boolean insert(User user) &#123;</span><br><span class="line">        return userService.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="server"><a href="#server" class="headerlink" title="server"></a>server</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package org.example.service;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line">import org.example.entity.User;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">@Service</span><br><span class="line">public interface UserService extends IService&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * ä¿å­˜ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">     *</span><br><span class="line">     * @param entity</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    boolean save(User entity);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">     *</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    List&lt;User&gt; getUserList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="serverå®ç°"><a href="#serverå®ç°" class="headerlink" title="serverå®ç°"></a>serverå®ç°</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package org.example.service.impl;</span><br><span class="line"></span><br><span class="line">import com.baomidou.mybatisplus.core.toolkit.Wrappers;</span><br><span class="line">import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line">import org.example.dao.UserMapper;</span><br><span class="line">import org.example.entity.User;</span><br><span class="line">import org.example.service.UserService;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">@Service</span><br><span class="line">public class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements UserService &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public boolean save(User entity) &#123;</span><br><span class="line">        return super.save(entity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;User&gt; getUserList() &#123;</span><br><span class="line">        return baseMapper.selectList(Wrappers.&lt;User&gt;lambdaQuery());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="dao"><a href="#dao" class="headerlink" title="dao"></a>dao</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package org.example.dao;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line">import org.apache.ibatis.annotations.Mapper;</span><br><span class="line">import org.example.entity.User;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * user daoå±‚</span><br><span class="line"> * @author lihaodong</span><br><span class="line"> */</span><br><span class="line">@Mapper</span><br><span class="line">public interface UserMapper extends BaseMapper&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="å®ä½“"><a href="#å®ä½“" class="headerlink" title="å®ä½“"></a>å®ä½“</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package org.example.entity;</span><br><span class="line"></span><br><span class="line">import com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line">import com.baomidou.mybatisplus.extension.activerecord.Model;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.EqualsAndHashCode;</span><br><span class="line">import lombok.experimental.Accessors;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">@EqualsAndHashCode(callSuper = true)</span><br><span class="line">@Accessors(chain = true)</span><br><span class="line">@TableName(&quot;user&quot;)</span><br><span class="line">public class User extends Model&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * ä¸»é”®Id</span><br><span class="line">     */</span><br><span class="line">    private Integer id;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * åç§°</span><br><span class="line">     */</span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * å¹´é¾„</span><br><span class="line">     */</span><br><span class="line">    private Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-6éªŒè¯hashåˆ†åº“åˆ†è¡¨"><a href="#5-6éªŒè¯hashåˆ†åº“åˆ†è¡¨" class="headerlink" title="5.6éªŒè¯hashåˆ†åº“åˆ†è¡¨"></a>5.6éªŒè¯hashåˆ†åº“åˆ†è¡¨</h3><p>æ’å…¥æ•°æ®æµ‹è¯•ä¸€ä¸‹ï¼Œå†™ä¸€ä¸ªæµ‹è¯•æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/add&quot;)</span><br><span class="line">public Boolean add(User user) &#123;</span><br><span class="line">    ArrayList&lt;User&gt; users = new ArrayList&lt;&gt;();</span><br><span class="line">     for (int i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">         users.add(new User(1,&quot;å¼ ä¸€&quot;,20));</span><br><span class="line">         users.add(new User(2,&quot;å¼ äºŒ&quot;,21));</span><br><span class="line">         users.add(new User(3,&quot;å¼ ä¸‰&quot;,22));</span><br><span class="line">         users.add(new User(4,&quot;å¼ å››&quot;,24));</span><br><span class="line">         users.add(new User(5,&quot;å¼ äº”&quot;,25));</span><br><span class="line">         users.add(new User(6,&quot;å¼ å…­&quot;,26));</span><br><span class="line">         users.add(new User(7,&quot;å¼ ä¸ƒ&quot;,27));</span><br><span class="line">         users.add(new User(8,&quot;å¼ å…«&quot;,28));</span><br><span class="line">         users.add(new User(9,&quot;å¼ ä¹&quot;,29));</span><br><span class="line">         users.add(new User(10,&quot;å¼ ç™¾ä¸‡&quot;,99));</span><br><span class="line">    &#125;</span><br><span class="line">    for (User user1 : users) &#123;</span><br><span class="line">        userService.save(user1);</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æˆ‘ä»¬å®šä¹‰å¥½çš„idåˆ†åº“è§„åˆ™</p><p>idä¸º 1ï¼Œ3 ï¼Œ5ï¼Œ 7ï¼Œ9çš„æ•°æ®åº”è¯¥åœ¨ds1åº“</p><p>idä¸º 2ï¼Œ4ï¼Œ6ï¼Œ8ï¼Œ10 åº”è¯¥åœ¨ds0åº“</p><p>ds1åº“ä¸­</p><p>use_0è¡¨ä¸­ï¼Œåº”è¯¥æœ‰æ•°æ®</p><p> <code>users.add(new User(1,&quot;å¼ ä¸€&quot;,20));</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(9,&quot;å¼ ä¹&quot;,32));</span><br></pre></td></tr></table></figure><p>user_1ä¸­åº”è¯¥æœ‰æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(3,&quot;å¼ ä¸‰&quot;,31));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(5,&quot;å¼ äº”&quot;,25));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(7,&quot;å¼ ä¸ƒ&quot;,27));</span><br></pre></td></tr></table></figure><p>ds0åº“ä¸­</p><p>user_0è¡¨ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(4,&quot;å¼ å››&quot;,24));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(6,&quot;å¼ å…­&quot;,26));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(8,&quot;å¼ å…«&quot;,28));</span><br></pre></td></tr></table></figure><p>user_1è¡¨ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(2,&quot;å¼ äºŒ&quot;,21));</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users.add(new User(10,&quot;å¼ ç™¾ä¸‡&quot;,99));</span><br></pre></td></tr></table></figure><p>ç›´æ¥httpæ–¹å¼è°ƒç”¨<a href="http://localhost:8888/add">http://localhost:8888/add</a></p><p>çœ‹ç»“æœ</p><p>Ds1</p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220527185409203.png" alt="image-20220527185409203"></p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220527185444131.png" alt="image-20220527185444131"></p><p>ds0</p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220527185620441.png" alt="image-20220527185620441"></p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220527185648616.png" alt="image-20220527185648616"></p><h3 id="7-æŸ¥è¯¢åˆ†æ"><a href="#7-æŸ¥è¯¢åˆ†æ" class="headerlink" title="7.æŸ¥è¯¢åˆ†æ"></a>7.æŸ¥è¯¢åˆ†æ</h3><h4 id="7-1å¸¦åˆ†åº“åˆ†è¡¨å‚æ•°"><a href="#7-1å¸¦åˆ†åº“åˆ†è¡¨å‚æ•°" class="headerlink" title="7.1å¸¦åˆ†åº“åˆ†è¡¨å‚æ•°"></a>7.1å¸¦åˆ†åº“åˆ†è¡¨å‚æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/select&quot;)</span><br><span class="line">public List&lt;User&gt; select(User user) &#123;</span><br><span class="line">    return userService.getUserList(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public List&lt;User&gt; getUserList(User user) &#123;</span><br><span class="line">    LambdaQueryWrapper&lt;User&gt; userLambdaQueryWrapper = Wrappers.&lt;User&gt;lambdaQuery();</span><br><span class="line">    userLambdaQueryWrapper.eq(null != user.getId(),User::getId,user.getId());</span><br><span class="line">    userLambdaQueryWrapper.eq(null != user.getAge(),User::getAge,user.getAge());</span><br><span class="line">    userLambdaQueryWrapper.eq(!StringUtils.isEmpty(user.getName()),User::getName,user.getName());</span><br><span class="line">    return baseMapper.selectList(userLambdaQueryWrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-2ä¸æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°"><a href="#7-2ä¸æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°" class="headerlink" title="7.2ä¸æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°"></a>7.2ä¸æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°</h4><p>ç›´æ¥httpè°ƒç”¨<a href="http://localhost:8888/select?name=ceshi">http://localhost:8888/select?name=ceshi</a></p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220530153015914.png" alt="image-20220530153015914"></p><p>æŸ¥è¯¢äº†æˆ‘ä»¬çš„2ä¸ªæ•°æ®åº“andæ¯ä¸ªæ•°æ®åº“ä¸‹é¢çš„ä¸¤å¼ è¡¨</p><h4 id="7-3å¸¦åˆ†åº“çš„å‚æ•°"><a href="#7-3å¸¦åˆ†åº“çš„å‚æ•°" class="headerlink" title="7.3å¸¦åˆ†åº“çš„å‚æ•°"></a>7.3å¸¦åˆ†åº“çš„å‚æ•°</h4><p>æŸ¥è¯¢é“¾æ¥andå‚æ•°<a href="http://localhost:8888/select?id=2">http://localhost:8888/select?id=2</a></p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220530153428164.png" alt="image-20220530153428164"></p><p>æŸ¥è¯¢äº†å½“å‰idæ‰€åœ¨åº“çš„ä¸¤ä¸ªè¡¨</p><h4 id="7-4æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°"><a href="#7-4æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°" class="headerlink" title="7.4æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°"></a>7.4æºå¸¦åˆ†åº“åˆ†è¡¨å‚æ•°</h4><p>é“¾æ¥å‚æ•°<a href="http://localhost:8888/select?id=2&age=27">http://localhost:8888/select?id=2&amp;age=27</a></p><p><img src="/2022/05/26/%E5%9F%BA%E4%BA%8EShardingSphere%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/image-20220530154057941.png" alt="image-20220530154057941"></p><p>å‡†ç¡®æŸ¥è¯¢åˆ°äº†è¿™æ¡æ•°æ®æ‰€åœ¨çš„åº“è·Ÿè¡¨</p><h4 id="7-5åˆ†è¡¨åˆ†åº“æŸ¥è¯¢åŸç†"><a href="#7-5åˆ†è¡¨åˆ†åº“æŸ¥è¯¢åŸç†" class="headerlink" title="7.5åˆ†è¡¨åˆ†åº“æŸ¥è¯¢åŸç†"></a>7.5åˆ†è¡¨åˆ†åº“æŸ¥è¯¢åŸç†</h4><p>æŸ¥è¯¢å‚æ•°æºå¸¦åˆ†åº“åˆ†è¡¨çš„ç´¢å¼•æ—¶å€™ï¼ŒæŸ¥è¯¢æ—¶å€™ä¼šè®¡ç®—ç²¾å‡†å‘½ä¸­æˆ‘ä»¬è¦æŸ¥çš„åº“è¡¨ï¼Œæ²¡æœ‰æºå¸¦åˆ™å…¨è¡¨å…¨åº“æ‰«æï¼Œå½“æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ•ˆç‡ä¼šå¾ˆå·®ã€‚æ•°æ®åº“å‹åŠ›å¾ˆå¤§ ã€‚æ‰€ä»¥é€‰å–åˆ†åº“åˆ†è¡¨çš„ç´¢å¼•åº”è¯¥è¦é€‰æ‹©çƒ­ç‚¹æ•°æ®ï¼ˆå­—æ®µï¼‰</p><h2 id="8-åˆ†åº“åˆ†è¡¨å¸¦æ¥çš„é—®é¢˜"><a href="#8-åˆ†åº“åˆ†è¡¨å¸¦æ¥çš„é—®é¢˜" class="headerlink" title="8.åˆ†åº“åˆ†è¡¨å¸¦æ¥çš„é—®é¢˜"></a>8.åˆ†åº“åˆ†è¡¨å¸¦æ¥çš„é—®é¢˜</h2><h3 id="8-1-è·¨åº“å…³è”æŸ¥è¯¢"><a href="#8-1-è·¨åº“å…³è”æŸ¥è¯¢" class="headerlink" title="8.1 è·¨åº“å…³è”æŸ¥è¯¢"></a>8.1 è·¨åº“å…³è”æŸ¥è¯¢</h3><p>æ¯”å¦‚æŸ¥è¯¢åœ¨åˆåŒä¿¡æ¯çš„æ—¶å€™è¦å…³è”å®¢æˆ·æ•°æ®ï¼Œç”±äºæ˜¯åˆåŒæ•°æ®å’Œå®¢æˆ·æ•°æ®æ˜¯åœ¨ä¸åŒçš„æ•°æ®åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šä¸èƒ½ç›´æ¥ä½¿ç”¨ join çš„è¿™ç§æ–¹å¼å»åšå…³è”æŸ¥è¯¢ã€‚</p><p>æˆ‘ä»¬æœ‰å‡ ç§ä¸»è¦çš„è§£å†³æ–¹æ¡ˆ:</p><p>å­—æ®µå†—ä½™<br>æ¯”å¦‚æˆ‘ä»¬æŸ¥è¯¢åˆåŒåº“çš„åˆåŒè¡¨çš„æ—¶å€™éœ€è¦å…³è”å®¢æˆ·åº“çš„å®¢æˆ·è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠä¸€äº›ç»å¸¸å…³è”æŸ¥è¯¢çš„å®¢æˆ·å­—æ®µæ”¾åˆ°åˆåŒè¡¨ï¼Œé€šè¿‡è¿™ç§æ–¹å¼é¿å…è·¨åº“å…³è”æŸ¥è¯¢çš„é—®é¢˜ã€‚</p><p>æ•°æ®åŒæ­¥<br>æ¯”å¦‚å•†æˆ·ç³»ç»Ÿè¦æŸ¥è¯¢äº§å“ç³»ç»Ÿçš„äº§å“è¡¨ï¼Œæˆ‘ä»¬å¹²è„†åœ¨å•†æˆ·ç³»ç»Ÿåˆ›å»ºä¸€å¼ äº§å“è¡¨ï¼Œé€šè¿‡ ETL æˆ–è€…å…¶ä»–æ–¹å¼å®šæ—¶åŒæ­¥äº§å“æ•°æ®ã€‚</p><h3 id="8-2-åˆ†å¸ƒå¼äº‹åŠ¡"><a href="#8-2-åˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="8.2 åˆ†å¸ƒå¼äº‹åŠ¡"></a>8.2 åˆ†å¸ƒå¼äº‹åŠ¡</h3><p>æ¯”å¦‚åœ¨ä¸€ä¸ªè´·æ¬¾çš„æµç¨‹é‡Œé¢ï¼ŒåˆåŒç³»ç»Ÿç™»è®°äº†æ•°æ®ï¼Œæ”¾æ¬¾ç³»ç»Ÿä¹Ÿå¿…é¡»ç”Ÿæˆæ”¾æ¬¾è®°å½•ï¼Œå¦‚æœä¸¤ä¸ªåŠ¨ä½œä¸æ˜¯åŒæ—¶æˆåŠŸæˆ–è€…åŒæ—¶å¤±è´¥ï¼Œå°±ä¼šå‡ºç°æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚å¦‚æœåœ¨ä¸€ä¸ªæ•°æ®åº“é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æœ¬åœ°äº‹åŠ¡æ¥æ§åˆ¶ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„æ•°æ®åº“é‡Œé¢å°±ä¸è¡Œäº†ã€‚æ‰€ä»¥åˆ†å¸ƒå¼ç¯å¢ƒé‡Œé¢çš„äº‹åŠ¡ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦é€šè¿‡ä¸€äº›æ–¹æ¡ˆæ¥è§£å†³ã€‚</p><p>å¤ä¹ ä¸€ä¸‹ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºç¡€æ˜¯ CAP ç†è®ºã€‚</p><p>C (ä¸€è‡´æ€§) Consistency:å¯¹æŸä¸ªæŒ‡å®šçš„å®¢æˆ·ç«¯æ¥è¯´ï¼Œè¯»æ“ä½œèƒ½è¿”å›æœ€æ–°çš„å†™æ“ä½œã€‚å¯¹äºæ•°æ®åˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šçš„æ•°æ®æ¥è¯´ï¼Œå¦‚æœåœ¨æŸä¸ªèŠ‚ç‚¹æ›´æ–°äº†æ•°æ®ï¼Œé‚£ä¹ˆåœ¨å…¶ä»–èŠ‚ç‚¹å¦‚æœéƒ½èƒ½è¯»å–åˆ°è¿™ä¸ªæœ€æ–°çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±ç§°ä¸ºå¼ºä¸€è‡´ï¼Œå¦‚æœæœ‰æŸä¸ªèŠ‚ç‚¹æ²¡æœ‰è¯»å–åˆ°ï¼Œé‚£å°±æ˜¯åˆ†å¸ƒå¼ä¸ä¸€è‡´ã€‚</p><p>A (å¯ç”¨æ€§) Availability:éæ•…éšœçš„èŠ‚ç‚¹åœ¨åˆç†çš„æ—¶é—´å†…è¿”å›åˆç†çš„å“åº”(ä¸æ˜¯é”™è¯¯å’Œè¶…æ—¶çš„å“åº”)ã€‚å¯ç”¨æ€§çš„ä¸¤ä¸ªå…³é”®ä¸€ä¸ªæ˜¯åˆç†çš„æ—¶é—´ï¼Œä¸€ä¸ªæ˜¯åˆç†çš„å“åº”ã€‚<br>åˆç†çš„æ—¶é—´æŒ‡çš„æ˜¯è¯·æ±‚ä¸èƒ½æ— é™è¢«é˜»å¡ï¼Œåº”è¯¥åœ¨åˆç†çš„æ—¶é—´ç»™å‡ºè¿”å›ã€‚åˆç†çš„å“åº”ï¼ŒæŒ‡çš„æ˜¯ç³»ç»Ÿåº”è¯¥æ˜ç¡®è¿”å›ç»“æœå¹¶ä¸”ç»“æœæ˜¯æ­£ç¡®çš„ã€‚</p><p>P (åˆ†åŒºå®¹é”™æ€§) Partition tolerance:å½“å‡ºç°ç½‘ç»œåˆ†åŒºåï¼Œç³»ç»Ÿèƒ½å¤Ÿç»§ç»­å·¥ä½œã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œè¿™é‡Œé›†ç¾¤æœ‰å¤šå°æœºå™¨ï¼Œæœ‰å°æœºå™¨ç½‘ç»œå‡ºç°äº†é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªé›†ç¾¤ä»ç„¶å¯ä»¥æ­£å·¥ä½œã€‚</p><p>CAP ä¸‰è€…æ˜¯ä¸èƒ½å…±æœ‰çš„ï¼Œåªèƒ½åŒæ—¶æ»¡è¶³å…¶ä¸­ä¸¤ç‚¹ã€‚åŸºäº APï¼Œæˆ‘ä»¬åˆæœ‰äº† BASE ç†è®ºã€‚</p><p>åŸºæœ¬å¯ç”¨(Basically Available)ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœæ—¶ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨åŠŸèƒ½ï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ã€‚</p><p>è½¯çŠ¶æ€(Soft state):å…è®¸ç³»ç»Ÿä¸­å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¸å½±å“ç³»ç»Ÿå¯ç”¨æ€§ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯ CAP ä¸­çš„ä¸ä¸€è‡´ã€‚</p><p>æœ€ç»ˆä¸€è‡´(Eventually consistent)ï¼šæœ€ç»ˆä¸€è‡´æ˜¯æŒ‡ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œæ‰€æœ‰èŠ‚ç‚¹æ•°æ®éƒ½å°†ä¼šè¾¾åˆ°ä¸€è‡´ã€‚</p><p>åˆ†å¸ƒå¼äº‹åŠ¡æœ‰å‡ ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆ:</p><p>1ã€å…¨å±€äº‹åŠ¡(æ¯”å¦‚ XA ä¸¤é˜¶æ®µæäº¤;åº”ç”¨ã€äº‹åŠ¡ç®¡ç†å™¨â„¢ã€èµ„æºç®¡ç†å™¨(DB))ï¼Œ ä¾‹å¦‚Atomikosã€‚<br>2ã€åŸºäºå¯é æ¶ˆæ¯æœåŠ¡çš„åˆ†å¸ƒå¼äº‹åŠ¡ã€‚</p><p>3ã€æŸ”æ€§äº‹åŠ¡ TCC(Try-Confirm-Cancel)tcc-transaction</p><p>4ã€æœ€å¤§åŠªåŠ›é€šçŸ¥ï¼Œé€šè¿‡æ¶ˆæ¯ä¸­é—´ä»¶å‘å…¶ä»–ç³»ç»Ÿå‘é€æ¶ˆæ¯(é‡å¤æŠ•é€’+å®šæœŸæ ¡å¯¹)</p><h3 id="9-é¡¹ç›®åœ°å€"><a href="#9-é¡¹ç›®åœ°å€" class="headerlink" title="9.é¡¹ç›®åœ°å€"></a>9.é¡¹ç›®åœ°å€</h3><p><a href="https://gitee.com/guo0817/split-db.git">https://gitee.com/guo0817/split-db.git</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springBoot </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BigDecimalä½¿ç”¨è¯¦è§£</title>
      <link href="/2022/03/24/BigDecimal%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/"/>
      <url>/2022/03/24/BigDecimal%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>BigDecimalä½¿ç”¨è¯¦è§£</p><span id="more"></span><h5 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨BigDecimal"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨BigDecimal" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨BigDecimal"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨BigDecimal</h5><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="number">0.1</span> + <span class="number">0.2</span>);</span><br><span class="line">        System.out.println(<span class="number">0.3</span> - <span class="number">0.1</span>);</span><br><span class="line">        System.out.println(<span class="number">0.2</span> * <span class="number">0.1</span>);</span><br><span class="line">        System.out.println(<span class="number">0.3</span> / <span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;                 </span><br></pre></td></tr></table></figure><p><img src="/2022/03/24/BigDecimal%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/image-20230324171824759-9649506.png" alt="image-20230324171824759"></p><p>åœ¨è®¡ç®—æœºä¸­ï¼Œæµ®ç‚¹æ•°(floatå’Œdouble)éƒ½æ˜¯é‡‡ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºçš„ã€‚ä½†æ˜¯äºŒè¿›åˆ¶æ— æ³•ç²¾ç¡®åœ°è¡¨ç¤ºæ‰€æœ‰çš„åè¿›åˆ¶å°æ•°ï¼Œè¿™å°±å¯¼è‡´äº†æµ®ç‚¹æ•°åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ã€‚ ä¾‹å¦‚ï¼Œåè¿›åˆ¶çš„0.1å¹¶ä¸èƒ½ç²¾ç¡®åœ°è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶æ•°ã€‚ç”¨floatæˆ–doubleç±»å‹è¡¨ç¤º0.1æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼Œè€Œä¸æ˜¯ç²¾ç¡®å€¼ã€‚å½“è¿›è¡Œä¸€ç³»åˆ—å¤æ‚çš„æµ®ç‚¹æ•°è¿ç®—æ—¶ï¼Œè¿™ç§è¿‘ä¼¼å€¼çš„è¯¯å·®ä¼šé€æ¸ç´¯ç§¯ï¼Œå¯¼è‡´æœ€ç»ˆç»“æœçš„ç²¾åº¦ä¸‹é™ï¼Œå‡ºç°ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ã€‚ æ­¤å¤–ï¼Œfloatå’Œdoubleç±»å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ä¹Ÿä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±ã€‚floatç±»å‹å 4ä¸ªå­—èŠ‚ï¼Œdoubleç±»å‹å 8ä¸ªå­—èŠ‚ï¼Œè¿™æ„å‘³ç€å®ƒä»¬èƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å€¼èŒƒå›´å’Œç²¾åº¦éƒ½æ˜¯æœ‰é™çš„ã€‚å½“éœ€è¦è¡¨ç¤ºçš„æ•°å€¼è¶…å‡ºäº†å…¶èŒƒå›´æ—¶ï¼Œä¹Ÿä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ã€‚ å› æ­¤ï¼Œåœ¨è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—æ—¶ï¼Œåº”è¯¥æ³¨æ„ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ï¼Œå°½å¯èƒ½åœ°å‡å°è¯¯å·®çš„ç´¯ç§¯ï¼Œé¿å…å½±å“åˆ°æœ€ç»ˆç»“æœçš„å‡†ç¡®æ€§ã€‚</p><h5 id="BigDecimalæ˜¯ä»€ä¹ˆ"><a href="#BigDecimalæ˜¯ä»€ä¹ˆ" class="headerlink" title="BigDecimalæ˜¯ä»€ä¹ˆ"></a>BigDecimalæ˜¯ä»€ä¹ˆ</h5><p>Javaåœ¨java.mathåŒ…ä¸­æä¾›çš„APIç±»BigDecimalï¼Œç”¨æ¥å¯¹è¶…è¿‡16ä½æœ‰æ•ˆä½çš„æ•°è¿›è¡Œç²¾ç¡®çš„è¿ç®—ã€‚åŒç²¾åº¦æµ®ç‚¹å‹å˜é‡doubleå¯ä»¥å¤„ç†16ä½æœ‰æ•ˆæ•°ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦å¯¹æ›´å¤§æˆ–è€…æ›´å°çš„æ•°è¿›è¡Œè¿ç®—å’Œå¤„ç†ã€‚floatå’Œdoubleåªèƒ½ç”¨æ¥åšç§‘å­¦è®¡ç®—æˆ–è€…æ˜¯å·¥ç¨‹è®¡ç®—ï¼Œåœ¨å•†ä¸šè®¡ç®—ä¸­è¦ç”¨java.math.BigDecimalã€‚BigDecimalæ‰€åˆ›å»ºçš„æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ä¼ ç»Ÿçš„+ã€-ã€*ã€&#x2F;ç­‰ç®—æœ¯è¿ç®—ç¬¦ç›´æ¥å¯¹å…¶å¯¹è±¡è¿›è¡Œæ•°å­¦è¿ç®—ï¼Œè€Œå¿…é¡»è°ƒç”¨å…¶ç›¸å¯¹åº”çš„æ–¹æ³•ã€‚æ–¹æ³•ä¸­çš„å‚æ•°ä¹Ÿå¿…é¡»æ˜¯BigDecimalçš„å¯¹è±¡ã€‚æ„é€ å™¨æ˜¯ç±»çš„ç‰¹æ®Šæ–¹æ³•ï¼Œä¸“é—¨ç”¨æ¥åˆ›å»ºå¯¹è±¡ï¼Œç‰¹åˆ«æ˜¯å¸¦æœ‰å‚æ•°çš„å¯¹è±¡ã€‚</p><h5 id="BigDecimalæ„é€ å™¨"><a href="#BigDecimalæ„é€ å™¨" class="headerlink" title="BigDecimalæ„é€ å™¨"></a>BigDecimalæ„é€ å™¨</h5><table><thead><tr><th>æ„é€ å™¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>BigDecimal(int)</td><td>åˆ›å»ºä¸€ä¸ªå…·æœ‰å‚æ•°æ‰€æŒ‡å®šæ•´æ•°å€¼çš„å¯¹è±¡ã€‚</td></tr><tr><td>BigDecimal(double)</td><td>åˆ›å»ºä¸€ä¸ªå…·æœ‰å‚æ•°æ‰€æŒ‡å®šåŒç²¾åº¦å€¼çš„å¯¹è±¡ã€‚ &#x2F;&#x2F;ä¸æ¨èä½¿ç”¨</td></tr><tr><td>BigDecimal(long)</td><td>åˆ›å»ºä¸€ä¸ªå…·æœ‰å‚æ•°æ‰€æŒ‡å®šé•¿æ•´æ•°å€¼çš„å¯¹è±¡ã€‚</td></tr><tr><td>BigDecimal(String)</td><td>åˆ›å»ºä¸€ä¸ªå…·æœ‰å‚æ•°æ‰€æŒ‡å®šä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å€¼çš„å¯¹è±¡ã€‚&#x2F;&#x2F;æ¨èä½¿ç”¨</td></tr></tbody></table><h6 id="ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨doubleæ„é€ å™¨åˆ›å»ºBigDecimalå¯¹è±¡"><a href="#ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨doubleæ„é€ å™¨åˆ›å»ºBigDecimalå¯¹è±¡" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨doubleæ„é€ å™¨åˆ›å»ºBigDecimalå¯¹è±¡"></a>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨<code>double</code>æ„é€ å™¨åˆ›å»ºBigDecimalå¯¹è±¡</h6><p>ç¤ºä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">1.2</span>);</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="/2022/03/24/BigDecimal%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/image-20230324173902492.png" alt="image-20230324173902492"></p><p>JDKæºç æ³¨é‡Š</p><p><img src="/2022/03/24/BigDecimal%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/image-20230324173841961.png" alt="image-20230324173841961"></p><p>ç¿»è¯‘</p><blockquote><p>è¯‘æ–‡ï¼šå°†doubleè½¬æ¢ä¸ºBigDecimal, BigDecimalæ˜¯doubleçš„äºŒè¿›åˆ¶æµ®ç‚¹å€¼çš„ç²¾ç¡®åè¿›åˆ¶è¡¨ç¤ºã€‚è¿”å›çš„BigDecimalçš„æ¯”ä¾‹æ˜¯æœ€å°çš„å€¼(10è§„æ¨¡Val)æ˜¯æ•´æ•°ã€‚æ³¨:1. è¿™ä¸ªæ„é€ å‡½æ•°çš„ç»“æœå¯èƒ½æœ‰äº›ä¸å¯é¢„æµ‹ã€‚äººä»¬å¯èƒ½ä¼šè®¤ä¸ºåœ¨Javaä¸­ç¼–å†™æ–°çš„BigDecimal(0.1)ä¼šåˆ›å»ºä¸€ä¸ªå®Œå…¨ç­‰äº0.1çš„BigDecimal(ä¸€ä¸ªæœªç¼©æ”¾çš„å€¼1ï¼Œç¼©æ”¾ä¸º1)ï¼Œä½†å®é™…ä¸Šå®ƒç­‰äº0.1000000000000000055511151231257827021181583404541015625. è¿™æ˜¯å› ä¸º0.1ä¸èƒ½ç²¾ç¡®åœ°è¡¨ç¤ºä¸ºåŒç²¾åº¦æ•°(æˆ–è€…ï¼Œå°±æ­¤è€Œè¨€ï¼Œä¸èƒ½è¡¨ç¤ºä¸ºä»»ä½•æœ‰é™é•¿åº¦çš„äºŒè¿›åˆ¶åˆ†æ•°)ã€‚å› æ­¤ï¼Œä¼ é€’ç»™æ„é€ å‡½æ•°çš„å€¼å¹¶ä¸å®Œå…¨ç­‰äº0.1ï¼Œå°½ç®¡çœ‹èµ·æ¥æ˜¯è¿™æ ·ã€‚2. å¦ä¸€æ–¹é¢ï¼ŒStringæ„é€ å‡½æ•°æ˜¯å®Œå…¨å¯é¢„æµ‹çš„:å†™å…¥new BigDecimal(â€œ0.1â€)å°†åˆ›å»ºä¸€ä¸ªå®Œå…¨ç­‰äº0.1çš„BigDecimalï¼Œæ­£å¦‚äººä»¬æ‰€æœŸæœ›çš„é‚£æ ·ã€‚å› æ­¤ï¼Œé€šå¸¸å»ºè®®ä¼˜å…ˆä½¿ç”¨Stringæ„é€ å‡½æ•°ã€‚3.å½“å¿…é¡»ä½¿ç”¨doubleä½œä¸ºBigDecimalçš„æºæ—¶ï¼Œè¯·æ³¨æ„æ­¤æ„é€ å‡½æ•°æä¾›äº†ç²¾ç¡®çš„è½¬æ¢;å®ƒä¸ä¼šç»™å‡ºä¸ä½¿ç”¨double . tostring (double)æ–¹æ³•ç„¶åä½¿ç”¨BigDecimal(String)å°†doubleè½¬æ¢ä¸ºStringç›¸åŒçš„ç»“æœã€‚æ„é€ å‡½æ•°ã€‚è¦å¾—åˆ°è¿™ä¸ªç»“æœï¼Œä½¿ç”¨é™æ€valueOf(double)æ–¹æ³•ã€‚Parameter: val â€“ double value to be converted to BigDecimal. Throws: NumberFormatException - if val is infinite or NaN.</p></blockquote><p>å¦å¤–ï¼Œå½“ä½ ç”¨äº†éå­—ç¬¦ä¸²æ„é€ åˆ›å»ºäº†ä¸€ä¸ªBigDecimalå¯¹è±¡æ—¶ï¼Œå¦‚æœè¿›è¡Œäº†é™¤è¿ç®—ï¼Œå½“ç»“æœæœ‰ä½™æ•°çš„æ—¶å€™ä¼šæŠ¥<code>java.lang.ArithmeticException</code>è¿™ä¸ªå¼‚å¸¸</p><h5 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h5><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>add(BigDecimal augend)</td><td>åŠ æ³•</td></tr><tr><td>subtract(BigDecimal)</td><td><em>ç›¸å‡</em></td></tr><tr><td>multiply(BigDecimal)</td><td>ç›¸ä¹˜</td></tr><tr><td>divide(BigDecimal)</td><td>é™¤æ³•</td></tr></tbody></table><h5 id="ä¿ç•™å°æ•°"><a href="#ä¿ç•™å°æ•°" class="headerlink" title="ä¿ç•™å°æ•°"></a>ä¿ç•™å°æ•°</h5><p><font color="red">åœ¨è¿›è¡Œé™¤æ³•è¿ç®—çš„æ—¶å€™ï¼Œé’ˆå¯¹å¯èƒ½å‡ºç°çš„å°æ•°äº§ç”Ÿçš„è®¡ç®—ï¼Œå¿…é¡»è¦å¤šä¼ ä¸¤ä¸ªå‚æ•°</font></p><h6 id="ROUND-CEILING"><a href="#ROUND-CEILING" class="headerlink" title="ROUND_CEILING"></a>ROUND_CEILING</h6><p>&#x2F;&#x2F;å‘æ­£æ— ç©·æ–¹å‘èˆå…¥</p><h6 id="ROUND-DOWN"><a href="#ROUND-DOWN" class="headerlink" title="ROUND_DOWN"></a>ROUND_DOWN</h6><p>&#x2F;&#x2F;å‘é›¶æ–¹å‘èˆå…¥</p><h6 id="ROUND-FLOOR"><a href="#ROUND-FLOOR" class="headerlink" title="ROUND_FLOOR"></a>ROUND_FLOOR</h6><p> &#x2F;&#x2F;å‘è´Ÿæ— ç©·æ–¹å‘èˆå…¥</p><h6 id="ROUND-HALF-DOWN"><a href="#ROUND-HALF-DOWN" class="headerlink" title="ROUND_HALF_DOWN"></a>ROUND_HALF_DOWN</h6><p> &#x2F;&#x2F;å‘ï¼ˆè·ç¦»ï¼‰æœ€è¿‘çš„ä¸€è¾¹èˆå…¥ï¼Œé™¤éä¸¤è¾¹ï¼ˆçš„è·ç¦»ï¼‰æ˜¯ç›¸ç­‰,å¦‚æœæ˜¯è¿™æ ·ï¼Œå‘ä¸‹èˆå…¥, ä¾‹å¦‚1.55 ä¿ç•™ä¸€ä½å°æ•°ç»“æœä¸º1.5</p><h6 id="ROUND-HALF-EVEN"><a href="#ROUND-HALF-EVEN" class="headerlink" title="ROUND_HALF_EVEN"></a>ROUND_HALF_EVEN</h6><p>  &#x2F;&#x2F;å‘ï¼ˆè·ç¦»ï¼‰æœ€è¿‘çš„ä¸€è¾¹èˆå…¥ï¼Œé™¤éä¸¤è¾¹ï¼ˆçš„è·ç¦»ï¼‰æ˜¯ç›¸ç­‰,å¦‚æœæ˜¯è¿™æ ·ï¼Œå¦‚æœä¿ç•™ä½æ•°æ˜¯å¥‡æ•°ï¼Œä½¿ç”¨ROUND_HALF_UPï¼Œå¦‚æœæ˜¯å¶æ•°ï¼Œä½¿ç”¨ROUND_HALF_DOWN</p><h6 id="ROUND-HALF-UP"><a href="#ROUND-HALF-UP" class="headerlink" title="ROUND_HALF_UP"></a>ROUND_HALF_UP</h6><p> &#x2F;&#x2F;å‘ï¼ˆè·ç¦»ï¼‰æœ€è¿‘çš„ä¸€è¾¹èˆå…¥ï¼Œé™¤éä¸¤è¾¹ï¼ˆçš„è·ç¦»ï¼‰æ˜¯ç›¸ç­‰,å¦‚æœæ˜¯è¿™æ ·ï¼Œå‘ä¸Šèˆå…¥, 1.55ä¿ç•™ä¸€ä½å°æ•°ç»“æœä¸º1.6,ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œå››èˆäº”å…¥â€</p><h6 id="ROUND-UNNECESSARY"><a href="#ROUND-UNNECESSARY" class="headerlink" title="ROUND_UNNECESSARY"></a>ROUND_UNNECESSARY</h6><p>&#x2F;&#x2F;è®¡ç®—ç»“æœæ˜¯ç²¾ç¡®çš„ï¼Œä¸éœ€è¦èˆå…¥æ¨¡å¼</p><h6 id="ROUND-UP"><a href="#ROUND-UP" class="headerlink" title="ROUND_UP"></a>ROUND_UP</h6><p> &#x2F;&#x2F;å‘è¿œç¦»0çš„æ–¹å‘èˆå…¥</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> BigDecimal </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
